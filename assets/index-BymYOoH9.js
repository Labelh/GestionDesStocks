var w$=Object.defineProperty;var b$=(e,t,r)=>t in e?w$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sn=(e,t,r)=>b$(e,typeof t!="symbol"?t+"":t,r);function dP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _$(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var pP={exports:{}},qv={},gP={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=Symbol.for("react.element"),E$=Symbol.for("react.portal"),S$=Symbol.for("react.fragment"),A$=Symbol.for("react.strict_mode"),C$=Symbol.for("react.profiler"),T$=Symbol.for("react.provider"),O$=Symbol.for("react.context"),k$=Symbol.for("react.forward_ref"),N$=Symbol.for("react.suspense"),P$=Symbol.for("react.memo"),I$=Symbol.for("react.lazy"),oC=Symbol.iterator;function R$(e){return e===null||typeof e!="object"?null:(e=oC&&e[oC]||e["@@iterator"],typeof e=="function"?e:null)}var mP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vP=Object.assign,xP={};function sd(e,t,r){this.props=e,this.context=t,this.refs=xP,this.updater=r||mP}sd.prototype.isReactComponent={};sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yP(){}yP.prototype=sd.prototype;function c3(e,t,r){this.props=e,this.context=t,this.refs=xP,this.updater=r||mP}var u3=c3.prototype=new yP;u3.constructor=c3;vP(u3,sd.prototype);u3.isPureReactComponent=!0;var sC=Array.isArray,wP=Object.prototype.hasOwnProperty,f3={current:null},bP={key:!0,ref:!0,__self:!0,__source:!0};function _P(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)wP.call(t,n)&&!bP.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Lp,type:e,key:a,ref:o,props:i,_owner:f3.current}}function L$(e,t){return{$$typeof:Lp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lp}function D$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lC=/\/+/g;function qy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D$(""+e.key):t.toString(36)}function Um(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Lp:case E$:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+qy(o,0):n,sC(i)?(r="",e!=null&&(r=e.replace(lC,"$&/")+"/"),Um(i,t,r,"",function(u){return u})):i!=null&&(h3(i)&&(i=L$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lC,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",sC(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+qy(a,s);o+=Um(a,t,r,c,i)}else if(c=R$(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+qy(a,s++),o+=Um(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(e,t,r){if(e==null)return e;var n=[],i=0;return Um(e,n,"","",function(a){return t.call(r,a,i++)}),n}function j$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var uo={current:null},$m={transition:null},M$={ReactCurrentDispatcher:uo,ReactCurrentBatchConfig:$m,ReactCurrentOwner:f3};function EP(){throw Error("act(...) is not supported in production builds of React.")}qr.Children={map:jg,forEach:function(e,t,r){jg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!h3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qr.Component=sd;qr.Fragment=S$;qr.Profiler=C$;qr.PureComponent=c3;qr.StrictMode=A$;qr.Suspense=N$;qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M$;qr.act=EP;qr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vP({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=f3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)wP.call(t,c)&&!bP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Lp,type:e.type,key:i,ref:a,props:n,_owner:o}};qr.createContext=function(e){return e={$$typeof:O$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T$,_context:e},e.Consumer=e};qr.createElement=_P;qr.createFactory=function(e){var t=_P.bind(null,e);return t.type=e,t};qr.createRef=function(){return{current:null}};qr.forwardRef=function(e){return{$$typeof:k$,render:e}};qr.isValidElement=h3;qr.lazy=function(e){return{$$typeof:I$,_payload:{_status:-1,_result:e},_init:j$}};qr.memo=function(e,t){return{$$typeof:P$,type:e,compare:t===void 0?null:t}};qr.startTransition=function(e){var t=$m.transition;$m.transition={};try{e()}finally{$m.transition=t}};qr.unstable_act=EP;qr.useCallback=function(e,t){return uo.current.useCallback(e,t)};qr.useContext=function(e){return uo.current.useContext(e)};qr.useDebugValue=function(){};qr.useDeferredValue=function(e){return uo.current.useDeferredValue(e)};qr.useEffect=function(e,t){return uo.current.useEffect(e,t)};qr.useId=function(){return uo.current.useId()};qr.useImperativeHandle=function(e,t,r){return uo.current.useImperativeHandle(e,t,r)};qr.useInsertionEffect=function(e,t){return uo.current.useInsertionEffect(e,t)};qr.useLayoutEffect=function(e,t){return uo.current.useLayoutEffect(e,t)};qr.useMemo=function(e,t){return uo.current.useMemo(e,t)};qr.useReducer=function(e,t,r){return uo.current.useReducer(e,t,r)};qr.useRef=function(e){return uo.current.useRef(e)};qr.useState=function(e){return uo.current.useState(e)};qr.useSyncExternalStore=function(e,t,r){return uo.current.useSyncExternalStore(e,t,r)};qr.useTransition=function(){return uo.current.useTransition()};qr.version="18.3.1";gP.exports=qr;var L=gP.exports;const Vu=bl(L),SP=dP({__proto__:null,default:Vu},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$=L,B$=Symbol.for("react.element"),U$=Symbol.for("react.fragment"),$$=Object.prototype.hasOwnProperty,W$=F$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z$={key:!0,ref:!0,__self:!0,__source:!0};function AP(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$$.call(t,n)&&!z$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:B$,type:e,key:a,ref:o,props:i,_owner:W$.current}}qv.Fragment=U$;qv.jsx=AP;qv.jsxs=AP;pP.exports=qv;var y=pP.exports,Mb={},CP={exports:{}},gs={},TP={exports:{}},OP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,_e){var $e=we.length;we.push(_e);e:for(;0<$e;){var We=$e-1>>>1,j=we[We];if(0<i(j,_e))we[We]=_e,we[$e]=j,$e=We;else break e}}function r(we){return we.length===0?null:we[0]}function n(we){if(we.length===0)return null;var _e=we[0],$e=we.pop();if($e!==_e){we[0]=$e;e:for(var We=0,j=we.length,Y=j>>>1;We<Y;){var H=2*(We+1)-1,X=we[H],ne=H+1,Oe=we[ne];if(0>i(X,$e))ne<j&&0>i(Oe,X)?(we[We]=Oe,we[ne]=$e,We=ne):(we[We]=X,we[H]=$e,We=H);else if(ne<j&&0>i(Oe,$e))we[We]=Oe,we[ne]=$e,We=ne;else break e}}return _e}function i(we,_e){var $e=we.sortIndex-_e.sortIndex;return $e!==0?$e:we.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],h=1,p=null,v=3,g=!1,_=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(we){for(var _e=r(u);_e!==null;){if(_e.callback===null)n(u);else if(_e.startTime<=we)n(u),_e.sortIndex=_e.expirationTime,t(c,_e);else break;_e=r(u)}}function k(we){if(b=!1,O(we),!_)if(r(c)!==null)_=!0,Re(D);else{var _e=r(u);_e!==null&&ke(k,_e.startTime-we)}}function D(we,_e){_=!1,b&&(b=!1,S(q),q=-1),g=!0;var $e=v;try{for(O(_e),p=r(c);p!==null&&(!(p.expirationTime>_e)||we&&!W());){var We=p.callback;if(typeof We=="function"){p.callback=null,v=p.priorityLevel;var j=We(p.expirationTime<=_e);_e=e.unstable_now(),typeof j=="function"?p.callback=j:p===r(c)&&n(c),O(_e)}else n(c);p=r(c)}if(p!==null)var Y=!0;else{var H=r(u);H!==null&&ke(k,H.startTime-_e),Y=!1}return Y}finally{p=null,v=$e,g=!1}}var z=!1,F=null,q=-1,B=5,ee=-1;function W(){return!(e.unstable_now()-ee<B)}function U(){if(F!==null){var we=e.unstable_now();ee=we;var _e=!0;try{_e=F(!0,we)}finally{_e?K():(z=!1,F=null)}}else z=!1}var K;if(typeof T=="function")K=function(){T(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=U,K=function(){ae.postMessage(null)}}else K=function(){E(U,0)};function Re(we){F=we,z||(z=!0,K())}function ke(we,_e){q=E(function(){we(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,Re(D))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(we){switch(v){case 1:case 2:case 3:var _e=3;break;default:_e=v}var $e=v;v=_e;try{return we()}finally{v=$e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,_e){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var $e=v;v=we;try{return _e()}finally{v=$e}},e.unstable_scheduleCallback=function(we,_e,$e){var We=e.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?We+$e:We):$e=We,we){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$e+j,we={id:h++,callback:_e,priorityLevel:we,startTime:$e,expirationTime:j,sortIndex:-1},$e>We?(we.sortIndex=$e,t(u,we),r(c)===null&&we===r(u)&&(b?(S(q),q=-1):b=!0,ke(k,$e-We))):(we.sortIndex=j,t(c,we),_||g||(_=!0,Re(D))),we},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(we){var _e=v;return function(){var $e=v;v=_e;try{return we.apply(this,arguments)}finally{v=$e}}}})(OP);TP.exports=OP;var H$=TP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V$=L,us=H$;function It(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kP=new Set,q1={};function vh(e,t){B0(e,t),B0(e+"Capture",t)}function B0(e,t){for(q1[e]=t,e=0;e<t.length;e++)kP.add(t[e])}var jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fb=Object.prototype.hasOwnProperty,q$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cC={},uC={};function G$(e){return Fb.call(uC,e)?!0:Fb.call(cC,e)?!1:q$.test(e)?uC[e]=!0:(cC[e]=!0,!1)}function K$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X$(e,t,r,n){if(t===null||typeof t>"u"||K$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fo(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Na={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Na[e]=new fo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Na[t]=new fo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Na[e]=new fo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Na[e]=new fo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Na[e]=new fo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Na[e]=new fo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Na[e]=new fo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Na[e]=new fo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Na[e]=new fo(e,5,!1,e.toLowerCase(),null,!1,!1)});var d3=/[\-:]([a-z])/g;function p3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d3,p3);Na[t]=new fo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d3,p3);Na[t]=new fo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d3,p3);Na[t]=new fo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Na[e]=new fo(e,1,!1,e.toLowerCase(),null,!1,!1)});Na.xlinkHref=new fo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Na[e]=new fo(e,1,!1,e.toLowerCase(),null,!0,!0)});function g3(e,t,r,n){var i=Na.hasOwnProperty(t)?Na[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X$(t,r,i,n)&&(r=null),n||i===null?G$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gc=V$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mg=Symbol.for("react.element"),i0=Symbol.for("react.portal"),a0=Symbol.for("react.fragment"),m3=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),NP=Symbol.for("react.provider"),PP=Symbol.for("react.context"),v3=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),x3=Symbol.for("react.memo"),yu=Symbol.for("react.lazy"),IP=Symbol.for("react.offscreen"),fC=Symbol.iterator;function Wd(e){return e===null||typeof e!="object"?null:(e=fC&&e[fC]||e["@@iterator"],typeof e=="function"?e:null)}var ni=Object.assign,Gy;function d1(e){if(Gy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gy=t&&t[1]||""}return`
`+Gy+e}var Ky=!1;function Xy(e,t){if(!e||Ky)return"";Ky=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Ky=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?d1(e):""}function Y$(e){switch(e.tag){case 5:return d1(e.type);case 16:return d1("Lazy");case 13:return d1("Suspense");case 19:return d1("SuspenseList");case 0:case 2:case 15:return e=Xy(e.type,!1),e;case 11:return e=Xy(e.type.render,!1),e;case 1:return e=Xy(e.type,!0),e;default:return""}}function Wb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case a0:return"Fragment";case i0:return"Portal";case Bb:return"Profiler";case m3:return"StrictMode";case Ub:return"Suspense";case $b:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PP:return(e.displayName||"Context")+".Consumer";case NP:return(e._context.displayName||"Context")+".Provider";case v3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x3:return t=e.displayName||null,t!==null?t:Wb(e.type)||"Memo";case yu:t=e._payload,e=e._init;try{return Wb(e(t))}catch{}}return null}function Z$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wb(t);case 8:return t===m3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J$(e){var t=RP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fg(e){e._valueTracker||(e._valueTracker=J$(e))}function LP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function c2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zb(e,t){var r=t.checked;return ni({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DP(e,t){t=t.checked,t!=null&&g3(e,"checked",t,!1)}function Hb(e,t){DP(e,t);var r=qu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vb(e,t.type,qu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vb(e,t,r){(t!=="number"||c2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var p1=Array.isArray;function w0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(It(91));return ni({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(It(92));if(p1(r)){if(1<r.length)throw Error(It(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qu(r)}}function jP(e,t){var r=qu(t.value),n=qu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bg,FP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bg=Bg||document.createElement("div"),Bg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function G1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q$=["Webkit","ms","Moz","O"];Object.keys(_1).forEach(function(e){Q$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_1[t]=_1[e]})});function BP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_1.hasOwnProperty(e)&&_1[e]?(""+t).trim():t+"px"}function UP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=BP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var eW=ni({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kb(e,t){if(t){if(eW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(It(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(It(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(It(61))}if(t.style!=null&&typeof t.style!="object")throw Error(It(62))}}function Xb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yb=null;function y3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zb=null,b0=null,_0=null;function mC(e){if(e=Mp(e)){if(typeof Zb!="function")throw Error(It(280));var t=e.stateNode;t&&(t=Zv(t),Zb(e.stateNode,e.type,t))}}function $P(e){b0?_0?_0.push(e):_0=[e]:b0=e}function WP(){if(b0){var e=b0,t=_0;if(_0=b0=null,mC(e),t)for(e=0;e<t.length;e++)mC(t[e])}}function zP(e,t){return e(t)}function HP(){}var Yy=!1;function VP(e,t,r){if(Yy)return e(t,r);Yy=!0;try{return zP(e,t,r)}finally{Yy=!1,(b0!==null||_0!==null)&&(HP(),WP())}}function K1(e,t){var r=e.stateNode;if(r===null)return null;var n=Zv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(It(231,t,typeof r));return r}var Jb=!1;if(jc)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){Jb=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Jb=!1}function tW(e,t,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var E1=!1,u2=null,f2=!1,Qb=null,rW={onError:function(e){E1=!0,u2=e}};function nW(e,t,r,n,i,a,o,s,c){E1=!1,u2=null,tW.apply(rW,arguments)}function iW(e,t,r,n,i,a,o,s,c){if(nW.apply(this,arguments),E1){if(E1){var u=u2;E1=!1,u2=null}else throw Error(It(198));f2||(f2=!0,Qb=u)}}function xh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vC(e){if(xh(e)!==e)throw Error(It(188))}function aW(e){var t=e.alternate;if(!t){if(t=xh(e),t===null)throw Error(It(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return vC(i),e;if(a===n)return vC(i),t;a=a.sibling}throw Error(It(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?e:t}function GP(e){return e=aW(e),e!==null?KP(e):null}function KP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KP(e);if(t!==null)return t;e=e.sibling}return null}var XP=us.unstable_scheduleCallback,xC=us.unstable_cancelCallback,oW=us.unstable_shouldYield,sW=us.unstable_requestPaint,yi=us.unstable_now,lW=us.unstable_getCurrentPriorityLevel,w3=us.unstable_ImmediatePriority,YP=us.unstable_UserBlockingPriority,h2=us.unstable_NormalPriority,cW=us.unstable_LowPriority,ZP=us.unstable_IdlePriority,Gv=null,$l=null;function uW(e){if($l&&typeof $l.onCommitFiberRoot=="function")try{$l.onCommitFiberRoot(Gv,e,void 0,(e.current.flags&128)===128)}catch{}}var ml=Math.clz32?Math.clz32:dW,fW=Math.log,hW=Math.LN2;function dW(e){return e>>>=0,e===0?32:31-(fW(e)/hW|0)|0}var Ug=64,$g=4194304;function g1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function d2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=g1(s):(a&=o,a!==0&&(n=g1(a)))}else o=r&~i,o!==0?n=g1(o):a!==0&&(n=g1(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ml(t),i=1<<r,n|=e[r],t&=~i;return n}function pW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gW(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ml(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=pW(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function e5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JP(){var e=Ug;return Ug<<=1,!(Ug&4194240)&&(Ug=64),e}function Zy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ml(t),e[t]=r}function mW(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ml(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function b3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ml(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xn=0;function QP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eI,_3,tI,rI,nI,t5=!1,Wg=[],Ru=null,Lu=null,Du=null,X1=new Map,Y1=new Map,Eu=[],vW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yC(e,t){switch(e){case"focusin":case"focusout":Ru=null;break;case"dragenter":case"dragleave":Lu=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":X1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Y1.delete(t.pointerId)}}function Hd(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mp(t),t!==null&&_3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xW(e,t,r,n,i){switch(t){case"focusin":return Ru=Hd(Ru,e,t,r,n,i),!0;case"dragenter":return Lu=Hd(Lu,e,t,r,n,i),!0;case"mouseover":return Du=Hd(Du,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return X1.set(a,Hd(X1.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Y1.set(a,Hd(Y1.get(a)||null,e,t,r,n,i)),!0}return!1}function iI(e){var t=Ff(e.target);if(t!==null){var r=xh(t);if(r!==null){if(t=r.tag,t===13){if(t=qP(r),t!==null){e.blockedOn=t,nI(e.priority,function(){tI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=r5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yb=n,r.target.dispatchEvent(n),Yb=null}else return t=Mp(r),t!==null&&_3(t),e.blockedOn=r,!1;t.shift()}return!0}function wC(e,t,r){Wm(e)&&r.delete(t)}function yW(){t5=!1,Ru!==null&&Wm(Ru)&&(Ru=null),Lu!==null&&Wm(Lu)&&(Lu=null),Du!==null&&Wm(Du)&&(Du=null),X1.forEach(wC),Y1.forEach(wC)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,t5||(t5=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,yW)))}function Z1(e){function t(i){return Vd(i,e)}if(0<Wg.length){Vd(Wg[0],e);for(var r=1;r<Wg.length;r++){var n=Wg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ru!==null&&Vd(Ru,e),Lu!==null&&Vd(Lu,e),Du!==null&&Vd(Du,e),X1.forEach(t),Y1.forEach(t),r=0;r<Eu.length;r++)n=Eu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Eu.length&&(r=Eu[0],r.blockedOn===null);)iI(r),r.blockedOn===null&&Eu.shift()}var E0=Gc.ReactCurrentBatchConfig,p2=!0;function wW(e,t,r,n){var i=xn,a=E0.transition;E0.transition=null;try{xn=1,E3(e,t,r,n)}finally{xn=i,E0.transition=a}}function bW(e,t,r,n){var i=xn,a=E0.transition;E0.transition=null;try{xn=4,E3(e,t,r,n)}finally{xn=i,E0.transition=a}}function E3(e,t,r,n){if(p2){var i=r5(e,t,r,n);if(i===null)sw(e,t,n,g2,r),yC(e,n);else if(xW(i,e,t,r,n))n.stopPropagation();else if(yC(e,n),t&4&&-1<vW.indexOf(e)){for(;i!==null;){var a=Mp(i);if(a!==null&&eI(a),a=r5(e,t,r,n),a===null&&sw(e,t,n,g2,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else sw(e,t,n,null,r)}}var g2=null;function r5(e,t,r,n){if(g2=null,e=y3(n),e=Ff(e),e!==null)if(t=xh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return g2=e,null}function aI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lW()){case w3:return 1;case YP:return 4;case h2:case cW:return 16;case ZP:return 536870912;default:return 16}default:return 16}}var Tu=null,S3=null,zm=null;function oI(){if(zm)return zm;var e,t=S3,r=t.length,n,i="value"in Tu?Tu.value:Tu.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return zm=i.slice(e,1<n?1-n:void 0)}function Hm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zg(){return!0}function bC(){return!1}function ms(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zg:bC,this.isPropagationStopped=bC,this}return ni(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zg)},persist:function(){},isPersistent:zg}),t}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A3=ms(ld),jp=ni({},ld,{view:0,detail:0}),_W=ms(jp),Jy,Qy,qd,Kv=ni({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(Jy=e.screenX-qd.screenX,Qy=e.screenY-qd.screenY):Qy=Jy=0,qd=e),Jy)},movementY:function(e){return"movementY"in e?e.movementY:Qy}}),_C=ms(Kv),EW=ni({},Kv,{dataTransfer:0}),SW=ms(EW),AW=ni({},jp,{relatedTarget:0}),ew=ms(AW),CW=ni({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),TW=ms(CW),OW=ni({},ld,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kW=ms(OW),NW=ni({},ld,{data:0}),EC=ms(NW),PW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RW[e])?!!t[e]:!1}function C3(){return LW}var DW=ni({},jp,{key:function(e){if(e.key){var t=PW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C3,charCode:function(e){return e.type==="keypress"?Hm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jW=ms(DW),MW=ni({},Kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SC=ms(MW),FW=ni({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C3}),BW=ms(FW),UW=ni({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),$W=ms(UW),WW=ni({},Kv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zW=ms(WW),HW=[9,13,27,32],T3=jc&&"CompositionEvent"in window,S1=null;jc&&"documentMode"in document&&(S1=document.documentMode);var VW=jc&&"TextEvent"in window&&!S1,sI=jc&&(!T3||S1&&8<S1&&11>=S1),AC=" ",CC=!1;function lI(e,t){switch(e){case"keyup":return HW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var o0=!1;function qW(e,t){switch(e){case"compositionend":return cI(t);case"keypress":return t.which!==32?null:(CC=!0,AC);case"textInput":return e=t.data,e===AC&&CC?null:e;default:return null}}function GW(e,t){if(o0)return e==="compositionend"||!T3&&lI(e,t)?(e=oI(),zm=S3=Tu=null,o0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sI&&t.locale!=="ko"?null:t.data;default:return null}}var KW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KW[e.type]:t==="textarea"}function uI(e,t,r,n){$P(n),t=m2(t,"onChange"),0<t.length&&(r=new A3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var A1=null,J1=null;function XW(e){bI(e,0)}function Xv(e){var t=c0(e);if(LP(t))return e}function YW(e,t){if(e==="change")return t}var fI=!1;if(jc){var tw;if(jc){var rw="oninput"in document;if(!rw){var OC=document.createElement("div");OC.setAttribute("oninput","return;"),rw=typeof OC.oninput=="function"}tw=rw}else tw=!1;fI=tw&&(!document.documentMode||9<document.documentMode)}function kC(){A1&&(A1.detachEvent("onpropertychange",hI),J1=A1=null)}function hI(e){if(e.propertyName==="value"&&Xv(J1)){var t=[];uI(t,J1,e,y3(e)),VP(XW,t)}}function ZW(e,t,r){e==="focusin"?(kC(),A1=t,J1=r,A1.attachEvent("onpropertychange",hI)):e==="focusout"&&kC()}function JW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xv(J1)}function QW(e,t){if(e==="click")return Xv(t)}function ez(e,t){if(e==="input"||e==="change")return Xv(t)}function tz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yl=typeof Object.is=="function"?Object.is:tz;function Q1(e,t){if(yl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fb.call(t,i)||!yl(e[i],t[i]))return!1}return!0}function NC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PC(e,t){var r=NC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=NC(r)}}function dI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pI(){for(var e=window,t=c2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=c2(e.document)}return t}function O3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rz(e){var t=pI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dI(r.ownerDocument.documentElement,r)){if(n!==null&&O3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=PC(r,a);var o=PC(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nz=jc&&"documentMode"in document&&11>=document.documentMode,s0=null,n5=null,C1=null,i5=!1;function IC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i5||s0==null||s0!==c2(n)||(n=s0,"selectionStart"in n&&O3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),C1&&Q1(C1,n)||(C1=n,n=m2(n5,"onSelect"),0<n.length&&(t=new A3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=s0)))}function Hg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var l0={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},nw={},gI={};jc&&(gI=document.createElement("div").style,"AnimationEvent"in window||(delete l0.animationend.animation,delete l0.animationiteration.animation,delete l0.animationstart.animation),"TransitionEvent"in window||delete l0.transitionend.transition);function Yv(e){if(nw[e])return nw[e];if(!l0[e])return e;var t=l0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gI)return nw[e]=t[r];return e}var mI=Yv("animationend"),vI=Yv("animationiteration"),xI=Yv("animationstart"),yI=Yv("transitionend"),wI=new Map,RC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nf(e,t){wI.set(e,t),vh(t,[e])}for(var iw=0;iw<RC.length;iw++){var aw=RC[iw],iz=aw.toLowerCase(),az=aw[0].toUpperCase()+aw.slice(1);nf(iz,"on"+az)}nf(mI,"onAnimationEnd");nf(vI,"onAnimationIteration");nf(xI,"onAnimationStart");nf("dblclick","onDoubleClick");nf("focusin","onFocus");nf("focusout","onBlur");nf(yI,"onTransitionEnd");B0("onMouseEnter",["mouseout","mouseover"]);B0("onMouseLeave",["mouseout","mouseover"]);B0("onPointerEnter",["pointerout","pointerover"]);B0("onPointerLeave",["pointerout","pointerover"]);vh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vh("onBeforeInput",["compositionend","keypress","textInput","paste"]);vh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oz=new Set("cancel close invalid load scroll toggle".split(" ").concat(m1));function LC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iW(n,t,void 0,e),e.currentTarget=null}function bI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;LC(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;LC(i,s,u),a=c}}}if(f2)throw e=Qb,f2=!1,Qb=null,e}function Mn(e,t){var r=t[c5];r===void 0&&(r=t[c5]=new Set);var n=e+"__bubble";r.has(n)||(_I(t,e,2,!1),r.add(n))}function ow(e,t,r){var n=0;t&&(n|=4),_I(r,e,n,t)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function ep(e){if(!e[Vg]){e[Vg]=!0,kP.forEach(function(r){r!=="selectionchange"&&(oz.has(r)||ow(r,!1,e),ow(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vg]||(t[Vg]=!0,ow("selectionchange",!1,t))}}function _I(e,t,r,n){switch(aI(t)){case 1:var i=wW;break;case 4:i=bW;break;default:i=E3}r=i.bind(null,t,r,e),i=void 0,!Jb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function sw(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ff(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}VP(function(){var u=a,h=y3(r),p=[];e:{var v=wI.get(e);if(v!==void 0){var g=A3,_=e;switch(e){case"keypress":if(Hm(r)===0)break e;case"keydown":case"keyup":g=jW;break;case"focusin":_="focus",g=ew;break;case"focusout":_="blur",g=ew;break;case"beforeblur":case"afterblur":g=ew;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_C;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BW;break;case mI:case vI:case xI:g=TW;break;case yI:g=$W;break;case"scroll":g=_W;break;case"wheel":g=zW;break;case"copy":case"cut":case"paste":g=kW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SC}var b=(t&4)!==0,E=!b&&e==="scroll",S=b?v!==null?v+"Capture":null:v;b=[];for(var T=u,O;T!==null;){O=T;var k=O.stateNode;if(O.tag===5&&k!==null&&(O=k,S!==null&&(k=K1(T,S),k!=null&&b.push(tp(T,k,O)))),E)break;T=T.return}0<b.length&&(v=new g(v,_,null,r,h),p.push({event:v,listeners:b}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",v&&r!==Yb&&(_=r.relatedTarget||r.fromElement)&&(Ff(_)||_[Mc]))break e;if((g||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=u,_=_?Ff(_):null,_!==null&&(E=xh(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(b=_C,k="onMouseLeave",S="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(b=SC,k="onPointerLeave",S="onPointerEnter",T="pointer"),E=g==null?v:c0(g),O=_==null?v:c0(_),v=new b(k,T+"leave",g,r,h),v.target=E,v.relatedTarget=O,k=null,Ff(h)===u&&(b=new b(S,T+"enter",_,r,h),b.target=O,b.relatedTarget=E,k=b),E=k,g&&_)t:{for(b=g,S=_,T=0,O=b;O;O=jh(O))T++;for(O=0,k=S;k;k=jh(k))O++;for(;0<T-O;)b=jh(b),T--;for(;0<O-T;)S=jh(S),O--;for(;T--;){if(b===S||S!==null&&b===S.alternate)break t;b=jh(b),S=jh(S)}b=null}else b=null;g!==null&&DC(p,v,g,b,!1),_!==null&&E!==null&&DC(p,E,_,b,!0)}}e:{if(v=u?c0(u):window,g=v.nodeName&&v.nodeName.toLowerCase(),g==="select"||g==="input"&&v.type==="file")var D=YW;else if(TC(v))if(fI)D=ez;else{D=JW;var z=ZW}else(g=v.nodeName)&&g.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=QW);if(D&&(D=D(e,u))){uI(p,D,r,h);break e}z&&z(e,v,u),e==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&Vb(v,"number",v.value)}switch(z=u?c0(u):window,e){case"focusin":(TC(z)||z.contentEditable==="true")&&(s0=z,n5=u,C1=null);break;case"focusout":C1=n5=s0=null;break;case"mousedown":i5=!0;break;case"contextmenu":case"mouseup":case"dragend":i5=!1,IC(p,r,h);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":IC(p,r,h)}var F;if(T3)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else o0?lI(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(sI&&r.locale!=="ko"&&(o0||q!=="onCompositionStart"?q==="onCompositionEnd"&&o0&&(F=oI()):(Tu=h,S3="value"in Tu?Tu.value:Tu.textContent,o0=!0)),z=m2(u,q),0<z.length&&(q=new EC(q,e,null,r,h),p.push({event:q,listeners:z}),F?q.data=F:(F=cI(r),F!==null&&(q.data=F)))),(F=VW?qW(e,r):GW(e,r))&&(u=m2(u,"onBeforeInput"),0<u.length&&(h=new EC("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=F))}bI(p,t)})}function tp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function m2(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=K1(e,r),a!=null&&n.unshift(tp(e,a,i)),a=K1(e,t),a!=null&&n.push(tp(e,a,i))),e=e.return}return n}function jh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DC(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=K1(r,a),c!=null&&o.unshift(tp(r,c,s))):i||(c=K1(r,a),c!=null&&o.push(tp(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sz=/\r\n?/g,lz=/\u0000|\uFFFD/g;function jC(e){return(typeof e=="string"?e:""+e).replace(sz,`
`).replace(lz,"")}function qg(e,t,r){if(t=jC(t),jC(e)!==t&&r)throw Error(It(425))}function v2(){}var a5=null,o5=null;function s5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l5=typeof setTimeout=="function"?setTimeout:void 0,cz=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,uz=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(e){return MC.resolve(null).then(e).catch(fz)}:l5;function fz(e){setTimeout(function(){throw e})}function lw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Z1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Z1(t)}function ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function FC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cd=Math.random().toString(36).slice(2),Ml="__reactFiber$"+cd,rp="__reactProps$"+cd,Mc="__reactContainer$"+cd,c5="__reactEvents$"+cd,hz="__reactListeners$"+cd,dz="__reactHandles$"+cd;function Ff(e){var t=e[Ml];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mc]||r[Ml]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=FC(e);e!==null;){if(r=e[Ml])return r;e=FC(e)}return t}e=r,r=e.parentNode}return null}function Mp(e){return e=e[Ml]||e[Mc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function c0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(It(33))}function Zv(e){return e[rp]||null}var u5=[],u0=-1;function af(e){return{current:e}}function $n(e){0>u0||(e.current=u5[u0],u5[u0]=null,u0--)}function Rn(e,t){u0++,u5[u0]=e.current,e.current=t}var Gu={},Ya=af(Gu),Ao=af(!1),th=Gu;function U0(e,t){var r=e.type.contextTypes;if(!r)return Gu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Co(e){return e=e.childContextTypes,e!=null}function x2(){$n(Ao),$n(Ya)}function BC(e,t,r){if(Ya.current!==Gu)throw Error(It(168));Rn(Ya,t),Rn(Ao,r)}function EI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(It(108,Z$(e)||"Unknown",i));return ni({},r,n)}function y2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gu,th=Ya.current,Rn(Ya,e),Rn(Ao,Ao.current),!0}function UC(e,t,r){var n=e.stateNode;if(!n)throw Error(It(169));r?(e=EI(e,t,th),n.__reactInternalMemoizedMergedChildContext=e,$n(Ao),$n(Ya),Rn(Ya,e)):$n(Ao),Rn(Ao,r)}var wc=null,Jv=!1,cw=!1;function SI(e){wc===null?wc=[e]:wc.push(e)}function pz(e){Jv=!0,SI(e)}function of(){if(!cw&&wc!==null){cw=!0;var e=0,t=xn;try{var r=wc;for(xn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wc=null,Jv=!1}catch(i){throw wc!==null&&(wc=wc.slice(e+1)),XP(w3,of),i}finally{xn=t,cw=!1}}return null}var f0=[],h0=0,w2=null,b2=0,Is=[],Rs=0,rh=null,Sc=1,Ac="";function Tf(e,t){f0[h0++]=b2,f0[h0++]=w2,w2=e,b2=t}function AI(e,t,r){Is[Rs++]=Sc,Is[Rs++]=Ac,Is[Rs++]=rh,rh=e;var n=Sc;e=Ac;var i=32-ml(n)-1;n&=~(1<<i),r+=1;var a=32-ml(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Sc=1<<32-ml(t)+i|r<<i|n,Ac=a+e}else Sc=1<<a|r<<i|n,Ac=e}function k3(e){e.return!==null&&(Tf(e,1),AI(e,1,0))}function N3(e){for(;e===w2;)w2=f0[--h0],f0[h0]=null,b2=f0[--h0],f0[h0]=null;for(;e===rh;)rh=Is[--Rs],Is[Rs]=null,Ac=Is[--Rs],Is[Rs]=null,Sc=Is[--Rs],Is[Rs]=null}var ls=null,os=null,Kn=!1,fl=null;function CI(e,t){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $C(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ls=e,os=ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ls=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rh!==null?{id:Sc,overflow:Ac}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ls=e,os=null,!0):!1;default:return!1}}function f5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function h5(e){if(Kn){var t=os;if(t){var r=t;if(!$C(e,t)){if(f5(e))throw Error(It(418));t=ju(r.nextSibling);var n=ls;t&&$C(e,t)?CI(n,r):(e.flags=e.flags&-4097|2,Kn=!1,ls=e)}}else{if(f5(e))throw Error(It(418));e.flags=e.flags&-4097|2,Kn=!1,ls=e}}}function WC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ls=e}function Gg(e){if(e!==ls)return!1;if(!Kn)return WC(e),Kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!s5(e.type,e.memoizedProps)),t&&(t=os)){if(f5(e))throw TI(),Error(It(418));for(;t;)CI(e,t),t=ju(t.nextSibling)}if(WC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(It(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){os=ju(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}os=null}}else os=ls?ju(e.stateNode.nextSibling):null;return!0}function TI(){for(var e=os;e;)e=ju(e.nextSibling)}function $0(){os=ls=null,Kn=!1}function P3(e){fl===null?fl=[e]:fl.push(e)}var gz=Gc.ReactCurrentBatchConfig;function Gd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,e))}return e}function Kg(e,t){throw e=Object.prototype.toString.call(t),Error(It(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zC(e){var t=e._init;return t(e._payload)}function OI(e){function t(S,T){if(e){var O=S.deletions;O===null?(S.deletions=[T],S.flags|=16):O.push(T)}}function r(S,T){if(!e)return null;for(;T!==null;)t(S,T),T=T.sibling;return null}function n(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Uu(S,T),S.index=0,S.sibling=null,S}function a(S,T,O){return S.index=O,e?(O=S.alternate,O!==null?(O=O.index,O<T?(S.flags|=2,T):O):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function s(S,T,O,k){return T===null||T.tag!==6?(T=mw(O,S.mode,k),T.return=S,T):(T=i(T,O),T.return=S,T)}function c(S,T,O,k){var D=O.type;return D===a0?h(S,T,O.props.children,k,O.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yu&&zC(D)===T.type)?(k=i(T,O.props),k.ref=Gd(S,T,O),k.return=S,k):(k=Zm(O.type,O.key,O.props,null,S.mode,k),k.ref=Gd(S,T,O),k.return=S,k)}function u(S,T,O,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=vw(O,S.mode,k),T.return=S,T):(T=i(T,O.children||[]),T.return=S,T)}function h(S,T,O,k,D){return T===null||T.tag!==7?(T=Gf(O,S.mode,k,D),T.return=S,T):(T=i(T,O),T.return=S,T)}function p(S,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=mw(""+T,S.mode,O),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mg:return O=Zm(T.type,T.key,T.props,null,S.mode,O),O.ref=Gd(S,null,T),O.return=S,O;case i0:return T=vw(T,S.mode,O),T.return=S,T;case yu:var k=T._init;return p(S,k(T._payload),O)}if(p1(T)||Wd(T))return T=Gf(T,S.mode,O,null),T.return=S,T;Kg(S,T)}return null}function v(S,T,O,k){var D=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return D!==null?null:s(S,T,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Mg:return O.key===D?c(S,T,O,k):null;case i0:return O.key===D?u(S,T,O,k):null;case yu:return D=O._init,v(S,T,D(O._payload),k)}if(p1(O)||Wd(O))return D!==null?null:h(S,T,O,k,null);Kg(S,O)}return null}function g(S,T,O,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(O)||null,s(T,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Mg:return S=S.get(k.key===null?O:k.key)||null,c(T,S,k,D);case i0:return S=S.get(k.key===null?O:k.key)||null,u(T,S,k,D);case yu:var z=k._init;return g(S,T,O,z(k._payload),D)}if(p1(k)||Wd(k))return S=S.get(O)||null,h(T,S,k,D,null);Kg(T,k)}return null}function _(S,T,O,k){for(var D=null,z=null,F=T,q=T=0,B=null;F!==null&&q<O.length;q++){F.index>q?(B=F,F=null):B=F.sibling;var ee=v(S,F,O[q],k);if(ee===null){F===null&&(F=B);break}e&&F&&ee.alternate===null&&t(S,F),T=a(ee,T,q),z===null?D=ee:z.sibling=ee,z=ee,F=B}if(q===O.length)return r(S,F),Kn&&Tf(S,q),D;if(F===null){for(;q<O.length;q++)F=p(S,O[q],k),F!==null&&(T=a(F,T,q),z===null?D=F:z.sibling=F,z=F);return Kn&&Tf(S,q),D}for(F=n(S,F);q<O.length;q++)B=g(F,S,q,O[q],k),B!==null&&(e&&B.alternate!==null&&F.delete(B.key===null?q:B.key),T=a(B,T,q),z===null?D=B:z.sibling=B,z=B);return e&&F.forEach(function(W){return t(S,W)}),Kn&&Tf(S,q),D}function b(S,T,O,k){var D=Wd(O);if(typeof D!="function")throw Error(It(150));if(O=D.call(O),O==null)throw Error(It(151));for(var z=D=null,F=T,q=T=0,B=null,ee=O.next();F!==null&&!ee.done;q++,ee=O.next()){F.index>q?(B=F,F=null):B=F.sibling;var W=v(S,F,ee.value,k);if(W===null){F===null&&(F=B);break}e&&F&&W.alternate===null&&t(S,F),T=a(W,T,q),z===null?D=W:z.sibling=W,z=W,F=B}if(ee.done)return r(S,F),Kn&&Tf(S,q),D;if(F===null){for(;!ee.done;q++,ee=O.next())ee=p(S,ee.value,k),ee!==null&&(T=a(ee,T,q),z===null?D=ee:z.sibling=ee,z=ee);return Kn&&Tf(S,q),D}for(F=n(S,F);!ee.done;q++,ee=O.next())ee=g(F,S,q,ee.value,k),ee!==null&&(e&&ee.alternate!==null&&F.delete(ee.key===null?q:ee.key),T=a(ee,T,q),z===null?D=ee:z.sibling=ee,z=ee);return e&&F.forEach(function(U){return t(S,U)}),Kn&&Tf(S,q),D}function E(S,T,O,k){if(typeof O=="object"&&O!==null&&O.type===a0&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Mg:e:{for(var D=O.key,z=T;z!==null;){if(z.key===D){if(D=O.type,D===a0){if(z.tag===7){r(S,z.sibling),T=i(z,O.props.children),T.return=S,S=T;break e}}else if(z.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yu&&zC(D)===z.type){r(S,z.sibling),T=i(z,O.props),T.ref=Gd(S,z,O),T.return=S,S=T;break e}r(S,z);break}else t(S,z);z=z.sibling}O.type===a0?(T=Gf(O.props.children,S.mode,k,O.key),T.return=S,S=T):(k=Zm(O.type,O.key,O.props,null,S.mode,k),k.ref=Gd(S,T,O),k.return=S,S=k)}return o(S);case i0:e:{for(z=O.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){r(S,T.sibling),T=i(T,O.children||[]),T.return=S,S=T;break e}else{r(S,T);break}else t(S,T);T=T.sibling}T=vw(O,S.mode,k),T.return=S,S=T}return o(S);case yu:return z=O._init,E(S,T,z(O._payload),k)}if(p1(O))return _(S,T,O,k);if(Wd(O))return b(S,T,O,k);Kg(S,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(r(S,T.sibling),T=i(T,O),T.return=S,S=T):(r(S,T),T=mw(O,S.mode,k),T.return=S,S=T),o(S)):r(S,T)}return E}var W0=OI(!0),kI=OI(!1),_2=af(null),E2=null,d0=null,I3=null;function R3(){I3=d0=E2=null}function L3(e){var t=_2.current;$n(_2),e._currentValue=t}function d5(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function S0(e,t){E2=e,I3=d0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Eo=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(I3!==e)if(e={context:e,memoizedValue:t,next:null},d0===null){if(E2===null)throw Error(It(308));d0=e,E2.dependencies={lanes:0,firstContext:e}}else d0=d0.next=e;return t}var Bf=null;function D3(e){Bf===null?Bf=[e]:Bf.push(e)}function NI(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,D3(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fc(e,n)}function Fc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wu=!1;function j3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fc(e,r)}return i=n.interleaved,i===null?(t.next=t,D3(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fc(e,r)}function Vm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b3(e,r)}}function HC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function S2(e,t,r,n){var i=e.updateQueue;wu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;o=0,h=u=c=null,s=a;do{var v=s.lane,g=s.eventTime;if((n&v)===v){h!==null&&(h=h.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=e,b=s;switch(v=t,g=r,b.tag){case 1:if(_=b.payload,typeof _=="function"){p=_.call(g,p,v);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,v=typeof _=="function"?_.call(g,p,v):_,v==null)break e;p=ni({},p,v);break e;case 2:wu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else g={eventTime:g,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=g,c=p):h=h.next=g,o|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ih|=o,e.lanes=o,e.memoizedState=p}}function VC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(It(191,i));i.call(n)}}}var Fp={},Wl=af(Fp),np=af(Fp),ip=af(Fp);function Uf(e){if(e===Fp)throw Error(It(174));return e}function M3(e,t){switch(Rn(ip,t),Rn(np,e),Rn(Wl,Fp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gb(t,e)}$n(Wl),Rn(Wl,t)}function z0(){$n(Wl),$n(np),$n(ip)}function II(e){Uf(ip.current);var t=Uf(Wl.current),r=Gb(t,e.type);t!==r&&(Rn(np,e),Rn(Wl,r))}function F3(e){np.current===e&&($n(Wl),$n(np))}var ti=af(0);function A2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uw=[];function B3(){for(var e=0;e<uw.length;e++)uw[e]._workInProgressVersionPrimary=null;uw.length=0}var qm=Gc.ReactCurrentDispatcher,fw=Gc.ReactCurrentBatchConfig,nh=0,ri=null,Xi=null,aa=null,C2=!1,T1=!1,ap=0,mz=0;function Fa(){throw Error(It(321))}function U3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yl(e[r],t[r]))return!1;return!0}function $3(e,t,r,n,i,a){if(nh=a,ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qm.current=e===null||e.memoizedState===null?wz:bz,e=r(n,i),T1){a=0;do{if(T1=!1,ap=0,25<=a)throw Error(It(301));a+=1,aa=Xi=null,t.updateQueue=null,qm.current=_z,e=r(n,i)}while(T1)}if(qm.current=T2,t=Xi!==null&&Xi.next!==null,nh=0,aa=Xi=ri=null,C2=!1,t)throw Error(It(300));return e}function W3(){var e=ap!==0;return ap=0,e}function Dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?ri.memoizedState=aa=e:aa=aa.next=e,aa}function Us(){if(Xi===null){var e=ri.alternate;e=e!==null?e.memoizedState:null}else e=Xi.next;var t=aa===null?ri.memoizedState:aa.next;if(t!==null)aa=t,Xi=e;else{if(e===null)throw Error(It(310));Xi=e,e={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},aa===null?ri.memoizedState=aa=e:aa=aa.next=e}return aa}function op(e,t){return typeof t=="function"?t(e):t}function hw(e){var t=Us(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=Xi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var h=u.lane;if((nh&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=p,o=n):c=c.next=p,ri.lanes|=h,ih|=h}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,yl(n,t.memoizedState)||(Eo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ri.lanes|=a,ih|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dw(e){var t=Us(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);yl(a,t.memoizedState)||(Eo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function RI(){}function LI(e,t){var r=ri,n=Us(),i=t(),a=!yl(n.memoizedState,i);if(a&&(n.memoizedState=i,Eo=!0),n=n.queue,z3(MI.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||aa!==null&&aa.memoizedState.tag&1){if(r.flags|=2048,sp(9,jI.bind(null,r,n,i,t),void 0,null),fa===null)throw Error(It(349));nh&30||DI(r,t,i)}return i}function DI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ri.updateQueue,t===null?(t={lastEffect:null,stores:null},ri.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jI(e,t,r,n){t.value=r,t.getSnapshot=n,FI(t)&&BI(e)}function MI(e,t,r){return r(function(){FI(t)&&BI(e)})}function FI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yl(e,r)}catch{return!0}}function BI(e){var t=Fc(e,1);t!==null&&vl(t,e,1,-1)}function qC(e){var t=Dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:e},t.queue=e,e=e.dispatch=yz.bind(null,ri,e),[t.memoizedState,e]}function sp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ri.updateQueue,t===null?(t={lastEffect:null,stores:null},ri.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function UI(){return Us().memoizedState}function Gm(e,t,r,n){var i=Dl();ri.flags|=e,i.memoizedState=sp(1|t,r,void 0,n===void 0?null:n)}function Qv(e,t,r,n){var i=Us();n=n===void 0?null:n;var a=void 0;if(Xi!==null){var o=Xi.memoizedState;if(a=o.destroy,n!==null&&U3(n,o.deps)){i.memoizedState=sp(t,r,a,n);return}}ri.flags|=e,i.memoizedState=sp(1|t,r,a,n)}function GC(e,t){return Gm(8390656,8,e,t)}function z3(e,t){return Qv(2048,8,e,t)}function $I(e,t){return Qv(4,2,e,t)}function WI(e,t){return Qv(4,4,e,t)}function zI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HI(e,t,r){return r=r!=null?r.concat([e]):null,Qv(4,4,zI.bind(null,t,e),r)}function H3(){}function VI(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qI(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function GI(e,t,r){return nh&21?(yl(r,t)||(r=JP(),ri.lanes|=r,ih|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=r)}function vz(e,t){var r=xn;xn=r!==0&&4>r?r:4,e(!0);var n=fw.transition;fw.transition={};try{e(!1),t()}finally{xn=r,fw.transition=n}}function KI(){return Us().memoizedState}function xz(e,t,r){var n=Bu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},XI(e))YI(t,r);else if(r=NI(e,t,r,n),r!==null){var i=lo();vl(r,e,n,i),ZI(r,t,n)}}function yz(e,t,r){var n=Bu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(XI(e))YI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,yl(s,o)){var c=t.interleaved;c===null?(i.next=i,D3(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=NI(e,t,i,n),r!==null&&(i=lo(),vl(r,e,n,i),ZI(r,t,n))}}function XI(e){var t=e.alternate;return e===ri||t!==null&&t===ri}function YI(e,t){T1=C2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ZI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b3(e,r)}}var T2={readContext:Bs,useCallback:Fa,useContext:Fa,useEffect:Fa,useImperativeHandle:Fa,useInsertionEffect:Fa,useLayoutEffect:Fa,useMemo:Fa,useReducer:Fa,useRef:Fa,useState:Fa,useDebugValue:Fa,useDeferredValue:Fa,useTransition:Fa,useMutableSource:Fa,useSyncExternalStore:Fa,useId:Fa,unstable_isNewReconciler:!1},wz={readContext:Bs,useCallback:function(e,t){return Dl().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:GC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gm(4194308,4,zI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gm(4,2,e,t)},useMemo:function(e,t){var r=Dl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xz.bind(null,ri,e),[n.memoizedState,e]},useRef:function(e){var t=Dl();return e={current:e},t.memoizedState=e},useState:qC,useDebugValue:H3,useDeferredValue:function(e){return Dl().memoizedState=e},useTransition:function(){var e=qC(!1),t=e[0];return e=vz.bind(null,e[1]),Dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ri,i=Dl();if(Kn){if(r===void 0)throw Error(It(407));r=r()}else{if(r=t(),fa===null)throw Error(It(349));nh&30||DI(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,GC(MI.bind(null,n,a,e),[e]),n.flags|=2048,sp(9,jI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Dl(),t=fa.identifierPrefix;if(Kn){var r=Ac,n=Sc;r=(n&~(1<<32-ml(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ap++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bz={readContext:Bs,useCallback:VI,useContext:Bs,useEffect:z3,useImperativeHandle:HI,useInsertionEffect:$I,useLayoutEffect:WI,useMemo:qI,useReducer:hw,useRef:UI,useState:function(){return hw(op)},useDebugValue:H3,useDeferredValue:function(e){var t=Us();return GI(t,Xi.memoizedState,e)},useTransition:function(){var e=hw(op)[0],t=Us().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:LI,useId:KI,unstable_isNewReconciler:!1},_z={readContext:Bs,useCallback:VI,useContext:Bs,useEffect:z3,useImperativeHandle:HI,useInsertionEffect:$I,useLayoutEffect:WI,useMemo:qI,useReducer:dw,useRef:UI,useState:function(){return dw(op)},useDebugValue:H3,useDeferredValue:function(e){var t=Us();return Xi===null?t.memoizedState=e:GI(t,Xi.memoizedState,e)},useTransition:function(){var e=dw(op)[0],t=Us().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:LI,useId:KI,unstable_isNewReconciler:!1};function ll(e,t){if(e&&e.defaultProps){t=ni({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function p5(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ni({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ex={isMounted:function(e){return(e=e._reactInternals)?xh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lo(),i=Bu(e),a=kc(n,i);a.payload=t,r!=null&&(a.callback=r),t=Mu(e,a,i),t!==null&&(vl(t,e,i,n),Vm(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lo(),i=Bu(e),a=kc(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Mu(e,a,i),t!==null&&(vl(t,e,i,n),Vm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lo(),n=Bu(e),i=kc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mu(e,i,n),t!==null&&(vl(t,e,n,r),Vm(t,e,n))}};function KC(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Q1(r,n)||!Q1(i,a):!0}function JI(e,t,r){var n=!1,i=Gu,a=t.contextType;return typeof a=="object"&&a!==null?a=Bs(a):(i=Co(t)?th:Ya.current,n=t.contextTypes,a=(n=n!=null)?U0(e,i):Gu),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ex,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function XC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ex.enqueueReplaceState(t,t.state,null)}function g5(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},j3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bs(a):(a=Co(t)?th:Ya.current,i.context=U0(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(p5(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ex.enqueueReplaceState(i,i.state,null),S2(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function H0(e,t){try{var r="",n=t;do r+=Y$(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function pw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function m5(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ez=typeof WeakMap=="function"?WeakMap:Map;function QI(e,t,r){r=kc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){k2||(k2=!0,C5=n),m5(e,t)},r}function e7(e,t,r){r=kc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){m5(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){m5(e,t),typeof n!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function YC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ez;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Mz.bind(null,e,t,r),t.then(e,e))}function ZC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JC(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kc(-1,1),t.tag=2,Mu(r,t,1))),r.lanes|=1),e)}var Sz=Gc.ReactCurrentOwner,Eo=!1;function no(e,t,r,n){t.child=e===null?kI(t,null,r,n):W0(t,e.child,r,n)}function QC(e,t,r,n,i){r=r.render;var a=t.ref;return S0(t,i),n=$3(e,t,r,n,a,i),r=W3(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bc(e,t,i)):(Kn&&r&&k3(t),t.flags|=1,no(e,t,n,i),t.child)}function e8(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!J3(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,t7(e,t,a,n,i)):(e=Zm(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Q1,r(o,n)&&e.ref===t.ref)return Bc(e,t,i)}return t.flags|=1,e=Uu(a,n),e.ref=t.ref,e.return=t,t.child=e}function t7(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Q1(a,n)&&e.ref===t.ref)if(Eo=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Eo=!0);else return t.lanes=e.lanes,Bc(e,t,i)}return v5(e,t,r,n,i)}function r7(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(g0,Jo),Jo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rn(g0,Jo),Jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Rn(g0,Jo),Jo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Rn(g0,Jo),Jo|=n;return no(e,t,i,r),t.child}function n7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function v5(e,t,r,n,i){var a=Co(r)?th:Ya.current;return a=U0(t,a),S0(t,i),r=$3(e,t,r,n,a,i),n=W3(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bc(e,t,i)):(Kn&&n&&k3(t),t.flags|=1,no(e,t,r,i),t.child)}function t8(e,t,r,n,i){if(Co(r)){var a=!0;y2(t)}else a=!1;if(S0(t,i),t.stateNode===null)Km(e,t),JI(t,r,n),g5(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bs(u):(u=Co(r)?th:Ya.current,u=U0(t,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&XC(t,o,n,u),wu=!1;var v=t.memoizedState;o.state=v,S2(t,n,o,i),c=t.memoizedState,s!==n||v!==c||Ao.current||wu?(typeof h=="function"&&(p5(t,r,h,n),c=t.memoizedState),(s=wu||KC(t,r,s,n,v,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,PI(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ll(t.type,s),o.props=u,p=t.pendingProps,v=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Co(r)?th:Ya.current,c=U0(t,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||v!==c)&&XC(t,o,n,c),wu=!1,v=t.memoizedState,o.state=v,S2(t,n,o,i);var _=t.memoizedState;s!==p||v!==_||Ao.current||wu?(typeof g=="function"&&(p5(t,r,g,n),_=t.memoizedState),(u=wu||KC(t,r,u,n,v,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return x5(e,t,r,n,a,i)}function x5(e,t,r,n,i,a){n7(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&UC(t,r,!1),Bc(e,t,a);n=t.stateNode,Sz.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=W0(t,e.child,null,a),t.child=W0(t,null,s,a)):no(e,t,s,a),t.memoizedState=n.state,i&&UC(t,r,!0),t.child}function i7(e){var t=e.stateNode;t.pendingContext?BC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&BC(e,t.context,!1),M3(e,t.containerInfo)}function r8(e,t,r,n,i){return $0(),P3(i),t.flags|=256,no(e,t,r,n),t.child}var y5={dehydrated:null,treeContext:null,retryLane:0};function w5(e){return{baseLanes:e,cachePool:null,transitions:null}}function a7(e,t,r){var n=t.pendingProps,i=ti.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rn(ti,i&1),e===null)return h5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=nx(o,n,0,null),e=Gf(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=w5(r),t.memoizedState=y5,e):V3(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Az(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Uu(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Uu(s,a):(a=Gf(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?w5(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=y5,n}return a=e.child,e=a.sibling,n=Uu(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function V3(e,t){return t=nx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xg(e,t,r,n){return n!==null&&P3(n),W0(t,e.child,null,r),e=V3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Az(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=pw(Error(It(422))),Xg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=nx({mode:"visible",children:n.children},i,0,null),a=Gf(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&W0(t,e.child,null,o),t.child.memoizedState=w5(o),t.memoizedState=y5,a);if(!(t.mode&1))return Xg(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(It(419)),n=pw(a,n,void 0),Xg(e,t,o,n)}if(s=(o&e.childLanes)!==0,Eo||s){if(n=fa,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fc(e,i),vl(n,e,i,-1))}return Z3(),n=pw(Error(It(421))),Xg(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Fz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,os=ju(i.nextSibling),ls=t,Kn=!0,fl=null,e!==null&&(Is[Rs++]=Sc,Is[Rs++]=Ac,Is[Rs++]=rh,Sc=e.id,Ac=e.overflow,rh=t),t=V3(t,n.children),t.flags|=4096,t)}function n8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),d5(e.return,t,r)}function gw(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function o7(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(no(e,t,n.children,r),n=ti.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n8(e,r,t);else if(e.tag===19)n8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rn(ti,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&A2(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),gw(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&A2(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}gw(t,!0,r,null,a);break;case"together":gw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Km(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ih|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(It(153));if(t.child!==null){for(e=t.child,r=Uu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Cz(e,t,r){switch(t.tag){case 3:i7(t),$0();break;case 5:II(t);break;case 1:Co(t.type)&&y2(t);break;case 4:M3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Rn(_2,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rn(ti,ti.current&1),t.flags|=128,null):r&t.child.childLanes?a7(e,t,r):(Rn(ti,ti.current&1),e=Bc(e,t,r),e!==null?e.sibling:null);Rn(ti,ti.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return o7(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(ti,ti.current),n)break;return null;case 22:case 23:return t.lanes=0,r7(e,t,r)}return Bc(e,t,r)}var s7,b5,l7,c7;s7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b5=function(){};l7=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Uf(Wl.current);var a=null;switch(r){case"input":i=zb(e,i),n=zb(e,n),a=[];break;case"select":i=ni({},i,{value:void 0}),n=ni({},n,{value:void 0}),a=[];break;case"textarea":i=qb(e,i),n=qb(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=v2)}Kb(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(q1.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(q1.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mn("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};c7=function(e,t,r,n){r!==n&&(t.flags|=4)};function Kd(e,t){if(!Kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ba(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Tz(e,t,r){var n=t.pendingProps;switch(N3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ba(t),null;case 1:return Co(t.type)&&x2(),Ba(t),null;case 3:return n=t.stateNode,z0(),$n(Ao),$n(Ya),B3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fl!==null&&(k5(fl),fl=null))),b5(e,t),Ba(t),null;case 5:F3(t);var i=Uf(ip.current);if(r=t.type,e!==null&&t.stateNode!=null)l7(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(It(166));return Ba(t),null}if(e=Uf(Wl.current),Gg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ml]=t,n[rp]=a,e=(t.mode&1)!==0,r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(i=0;i<m1.length;i++)Mn(m1[i],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":hC(n,a),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Mn("invalid",n);break;case"textarea":pC(n,a),Mn("invalid",n)}Kb(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&qg(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&qg(n.textContent,s,e),i=["children",""+s]):q1.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Mn("scroll",n)}switch(r){case"input":Fg(n),dC(n,a,!0);break;case"textarea":Fg(n),gC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=v2)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ml]=t,e[rp]=n,s7(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xb(r,n),r){case"dialog":Mn("cancel",e),Mn("close",e),i=n;break;case"iframe":case"object":case"embed":Mn("load",e),i=n;break;case"video":case"audio":for(i=0;i<m1.length;i++)Mn(m1[i],e);i=n;break;case"source":Mn("error",e),i=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),i=n;break;case"details":Mn("toggle",e),i=n;break;case"input":hC(e,n),i=zb(e,n),Mn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ni({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":pC(e,n),i=qb(e,n),Mn("invalid",e);break;default:i=n}Kb(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?UP(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&FP(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&G1(e,c):typeof c=="number"&&G1(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(q1.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Mn("scroll",e):c!=null&&g3(e,a,c,o))}switch(r){case"input":Fg(e),dC(e,n,!1);break;case"textarea":Fg(e),gC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qu(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?w0(e,!!n.multiple,a,!1):n.defaultValue!=null&&w0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=v2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ba(t),null;case 6:if(e&&t.stateNode!=null)c7(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(It(166));if(r=Uf(ip.current),Uf(Wl.current),Gg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ml]=t,(a=n.nodeValue!==r)&&(e=ls,e!==null))switch(e.tag){case 3:qg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ml]=t,t.stateNode=n}return Ba(t),null;case 13:if($n(ti),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kn&&os!==null&&t.mode&1&&!(t.flags&128))TI(),$0(),t.flags|=98560,a=!1;else if(a=Gg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(It(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(It(317));a[Ml]=t}else $0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ba(t),a=!1}else fl!==null&&(k5(fl),fl=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ti.current&1?Zi===0&&(Zi=3):Z3())),t.updateQueue!==null&&(t.flags|=4),Ba(t),null);case 4:return z0(),b5(e,t),e===null&&ep(t.stateNode.containerInfo),Ba(t),null;case 10:return L3(t.type._context),Ba(t),null;case 17:return Co(t.type)&&x2(),Ba(t),null;case 19:if($n(ti),a=t.memoizedState,a===null)return Ba(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Kd(a,!1);else{if(Zi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=A2(e),o!==null){for(t.flags|=128,Kd(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rn(ti,ti.current&1|2),t.child}e=e.sibling}a.tail!==null&&yi()>V0&&(t.flags|=128,n=!0,Kd(a,!1),t.lanes=4194304)}else{if(!n)if(e=A2(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Kd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Kn)return Ba(t),null}else 2*yi()-a.renderingStartTime>V0&&r!==1073741824&&(t.flags|=128,n=!0,Kd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=yi(),t.sibling=null,r=ti.current,Rn(ti,n?r&1|2:r&1),t):(Ba(t),null);case 22:case 23:return Y3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jo&1073741824&&(Ba(t),t.subtreeFlags&6&&(t.flags|=8192)):Ba(t),null;case 24:return null;case 25:return null}throw Error(It(156,t.tag))}function Oz(e,t){switch(N3(t),t.tag){case 1:return Co(t.type)&&x2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return z0(),$n(Ao),$n(Ya),B3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F3(t),null;case 13:if($n(ti),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(It(340));$0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $n(ti),null;case 4:return z0(),null;case 10:return L3(t.type._context),null;case 22:case 23:return Y3(),null;case 24:return null;default:return null}}var Yg=!1,Va=!1,kz=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function p0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fi(e,t,n)}else r.current=null}function _5(e,t,r){try{r()}catch(n){fi(e,t,n)}}var i8=!1;function Nz(e,t){if(a5=p2,e=pI(),O3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,h=0,p=e,v=null;t:for(;;){for(var g;p!==r||i!==0&&p.nodeType!==3||(s=o+i),p!==a||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)v=p,p=g;for(;;){if(p===e)break t;if(v===r&&++u===i&&(s=o),v===a&&++h===n&&(c=o),(g=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=g}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(o5={focusedElem:e,selectionRange:r},p2=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){t=Yt;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,E=_.memoizedState,S=t.stateNode,T=S.getSnapshotBeforeUpdate(t.elementType===t.type?b:ll(t.type,b),E);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(k){fi(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}return _=i8,i8=!1,_}function O1(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&_5(t,r,a)}i=i.next}while(i!==n)}}function tx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function E5(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u7(e){var t=e.alternate;t!==null&&(e.alternate=null,u7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ml],delete t[rp],delete t[c5],delete t[hz],delete t[dz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f7(e){return e.tag===5||e.tag===3||e.tag===4}function a8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function S5(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=v2));else if(n!==4&&(e=e.child,e!==null))for(S5(e,t,r),e=e.sibling;e!==null;)S5(e,t,r),e=e.sibling}function A5(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(A5(e,t,r),e=e.sibling;e!==null;)A5(e,t,r),e=e.sibling}var _a=null,cl=!1;function du(e,t,r){for(r=r.child;r!==null;)h7(e,t,r),r=r.sibling}function h7(e,t,r){if($l&&typeof $l.onCommitFiberUnmount=="function")try{$l.onCommitFiberUnmount(Gv,r)}catch{}switch(r.tag){case 5:Va||p0(r,t);case 6:var n=_a,i=cl;_a=null,du(e,t,r),_a=n,cl=i,_a!==null&&(cl?(e=_a,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_a.removeChild(r.stateNode));break;case 18:_a!==null&&(cl?(e=_a,r=r.stateNode,e.nodeType===8?lw(e.parentNode,r):e.nodeType===1&&lw(e,r),Z1(e)):lw(_a,r.stateNode));break;case 4:n=_a,i=cl,_a=r.stateNode.containerInfo,cl=!0,du(e,t,r),_a=n,cl=i;break;case 0:case 11:case 14:case 15:if(!Va&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_5(r,t,o),i=i.next}while(i!==n)}du(e,t,r);break;case 1:if(!Va&&(p0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){fi(r,t,s)}du(e,t,r);break;case 21:du(e,t,r);break;case 22:r.mode&1?(Va=(n=Va)||r.memoizedState!==null,du(e,t,r),Va=n):du(e,t,r);break;default:du(e,t,r)}}function o8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kz),t.forEach(function(n){var i=Bz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function nl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:_a=s.stateNode,cl=!1;break e;case 3:_a=s.stateNode.containerInfo,cl=!0;break e;case 4:_a=s.stateNode.containerInfo,cl=!0;break e}s=s.return}if(_a===null)throw Error(It(160));h7(a,o,i),_a=null,cl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){fi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d7(t,e),t=t.sibling}function d7(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nl(t,e),Nl(e),n&4){try{O1(3,e,e.return),tx(3,e)}catch(b){fi(e,e.return,b)}try{O1(5,e,e.return)}catch(b){fi(e,e.return,b)}}break;case 1:nl(t,e),Nl(e),n&512&&r!==null&&p0(r,r.return);break;case 5:if(nl(t,e),Nl(e),n&512&&r!==null&&p0(r,r.return),e.flags&32){var i=e.stateNode;try{G1(i,"")}catch(b){fi(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&DP(i,a),Xb(s,o);var u=Xb(s,a);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?UP(i,p):h==="dangerouslySetInnerHTML"?FP(i,p):h==="children"?G1(i,p):g3(i,h,p,u)}switch(s){case"input":Hb(i,a);break;case"textarea":jP(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?w0(i,!!a.multiple,g,!1):v!==!!a.multiple&&(a.defaultValue!=null?w0(i,!!a.multiple,a.defaultValue,!0):w0(i,!!a.multiple,a.multiple?[]:"",!1))}i[rp]=a}catch(b){fi(e,e.return,b)}}break;case 6:if(nl(t,e),Nl(e),n&4){if(e.stateNode===null)throw Error(It(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){fi(e,e.return,b)}}break;case 3:if(nl(t,e),Nl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Z1(t.containerInfo)}catch(b){fi(e,e.return,b)}break;case 4:nl(t,e),Nl(e);break;case 13:nl(t,e),Nl(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(K3=yi())),n&4&&o8(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Va=(u=Va)||h,nl(t,e),Va=u):nl(t,e),Nl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Yt=e,h=e.child;h!==null;){for(p=Yt=h;Yt!==null;){switch(v=Yt,g=v.child,v.tag){case 0:case 11:case 14:case 15:O1(4,v,v.return);break;case 1:p0(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(b){fi(n,r,b)}}break;case 5:p0(v,v.return);break;case 22:if(v.memoizedState!==null){l8(p);continue}}g!==null?(g.return=v,Yt=g):l8(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=BP("display",o))}catch(b){fi(e,e.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(b){fi(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:nl(t,e),Nl(e),n&4&&o8(e);break;case 21:break;default:nl(t,e),Nl(e)}}function Nl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(f7(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(G1(i,""),n.flags&=-33);var a=a8(e);A5(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=a8(e);S5(e,s,o);break;default:throw Error(It(161))}}catch(c){fi(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pz(e,t,r){Yt=e,p7(e)}function p7(e,t,r){for(var n=(e.mode&1)!==0;Yt!==null;){var i=Yt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Yg;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Va;s=Yg;var u=Va;if(Yg=o,(Va=c)&&!u)for(Yt=i;Yt!==null;)o=Yt,c=o.child,o.tag===22&&o.memoizedState!==null?c8(i):c!==null?(c.return=o,Yt=c):c8(i);for(;a!==null;)Yt=a,p7(a),a=a.sibling;Yt=i,Yg=s,Va=u}s8(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Yt=a):s8(e)}}function s8(e){for(;Yt!==null;){var t=Yt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Va||tx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Va)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ll(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&VC(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}VC(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Z1(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Va||t.flags&512&&E5(t)}catch(v){fi(t,t.return,v)}}if(t===e){Yt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Yt=r;break}Yt=t.return}}function l8(e){for(;Yt!==null;){var t=Yt;if(t===e){Yt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Yt=r;break}Yt=t.return}}function c8(e){for(;Yt!==null;){var t=Yt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tx(4,t)}catch(c){fi(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){fi(t,i,c)}}var a=t.return;try{E5(t)}catch(c){fi(t,a,c)}break;case 5:var o=t.return;try{E5(t)}catch(c){fi(t,o,c)}}}catch(c){fi(t,t.return,c)}if(t===e){Yt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Yt=s;break}Yt=t.return}}var Iz=Math.ceil,O2=Gc.ReactCurrentDispatcher,q3=Gc.ReactCurrentOwner,Fs=Gc.ReactCurrentBatchConfig,Qr=0,fa=null,Li=null,Oa=0,Jo=0,g0=af(0),Zi=0,lp=null,ih=0,rx=0,G3=0,k1=null,wo=null,K3=0,V0=1/0,xc=null,k2=!1,C5=null,Fu=null,Zg=!1,Ou=null,N2=0,N1=0,T5=null,Xm=-1,Ym=0;function lo(){return Qr&6?yi():Xm!==-1?Xm:Xm=yi()}function Bu(e){return e.mode&1?Qr&2&&Oa!==0?Oa&-Oa:gz.transition!==null?(Ym===0&&(Ym=JP()),Ym):(e=xn,e!==0||(e=window.event,e=e===void 0?16:aI(e.type)),e):1}function vl(e,t,r,n){if(50<N1)throw N1=0,T5=null,Error(It(185));Dp(e,r,n),(!(Qr&2)||e!==fa)&&(e===fa&&(!(Qr&2)&&(rx|=r),Zi===4&&Su(e,Oa)),To(e,n),r===1&&Qr===0&&!(t.mode&1)&&(V0=yi()+500,Jv&&of()))}function To(e,t){var r=e.callbackNode;gW(e,t);var n=d2(e,e===fa?Oa:0);if(n===0)r!==null&&xC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xC(r),t===1)e.tag===0?pz(u8.bind(null,e)):SI(u8.bind(null,e)),uz(function(){!(Qr&6)&&of()}),r=null;else{switch(QP(n)){case 1:r=w3;break;case 4:r=YP;break;case 16:r=h2;break;case 536870912:r=ZP;break;default:r=h2}r=_7(r,g7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function g7(e,t){if(Xm=-1,Ym=0,Qr&6)throw Error(It(327));var r=e.callbackNode;if(A0()&&e.callbackNode!==r)return null;var n=d2(e,e===fa?Oa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=P2(e,n);else{t=n;var i=Qr;Qr|=2;var a=v7();(fa!==e||Oa!==t)&&(xc=null,V0=yi()+500,qf(e,t));do try{Dz();break}catch(s){m7(e,s)}while(!0);R3(),O2.current=a,Qr=i,Li!==null?t=0:(fa=null,Oa=0,t=Zi)}if(t!==0){if(t===2&&(i=e5(e),i!==0&&(n=i,t=O5(e,i))),t===1)throw r=lp,qf(e,0),Su(e,n),To(e,yi()),r;if(t===6)Su(e,n);else{if(i=e.current.alternate,!(n&30)&&!Rz(i)&&(t=P2(e,n),t===2&&(a=e5(e),a!==0&&(n=a,t=O5(e,a))),t===1))throw r=lp,qf(e,0),Su(e,n),To(e,yi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(It(345));case 2:Of(e,wo,xc);break;case 3:if(Su(e,n),(n&130023424)===n&&(t=K3+500-yi(),10<t)){if(d2(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){lo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=l5(Of.bind(null,e,wo,xc),t);break}Of(e,wo,xc);break;case 4:if(Su(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ml(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=yi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iz(n/1960))-n,10<n){e.timeoutHandle=l5(Of.bind(null,e,wo,xc),n);break}Of(e,wo,xc);break;case 5:Of(e,wo,xc);break;default:throw Error(It(329))}}}return To(e,yi()),e.callbackNode===r?g7.bind(null,e):null}function O5(e,t){var r=k1;return e.current.memoizedState.isDehydrated&&(qf(e,t).flags|=256),e=P2(e,t),e!==2&&(t=wo,wo=r,t!==null&&k5(t)),e}function k5(e){wo===null?wo=e:wo.push.apply(wo,e)}function Rz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!yl(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Su(e,t){for(t&=~G3,t&=~rx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ml(t),n=1<<r;e[r]=-1,t&=~n}}function u8(e){if(Qr&6)throw Error(It(327));A0();var t=d2(e,0);if(!(t&1))return To(e,yi()),null;var r=P2(e,t);if(e.tag!==0&&r===2){var n=e5(e);n!==0&&(t=n,r=O5(e,n))}if(r===1)throw r=lp,qf(e,0),Su(e,t),To(e,yi()),r;if(r===6)throw Error(It(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Of(e,wo,xc),To(e,yi()),null}function X3(e,t){var r=Qr;Qr|=1;try{return e(t)}finally{Qr=r,Qr===0&&(V0=yi()+500,Jv&&of())}}function ah(e){Ou!==null&&Ou.tag===0&&!(Qr&6)&&A0();var t=Qr;Qr|=1;var r=Fs.transition,n=xn;try{if(Fs.transition=null,xn=1,e)return e()}finally{xn=n,Fs.transition=r,Qr=t,!(Qr&6)&&of()}}function Y3(){Jo=g0.current,$n(g0)}function qf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cz(r)),Li!==null)for(r=Li.return;r!==null;){var n=r;switch(N3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&x2();break;case 3:z0(),$n(Ao),$n(Ya),B3();break;case 5:F3(n);break;case 4:z0();break;case 13:$n(ti);break;case 19:$n(ti);break;case 10:L3(n.type._context);break;case 22:case 23:Y3()}r=r.return}if(fa=e,Li=e=Uu(e.current,null),Oa=Jo=t,Zi=0,lp=null,G3=rx=ih=0,wo=k1=null,Bf!==null){for(t=0;t<Bf.length;t++)if(r=Bf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Bf=null}return e}function m7(e,t){do{var r=Li;try{if(R3(),qm.current=T2,C2){for(var n=ri.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}C2=!1}if(nh=0,aa=Xi=ri=null,T1=!1,ap=0,q3.current=null,r===null||r.return===null){Zi=1,lp=t,Li=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=Oa,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=s,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=ZC(o);if(g!==null){g.flags&=-257,JC(g,o,s,a,t),g.mode&1&&YC(a,u,t),t=g,c=u;var _=t.updateQueue;if(_===null){var b=new Set;b.add(c),t.updateQueue=b}else _.add(c);break e}else{if(!(t&1)){YC(a,u,t),Z3();break e}c=Error(It(426))}}else if(Kn&&s.mode&1){var E=ZC(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),JC(E,o,s,a,t),P3(H0(c,s));break e}}a=c=H0(c,s),Zi!==4&&(Zi=2),k1===null?k1=[a]:k1.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var S=QI(a,c,t);HC(a,S);break e;case 1:s=c;var T=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fu===null||!Fu.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=e7(a,s,t);HC(a,k);break e}}a=a.return}while(a!==null)}y7(r)}catch(D){t=D,Li===r&&r!==null&&(Li=r=r.return);continue}break}while(!0)}function v7(){var e=O2.current;return O2.current=T2,e===null?T2:e}function Z3(){(Zi===0||Zi===3||Zi===2)&&(Zi=4),fa===null||!(ih&268435455)&&!(rx&268435455)||Su(fa,Oa)}function P2(e,t){var r=Qr;Qr|=2;var n=v7();(fa!==e||Oa!==t)&&(xc=null,qf(e,t));do try{Lz();break}catch(i){m7(e,i)}while(!0);if(R3(),Qr=r,O2.current=n,Li!==null)throw Error(It(261));return fa=null,Oa=0,Zi}function Lz(){for(;Li!==null;)x7(Li)}function Dz(){for(;Li!==null&&!oW();)x7(Li)}function x7(e){var t=b7(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,t===null?y7(e):Li=t,q3.current=null}function y7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Oz(r,t),r!==null){r.flags&=32767,Li=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zi=6,Li=null;return}}else if(r=Tz(r,t,Jo),r!==null){Li=r;return}if(t=t.sibling,t!==null){Li=t;return}Li=t=e}while(t!==null);Zi===0&&(Zi=5)}function Of(e,t,r){var n=xn,i=Fs.transition;try{Fs.transition=null,xn=1,jz(e,t,r,n)}finally{Fs.transition=i,xn=n}return null}function jz(e,t,r,n){do A0();while(Ou!==null);if(Qr&6)throw Error(It(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(It(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(mW(e,a),e===fa&&(Li=fa=null,Oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zg||(Zg=!0,_7(h2,function(){return A0(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Fs.transition,Fs.transition=null;var o=xn;xn=1;var s=Qr;Qr|=4,q3.current=null,Nz(e,r),d7(r,e),rz(o5),p2=!!a5,o5=a5=null,e.current=r,Pz(r),sW(),Qr=s,xn=o,Fs.transition=a}else e.current=r;if(Zg&&(Zg=!1,Ou=e,N2=i),a=e.pendingLanes,a===0&&(Fu=null),uW(r.stateNode),To(e,yi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(k2)throw k2=!1,e=C5,C5=null,e;return N2&1&&e.tag!==0&&A0(),a=e.pendingLanes,a&1?e===T5?N1++:(N1=0,T5=e):N1=0,of(),null}function A0(){if(Ou!==null){var e=QP(N2),t=Fs.transition,r=xn;try{if(Fs.transition=null,xn=16>e?16:e,Ou===null)var n=!1;else{if(e=Ou,Ou=null,N2=0,Qr&6)throw Error(It(331));var i=Qr;for(Qr|=4,Yt=e.current;Yt!==null;){var a=Yt,o=a.child;if(Yt.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Yt=u;Yt!==null;){var h=Yt;switch(h.tag){case 0:case 11:case 15:O1(8,h,a)}var p=h.child;if(p!==null)p.return=h,Yt=p;else for(;Yt!==null;){h=Yt;var v=h.sibling,g=h.return;if(u7(h),h===u){Yt=null;break}if(v!==null){v.return=g,Yt=v;break}Yt=g}}}var _=a.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Yt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Yt=o;else e:for(;Yt!==null;){if(a=Yt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:O1(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,Yt=S;break e}Yt=a.return}}var T=e.current;for(Yt=T;Yt!==null;){o=Yt;var O=o.child;if(o.subtreeFlags&2064&&O!==null)O.return=o,Yt=O;else e:for(o=T;Yt!==null;){if(s=Yt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:tx(9,s)}}catch(D){fi(s,s.return,D)}if(s===o){Yt=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Yt=k;break e}Yt=s.return}}if(Qr=i,of(),$l&&typeof $l.onPostCommitFiberRoot=="function")try{$l.onPostCommitFiberRoot(Gv,e)}catch{}n=!0}return n}finally{xn=r,Fs.transition=t}}return!1}function f8(e,t,r){t=H0(r,t),t=QI(e,t,1),e=Mu(e,t,1),t=lo(),e!==null&&(Dp(e,1,t),To(e,t))}function fi(e,t,r){if(e.tag===3)f8(e,e,r);else for(;t!==null;){if(t.tag===3){f8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fu===null||!Fu.has(n))){e=H0(r,e),e=e7(t,e,1),t=Mu(t,e,1),e=lo(),t!==null&&(Dp(t,1,e),To(t,e));break}}t=t.return}}function Mz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=lo(),e.pingedLanes|=e.suspendedLanes&r,fa===e&&(Oa&r)===r&&(Zi===4||Zi===3&&(Oa&130023424)===Oa&&500>yi()-K3?qf(e,0):G3|=r),To(e,t)}function w7(e,t){t===0&&(e.mode&1?(t=$g,$g<<=1,!($g&130023424)&&($g=4194304)):t=1);var r=lo();e=Fc(e,t),e!==null&&(Dp(e,t,r),To(e,r))}function Fz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w7(e,r)}function Bz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(t),w7(e,r)}var b7;b7=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ao.current)Eo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Eo=!1,Cz(e,t,r);Eo=!!(e.flags&131072)}else Eo=!1,Kn&&t.flags&1048576&&AI(t,b2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Km(e,t),e=t.pendingProps;var i=U0(t,Ya.current);S0(t,r),i=$3(null,t,n,e,i,r);var a=W3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Co(n)?(a=!0,y2(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j3(t),i.updater=ex,t.stateNode=i,i._reactInternals=t,g5(t,n,e,r),t=x5(null,t,n,!0,a,r)):(t.tag=0,Kn&&a&&k3(t),no(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Km(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$z(n),e=ll(n,e),i){case 0:t=v5(null,t,n,e,r);break e;case 1:t=t8(null,t,n,e,r);break e;case 11:t=QC(null,t,n,e,r);break e;case 14:t=e8(null,t,n,ll(n.type,e),r);break e}throw Error(It(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ll(n,i),v5(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ll(n,i),t8(e,t,n,i,r);case 3:e:{if(i7(t),e===null)throw Error(It(387));n=t.pendingProps,a=t.memoizedState,i=a.element,PI(e,t),S2(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=H0(Error(It(423)),t),t=r8(e,t,n,r,i);break e}else if(n!==i){i=H0(Error(It(424)),t),t=r8(e,t,n,r,i);break e}else for(os=ju(t.stateNode.containerInfo.firstChild),ls=t,Kn=!0,fl=null,r=kI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($0(),n===i){t=Bc(e,t,r);break e}no(e,t,n,r)}t=t.child}return t;case 5:return II(t),e===null&&h5(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,s5(n,i)?o=null:a!==null&&s5(n,a)&&(t.flags|=32),n7(e,t),no(e,t,o,r),t.child;case 6:return e===null&&h5(t),null;case 13:return a7(e,t,r);case 4:return M3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=W0(t,null,n,r):no(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ll(n,i),QC(e,t,n,i,r);case 7:return no(e,t,t.pendingProps,r),t.child;case 8:return no(e,t,t.pendingProps.children,r),t.child;case 12:return no(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Rn(_2,n._currentValue),n._currentValue=o,a!==null)if(yl(a.value,o)){if(a.children===i.children&&!Ao.current){t=Bc(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=kc(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),d5(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(It(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),d5(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}no(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,S0(t,r),i=Bs(i),n=n(i),t.flags|=1,no(e,t,n,r),t.child;case 14:return n=t.type,i=ll(n,t.pendingProps),i=ll(n.type,i),e8(e,t,n,i,r);case 15:return t7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ll(n,i),Km(e,t),t.tag=1,Co(n)?(e=!0,y2(t)):e=!1,S0(t,r),JI(t,n,i),g5(t,n,i,r),x5(null,t,n,!0,e,r);case 19:return o7(e,t,r);case 22:return r7(e,t,r)}throw Error(It(156,t.tag))};function _7(e,t){return XP(e,t)}function Uz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,r,n){return new Uz(e,t,r,n)}function J3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $z(e){if(typeof e=="function")return J3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v3)return 11;if(e===x3)return 14}return 2}function Uu(e,t){var r=e.alternate;return r===null?(r=js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zm(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")J3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case a0:return Gf(r.children,i,a,t);case m3:o=8,i|=8;break;case Bb:return e=js(12,r,t,i|2),e.elementType=Bb,e.lanes=a,e;case Ub:return e=js(13,r,t,i),e.elementType=Ub,e.lanes=a,e;case $b:return e=js(19,r,t,i),e.elementType=$b,e.lanes=a,e;case IP:return nx(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NP:o=10;break e;case PP:o=9;break e;case v3:o=11;break e;case x3:o=14;break e;case yu:o=16,n=null;break e}throw Error(It(130,e==null?e:typeof e,""))}return t=js(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Gf(e,t,r,n){return e=js(7,e,n,t),e.lanes=r,e}function nx(e,t,r,n){return e=js(22,e,n,t),e.elementType=IP,e.lanes=r,e.stateNode={isHidden:!1},e}function mw(e,t,r){return e=js(6,e,null,t),e.lanes=r,e}function vw(e,t,r){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wz(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Q3(e,t,r,n,i,a,o,s,c){return e=new Wz(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=js(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j3(a),e}function zz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E7(e){if(!e)return Gu;e=e._reactInternals;e:{if(xh(e)!==e||e.tag!==1)throw Error(It(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Co(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(It(171))}if(e.tag===1){var r=e.type;if(Co(r))return EI(e,r,t)}return t}function S7(e,t,r,n,i,a,o,s,c){return e=Q3(r,n,!0,e,i,a,o,s,c),e.context=E7(null),r=e.current,n=lo(),i=Bu(r),a=kc(n,i),a.callback=t??null,Mu(r,a,i),e.current.lanes=i,Dp(e,i,n),To(e,n),e}function ix(e,t,r,n){var i=t.current,a=lo(),o=Bu(i);return r=E7(r),t.context===null?t.context=r:t.pendingContext=r,t=kc(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mu(i,t,o),e!==null&&(vl(e,i,o,a),Vm(e,i,o)),o}function I2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function e4(e,t){h8(e,t),(e=e.alternate)&&h8(e,t)}function Hz(){return null}var A7=typeof reportError=="function"?reportError:function(e){console.error(e)};function t4(e){this._internalRoot=e}ax.prototype.render=t4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(It(409));ix(e,t,null,null)};ax.prototype.unmount=t4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ah(function(){ix(null,e,null,null)}),t[Mc]=null}};function ax(e){this._internalRoot=e}ax.prototype.unstable_scheduleHydration=function(e){if(e){var t=rI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Eu.length&&t!==0&&t<Eu[r].priority;r++);Eu.splice(r,0,e),r===0&&iI(e)}};function r4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ox(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function d8(){}function Vz(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=I2(o);a.call(u)}}var o=S7(t,n,e,0,null,!1,!1,"",d8);return e._reactRootContainer=o,e[Mc]=o.current,ep(e.nodeType===8?e.parentNode:e),ah(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=I2(c);s.call(u)}}var c=Q3(e,0,!1,null,null,!1,!1,"",d8);return e._reactRootContainer=c,e[Mc]=c.current,ep(e.nodeType===8?e.parentNode:e),ah(function(){ix(t,c,r,n)}),c}function sx(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=I2(o);s.call(c)}}ix(t,o,e,i)}else o=Vz(r,t,e,i,n);return I2(o)}eI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=g1(t.pendingLanes);r!==0&&(b3(t,r|1),To(t,yi()),!(Qr&6)&&(V0=yi()+500,of()))}break;case 13:ah(function(){var n=Fc(e,1);if(n!==null){var i=lo();vl(n,e,1,i)}}),e4(e,1)}};_3=function(e){if(e.tag===13){var t=Fc(e,134217728);if(t!==null){var r=lo();vl(t,e,134217728,r)}e4(e,134217728)}};tI=function(e){if(e.tag===13){var t=Bu(e),r=Fc(e,t);if(r!==null){var n=lo();vl(r,e,t,n)}e4(e,t)}};rI=function(){return xn};nI=function(e,t){var r=xn;try{return xn=e,t()}finally{xn=r}};Zb=function(e,t,r){switch(t){case"input":if(Hb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Zv(n);if(!i)throw Error(It(90));LP(n),Hb(n,i)}}}break;case"textarea":jP(e,r);break;case"select":t=r.value,t!=null&&w0(e,!!r.multiple,t,!1)}};zP=X3;HP=ah;var qz={usingClientEntryPoint:!1,Events:[Mp,c0,Zv,$P,WP,X3]},Xd={findFiberByHostInstance:Ff,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gz={bundleType:Xd.bundleType,version:Xd.version,rendererPackageName:Xd.rendererPackageName,rendererConfig:Xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GP(e),e===null?null:e.stateNode},findFiberByHostInstance:Xd.findFiberByHostInstance||Hz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Gv=Jg.inject(Gz),$l=Jg}catch{}}gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qz;gs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r4(t))throw Error(It(200));return zz(e,t,null,r)};gs.createRoot=function(e,t){if(!r4(e))throw Error(It(299));var r=!1,n="",i=A7;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Q3(e,1,!1,null,null,r,!1,n,i),e[Mc]=t.current,ep(e.nodeType===8?e.parentNode:e),new t4(t)};gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(It(188)):(e=Object.keys(e).join(","),Error(It(268,e)));return e=GP(t),e=e===null?null:e.stateNode,e};gs.flushSync=function(e){return ah(e)};gs.hydrate=function(e,t,r){if(!ox(t))throw Error(It(200));return sx(null,e,t,!0,r)};gs.hydrateRoot=function(e,t,r){if(!r4(e))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=A7;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=S7(t,null,e,1,r??null,i,!1,a,o),e[Mc]=t.current,ep(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ax(t)};gs.render=function(e,t,r){if(!ox(t))throw Error(It(200));return sx(null,e,t,!1,r)};gs.unmountComponentAtNode=function(e){if(!ox(e))throw Error(It(40));return e._reactRootContainer?(ah(function(){sx(null,null,e,!1,function(){e._reactRootContainer=null,e[Mc]=null})}),!0):!1};gs.unstable_batchedUpdates=X3;gs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ox(r))throw Error(It(200));if(e==null||e._reactInternals===void 0)throw Error(It(38));return sx(e,t,r,!1,n)};gs.version="18.3.1-next-f1338f8080-20240426";function C7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C7)}catch(e){console.error(e)}}C7(),CP.exports=gs;var n4=CP.exports,p8=n4;Mb.createRoot=p8.createRoot,Mb.hydrateRoot=p8.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}var ku;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ku||(ku={}));const g8="popstate";function Kz(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return N5("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:R2(i)}return Yz(t,r,null,e)}function Ei(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xz(){return Math.random().toString(36).substr(2,8)}function m8(e,t){return{usr:e.state,key:e.key,idx:t}}function N5(e,t,r,n){return r===void 0&&(r=null),cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ud(t):t,{state:r,key:t&&t.key||n||Xz()})}function R2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Yz(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=ku.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(cp({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){s=ku.Pop;let E=h(),S=E==null?null:E-u;u=E,c&&c({action:s,location:b.location,delta:S})}function v(E,S){s=ku.Push;let T=N5(b.location,E,S);u=h()+1;let O=m8(T,u),k=b.createHref(T);try{o.pushState(O,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}a&&c&&c({action:s,location:b.location,delta:1})}function g(E,S){s=ku.Replace;let T=N5(b.location,E,S);u=h();let O=m8(T,u),k=b.createHref(T);o.replaceState(O,"",k),a&&c&&c({action:s,location:b.location,delta:0})}function _(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof E=="string"?E:R2(E);return T=T.replace(/ $/,"%20"),Ei(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let b={get action(){return s},get location(){return e(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(g8,p),c=E,()=>{i.removeEventListener(g8,p),c=null}},createHref(E){return t(i,E)},createURL:_,encodeLocation(E){let S=_(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:g,go(E){return o.go(E)}};return b}var v8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(v8||(v8={}));function Zz(e,t,r){return r===void 0&&(r="/"),Jz(e,t,r)}function Jz(e,t,r,n){let i=typeof t=="string"?ud(t):t,a=i4(i.pathname||"/",r);if(a==null)return null;let o=O7(e);Qz(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=fH(a);s=lH(o[c],u)}return s}function O7(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ei(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=$u([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Ei(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O7(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:oH(u,a.index),routesMeta:h})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of k7(a.path))i(a,o,c)}),t}function k7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=k7(n.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sH(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eH=/^:[\w-]+$/,tH=3,rH=2,nH=1,iH=10,aH=-2,x8=e=>e==="*";function oH(e,t){let r=e.split("/"),n=r.length;return r.some(x8)&&(n+=aH),t&&(n+=rH),r.filter(i=>!x8(i)).reduce((i,a)=>i+(eH.test(a)?tH:a===""?nH:iH),n)}function sH(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function lH(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=cH({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),v=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:$u([a,p.pathname]),pathnameBase:gH($u([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=$u([a,p.pathnameBase]))}return o}function cH(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uH(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:v,isOptional:g}=h;if(v==="*"){let b=s[p]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=s[p];return g&&!_?u[v]=void 0:u[v]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function uH(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),T7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function fH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function i4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hH(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ud(e):e;return{pathname:r?r.startsWith("/")?r:dH(r,t):t,search:mH(n),hash:vH(i)}}function dH(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function a4(e,t){let r=pH(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function o4(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ud(e):(i=cp({},e),Ei(!i.pathname||!i.pathname.includes("?"),xw("?","pathname","search",i)),Ei(!i.pathname||!i.pathname.includes("#"),xw("#","pathname","hash",i)),Ei(!i.search||!i.search.includes("#"),xw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}s=p>=0?t[p]:"/"}let c=hH(i,s),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const $u=e=>e.join("/").replace(/\/\/+/g,"/"),gH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N7=["post","put","patch","delete"];new Set(N7);const yH=["get",...N7];new Set(yH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}const s4=L.createContext(null),wH=L.createContext(null),sf=L.createContext(null),lx=L.createContext(null),Kc=L.createContext({outlet:null,matches:[],isDataRoute:!1}),P7=L.createContext(null);function bH(e,t){let{relative:r}=t===void 0?{}:t;fd()||Ei(!1);let{basename:n,navigator:i}=L.useContext(sf),{hash:a,pathname:o,search:s}=R7(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:$u([n,o])),i.createHref({pathname:c,search:s,hash:a})}function fd(){return L.useContext(lx)!=null}function hd(){return fd()||Ei(!1),L.useContext(lx).location}function I7(e){L.useContext(sf).static||L.useLayoutEffect(e)}function dd(){let{isDataRoute:e}=L.useContext(Kc);return e?jH():_H()}function _H(){fd()||Ei(!1);let e=L.useContext(s4),{basename:t,future:r,navigator:n}=L.useContext(sf),{matches:i}=L.useContext(Kc),{pathname:a}=hd(),o=JSON.stringify(a4(i,r.v7_relativeSplatPath)),s=L.useRef(!1);return I7(()=>{s.current=!0}),L.useCallback(function(u,h){if(h===void 0&&(h={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let p=o4(u,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:$u([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}const EH=L.createContext(null);function SH(e){let t=L.useContext(Kc).outlet;return t&&L.createElement(EH.Provider,{value:e},t)}function R7(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=L.useContext(sf),{matches:i}=L.useContext(Kc),{pathname:a}=hd(),o=JSON.stringify(a4(i,n.v7_relativeSplatPath));return L.useMemo(()=>o4(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function AH(e,t){return CH(e,t)}function CH(e,t,r,n){fd()||Ei(!1);let{navigator:i}=L.useContext(sf),{matches:a}=L.useContext(Kc),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=hd(),h;if(t){var p;let E=typeof t=="string"?ud(t):t;c==="/"||(p=E.pathname)!=null&&p.startsWith(c)||Ei(!1),h=E}else h=u;let v=h.pathname||"/",g=v;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=Zz(e,{pathname:g}),b=PH(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},s,E.params),pathname:$u([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:$u([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,r,n);return t&&b?L.createElement(lx.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ku.Pop}},b):b}function TH(){let e=DH(),t=xH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:i},r):null,null)}const OH=L.createElement(TH,null);class kH extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Kc.Provider,{value:this.props.routeContext},L.createElement(P7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NH(e){let{routeContext:t,match:r,children:n}=e,i=L.useContext(s4);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Kc.Provider,{value:t},n)}function PH(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let h=o.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);h>=0||Ei(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:v,errors:g}=r,_=p.route.loader&&v[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||_){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,v)=>{let g,_=!1,b=null,E=null;r&&(g=s&&p.route.id?s[p.route.id]:void 0,b=p.route.errorElement||OH,c&&(u<0&&v===0?(MH("route-fallback"),_=!0,E=null):u===v&&(_=!0,E=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,v+1)),T=()=>{let O;return g?O=b:_?O=E:p.route.Component?O=L.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,L.createElement(NH,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:r!=null},children:O})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?L.createElement(kH,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var L7=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L7||{}),D7=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D7||{});function IH(e){let t=L.useContext(s4);return t||Ei(!1),t}function RH(e){let t=L.useContext(wH);return t||Ei(!1),t}function LH(e){let t=L.useContext(Kc);return t||Ei(!1),t}function j7(e){let t=LH(),r=t.matches[t.matches.length-1];return r.route.id||Ei(!1),r.route.id}function DH(){var e;let t=L.useContext(P7),r=RH(),n=j7();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jH(){let{router:e}=IH(L7.UseNavigateStable),t=j7(D7.UseNavigateStable),r=L.useRef(!1);return I7(()=>{r.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,up({fromRouteId:t},a)))},[e,t])}const y8={};function MH(e,t,r){y8[e]||(y8[e]=!0)}function FH(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function P1(e){let{to:t,replace:r,state:n,relative:i}=e;fd()||Ei(!1);let{future:a,static:o}=L.useContext(sf),{matches:s}=L.useContext(Kc),{pathname:c}=hd(),u=dd(),h=o4(t,a4(s,a.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return L.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function BH(e){return SH(e.context)}function qi(e){Ei(!1)}function UH(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ku.Pop,navigator:a,static:o=!1,future:s}=e;fd()&&Ei(!1);let c=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:a,static:o,future:up({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof n=="string"&&(n=ud(n));let{pathname:h="/",search:p="",hash:v="",state:g=null,key:_="default"}=n,b=L.useMemo(()=>{let E=i4(h,c);return E==null?null:{location:{pathname:E,search:p,hash:v,state:g,key:_},navigationType:i}},[c,h,p,v,g,_,i]);return b==null?null:L.createElement(sf.Provider,{value:u},L.createElement(lx.Provider,{children:r,value:b}))}function $H(e){let{children:t,location:r}=e;return AH(P5(t),r)}new Promise(()=>{});function P5(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,i)=>{if(!L.isValidElement(n))return;let a=[...t,i];if(n.type===L.Fragment){r.push.apply(r,P5(n.props.children,a));return}n.type!==qi&&Ei(!1),!n.props.index||!n.props.children||Ei(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=P5(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I5(){return I5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I5.apply(this,arguments)}function WH(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HH(e,t){return e.button===0&&(!t||t==="_self")&&!zH(e)}const VH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qH="6";try{window.__reactRouterVersion=qH}catch{}const GH="startTransition",w8=SP[GH];function KH(e){let{basename:t,children:r,future:n,window:i}=e,a=L.useRef();a.current==null&&(a.current=Kz({window:i,v5Compat:!0}));let o=a.current,[s,c]=L.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=L.useCallback(p=>{u&&w8?w8(()=>c(p)):c(p)},[c,u]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.useEffect(()=>FH(n),[n]),L.createElement(UH,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const XH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M7=L.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:h,viewTransition:p}=t,v=WH(t,VH),{basename:g}=L.useContext(sf),_,b=!1;if(typeof u=="string"&&YH.test(u)&&(_=u,XH))try{let O=new URL(window.location.href),k=u.startsWith("//")?new URL(O.protocol+u):new URL(u),D=i4(k.pathname,g);k.origin===O.origin&&D!=null?u=D+k.search+k.hash:b=!0}catch{}let E=bH(u,{relative:i}),S=ZH(u,{replace:o,state:s,target:c,preventScrollReset:h,relative:i,viewTransition:p});function T(O){n&&n(O),O.defaultPrevented||S(O)}return L.createElement("a",I5({},v,{href:_||E,onClick:b||a?n:T,ref:r,target:c}))});var b8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(b8||(b8={}));var _8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_8||(_8={}));function ZH(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=dd(),u=hd(),h=R7(e,{relative:o});return L.useCallback(p=>{if(HH(p,r)){p.preventDefault();let v=n!==void 0?n:R2(u)===R2(h);c(e,{replace:v,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,h,n,i,r,e,a,o,s])}const JH="modulepreload",QH=function(e){return"/GestionDesStocks/"+e},E8={},Wu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=QH(c),c in E8)return;E8[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":JH,u||(p.as="script"),p.crossOrigin="",p.href=c,s&&p.setAttribute("nonce",s),document.head.appendChild(p),u)return new Promise((v,g)=>{p.addEventListener("load",v),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},eV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(async()=>{const{default:n}=await Promise.resolve().then(()=>pd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class l4 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class S8 extends l4{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class A8 extends l4{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C8 extends l4{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var R5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(R5||(R5={}));var tV=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class rV{constructor(t,{headers:r={},customFetch:n,region:i=R5.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=eV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tV(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:s,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",v=s):typeof s=="string"?(u["Content-Type"]="text/plain",v=s):typeof FormData<"u"&&s instanceof FormData?v=s:(u["Content-Type"]="application/json",v=JSON.stringify(s)));const g=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:v,signal:c}).catch(S=>{throw S.name==="AbortError"?S:new S8(S)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new A8(g);if(!g.ok)throw new C8(g);let b=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield g.json():b==="application/octet-stream"?E=yield g.blob():b==="text/event-stream"?E=g:b==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null,response:g}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new S8(a)}:{data:null,error:a,response:a instanceof C8||a instanceof A8?a.context:void 0}}})}}var bo={},c4={},cx={},Bp={},ux={},fx={},nV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},q0=nV();const iV=q0.fetch,F7=q0.fetch.bind(q0),B7=q0.Headers,aV=q0.Request,oV=q0.Response,pd=Object.freeze(Object.defineProperty({__proto__:null,Headers:B7,Request:aV,Response:oV,default:F7,fetch:iV},Symbol.toStringTag,{value:"Module"})),sV=_$(pd);var hx={};Object.defineProperty(hx,"__esModule",{value:!0});let lV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hx.default=lV;var U7=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fx,"__esModule",{value:!0});const cV=U7(sV),uV=U7(hx);let fV=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cV.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,c,u;let h=null,p=null,v=null,g=a.status,_=a.statusText;if(a.ok){if(this.method!=="HEAD"){const T=await a.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?p=T:p=JSON.parse(T))}const E=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),S=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");E&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,g=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const E=await a.text();try{h=JSON.parse(E),Array.isArray(h)&&a.status===404&&(p=[],h=null,g=200,_="OK")}catch{a.status===404&&E===""?(g=204,_="No Content"):h={message:E}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,g=200,_="OK"),h&&this.shouldThrowOnError)throw new uV.default(h)}return{error:h,data:p,count:v,status:g,statusText:_}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};fx.default=fV;var hV=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ux,"__esModule",{value:!0});const dV=hV(fx);let pV=class extends dV.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ux.default=pV;var gV=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bp,"__esModule",{value:!0});const mV=gV(ux);let vV=class extends mV.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Bp.default=vV;var xV=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cx,"__esModule",{value:!0});const Yd=xV(Bp);let yV=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,r){const{head:n=!1,count:i}=r??{},a=n?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(o.length>0){const s=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Yd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};cx.default=yV;var $7=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c4,"__esModule",{value:!0});const wV=$7(cx),bV=$7(Bp);let _V=class W7{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new wV.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new W7(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{c.searchParams.append(p,v)})):(s="POST",u=r);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new bV.default({method:s,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};c4.default=_V;var gd=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bo,"__esModule",{value:!0});bo.PostgrestError=bo.PostgrestBuilder=bo.PostgrestTransformBuilder=bo.PostgrestFilterBuilder=bo.PostgrestQueryBuilder=bo.PostgrestClient=void 0;const z7=gd(c4);bo.PostgrestClient=z7.default;const H7=gd(cx);bo.PostgrestQueryBuilder=H7.default;const V7=gd(Bp);bo.PostgrestFilterBuilder=V7.default;const q7=gd(ux);bo.PostgrestTransformBuilder=q7.default;const G7=gd(fx);bo.PostgrestBuilder=G7.default;const K7=gd(hx);bo.PostgrestError=K7.default;var EV=bo.default={PostgrestClient:z7.default,PostgrestQueryBuilder:H7.default,PostgrestFilterBuilder:V7.default,PostgrestTransformBuilder:q7.default,PostgrestBuilder:G7.default,PostgrestError:K7.default};const{PostgrestClient:SV,PostgrestQueryBuilder:nEe,PostgrestFilterBuilder:iEe,PostgrestTransformBuilder:aEe,PostgrestBuilder:oEe,PostgrestError:sEe}=EV;class AV{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const CV="2.75.0",TV=`realtime-js/${CV}`,OV="1.0.0",L5=1e4,kV=1e3,NV=100;var I1;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(I1||(I1={}));var Gi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gi||(Gi={}));var ul;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ul||(ul={}));var D5;(function(e){e.websocket="websocket"})(D5||(D5={}));var Lf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lf||(Lf={}));class PV{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class X7{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pn||(Pn={}));const T8=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=IV(o,e,t,i),a),{}):{}},IV=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?Y7(a,o):j5(o)},Y7=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jV(t,r)}switch(e){case Pn.bool:return RV(t);case Pn.float4:case Pn.float8:case Pn.int2:case Pn.int4:case Pn.int8:case Pn.numeric:case Pn.oid:return LV(t);case Pn.json:case Pn.jsonb:return DV(t);case Pn.timestamp:return MV(t);case Pn.abstime:case Pn.date:case Pn.daterange:case Pn.int4range:case Pn.int8range:case Pn.money:case Pn.reltime:case Pn.text:case Pn.time:case Pn.timestamptz:case Pn.timetz:case Pn.tsrange:case Pn.tstzrange:return j5(t);default:return j5(t)}},j5=e=>e,RV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>Y7(t,s))}return e},MV=e=>typeof e=="string"?e.replace(" ","T"):e,Z7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yw{constructor(t,r,n={},i=L5){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var O8;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(O8||(O8={}));class R1{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=R1.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=R1.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=R1.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(a,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const p=a[u];if(p){const v=h.map(E=>E.presence_ref),g=p.map(E=>E.presence_ref),_=h.filter(E=>g.indexOf(E.presence_ref)<0),b=p.filter(E=>v.indexOf(E.presence_ref)<0);_.length>0&&(s[u]=_),b.length>0&&(c[u]=b)}else s[u]=h}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const h=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),h.length>0){const p=t[s].map(g=>g.presence_ref),v=h.filter(g=>p.indexOf(g.presence_ref)<0);t[s].unshift(...v)}n(s,h,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const h=c.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k8;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(k8||(k8={}));var L1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(L1||(L1={}));var yc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yc||(yc={}));class u4{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yw(this,ul.join,this.params,this.timeout),this.rejoinTimer=new X7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ul.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new R1(this),this.broadcastEndpointURL=Z7(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gi.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[L1.PRESENCE]&&this.bindings[L1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(yc.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(yc.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){t==null||t(yc.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(_=b==null?void 0:b.length)!==null&&_!==void 0?_:0,S=[];for(let T=0;T<E;T++){const O=b[T],{filter:{event:k,schema:D,table:z,filter:F}}=O,q=g&&g[T];if(q&&q.event===k&&q.schema===D&&q.table===z&&q.filter===F)S.push(Object.assign(Object.assign({},O),{id:q.id}));else{this.unsubscribe(),this.state=Gi.errored,t==null||t(yc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(yc.SUBSCRIBED);return}}).receive("error",g=>{this.state=Gi.errored,t==null||t(yc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Gi.joined&&t===L1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ul.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new yw(this,ul.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gi.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yw(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:h}=ul;if(n&&[s,c,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,b,E;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(b=g.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(g=>g.callback(v,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var _,b,E,S,T,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,D=(_=g.filter)===null||_===void 0?void 0:_.event;return k&&((b=r.ids)===null||b===void 0?void 0:b.includes(k))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const k=(T=(S=g==null?void 0:g.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return k==="*"||k===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:b,table:E,commit_timestamp:S,type:T,errors:O}=_;v=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:S,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(_))}g.callback(v,n)})}_isClosed(){return this.state===Gi.closed}_isJoined(){return this.state===Gi.joined}_isJoining(){return this.state===Gi.joining}_isLeaving(){return this.state===Gi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&u4.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ul.close,{},t)}_onError(t){this._on(ul.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=T8(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=T8(t.columns,t.old_record)),r}}const ww=()=>{},Qg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FV=[1e3,2e3,5e3,1e4],BV=1e4,UV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $V{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L5,this.transport=null,this.heartbeatIntervalMs=Qg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ww,this.ref=0,this.reconnectTimer=null,this.logger=ww,this.conn=null,this.sendBuffer=[],this.serializer=new PV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Wu(async()=>{const{default:s}=await Promise.resolve().then(()=>pd);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${D5.websocket}`,this.httpEndpoint=Z7(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OV}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case I1.connecting:return Lf.Connecting;case I1.open:return Lf.Open;case I1.closing:return Lf.Closing;default:return Lf.Closed}}isConnected(){return this.connectionState()===Lf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new u4(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ul.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:TV};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ul.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new X7(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:L5,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Qg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:ww,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>FV[p-1]||BV,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,v)=>v(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class f4 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ri(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WV extends f4{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M5 extends f4{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zV=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const J7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(async()=>{const{default:n}=await Promise.resolve().then(()=>pd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HV=()=>zV(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wu(()=>Promise.resolve().then(()=>pd),void 0)).Response:Response}),F5=e=>{if(Array.isArray(e))return e.map(r=>F5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=F5(n)}),t},VV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yh=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const bw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qV=(e,t,r)=>yh(void 0,void 0,void 0,function*(){const n=yield HV();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new WV(bw(i),a,o))}).catch(i=>{t(new M5(bw(i),i))}):t(new M5(bw(e),e))}),GV=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(VV(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Up(e,t,r,n,i,a){return yh(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,GV(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qV(c,s,n))})})}function L2(e,t,r,n){return yh(this,void 0,void 0,function*(){return Up(e,"GET",t,r,n)})}function jl(e,t,r,n,i){return yh(this,void 0,void 0,function*(){return Up(e,"POST",t,n,i,r)})}function B5(e,t,r,n,i){return yh(this,void 0,void 0,function*(){return Up(e,"PUT",t,n,i,r)})}function KV(e,t,r,n){return yh(this,void 0,void 0,function*(){return Up(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Q7(e,t,r,n,i){return yh(this,void 0,void 0,function*(){return Up(e,"DELETE",t,n,i,r)})}var XV=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class YV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return XV(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ri(t))return{data:null,error:t};throw t}})}}var ZV=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class JV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new YV(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return ZV(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ri(t))return{data:null,error:t};throw t}})}}var xo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const QV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eq{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=J7(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return xo(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},N8),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),p=yield(t=="PUT"?B5:jl)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ri(a))return{data:null,error:a};throw a}})}upload(t,r,n){return xo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return xo(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:N8.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const p=yield B5(this.fetch,s.toString(),c,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ri(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xo(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield jl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new f4("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ri(n))return{data:null,error:n};throw n}})}update(t,r,n){return xo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xo(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}copy(t,r,n){return xo(this,void 0,void 0,function*(){try{return{data:{path:(yield jl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return xo(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield jl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return xo(this,void 0,void 0,function*(){try{const i=yield jl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),c=()=>L2(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new JV(c,this.shouldThrowOnError)}info(t){return xo(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield L2(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:F5(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ri(n))return{data:null,error:n};throw n}})}exists(t){return xo(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KV(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ri(n)&&n instanceof M5){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return xo(this,void 0,void 0,function*(){try{return{data:yield Q7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ri(r))return{data:null,error:r};throw r}})}list(t,r,n){return xo(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},QV),r),{prefix:t||""});return{data:yield jl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}listV2(t,r){return xo(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield jl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ri(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const tq="2.75.0",rq={"X-Client-Info":`storage-js/${tq}`};var Mh=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class nq{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rq),r),this.fetch=J7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Mh(this,void 0,void 0,function*(){try{return{data:yield L2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ri(t))return{data:null,error:t};throw t}})}getBucket(t){return Mh(this,void 0,void 0,function*(){try{return{data:yield L2(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ri(r))return{data:null,error:r};throw r}})}createBucket(t){return Mh(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ri(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Mh(this,void 0,void 0,function*(){try{return{data:yield B5(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ri(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Mh(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ri(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Mh(this,void 0,void 0,function*(){try{return{data:yield Q7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ri(r))return{data:null,error:r};throw r}})}}class iq extends nq{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new eq(this.url,this.headers,t,this.fetch)}}const aq="2.75.0";let v1="";typeof Deno<"u"?v1="deno":typeof document<"u"?v1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?v1="react-native":v1="node";const oq={"X-Client-Info":`supabase-js-${v1}/${aq}`},sq={headers:oq},lq={schema:"public"},cq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uq={};var fq=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const hq=e=>{let t;return e?t=e:typeof fetch>"u"?t=F7:t=fetch,(...r)=>t(...r)},dq=()=>typeof Headers>"u"?B7:Headers,pq=(e,t,r)=>{const n=hq(r),i=dq();return(a,o)=>fq(void 0,void 0,void 0,function*(){var s;const c=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var gq=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};function mq(e){return e.endsWith("/")?e:e+"/"}function vq(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),s),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>gq(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function xq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const eR="2.75.0",Qh=30*1e3,U5=3,_w=U5*Qh,yq="http://localhost:9999",wq="supabase.auth.token",bq={"X-Client-Info":`gotrue-js/${eR}`},$5="X-Supabase-Api-Version",tR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_q=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Eq=10*60*1e3;class fp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function br(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sq extends fp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Aq(e){return br(e)&&e.name==="AuthApiError"}class Df extends fp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class lf extends fp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class xu extends lf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cq(e){return br(e)&&e.name==="AuthSessionMissingError"}class Fh extends lf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class em extends lf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tm extends lf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tq(e){return br(e)&&e.name==="AuthImplicitGrantRedirectError"}class P8 extends lf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W5 extends lf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ew(e){return br(e)&&e.name==="AuthRetryableFetchError"}class I8 extends lf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class z5 extends lf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const D2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R8=` 	
\r=`.split(""),Oq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<R8.length;t+=1)e[R8[t].charCodeAt(0)]=-2;for(let t=0;t<D2.length;t+=1)e[D2[t].charCodeAt(0)]=t;return e})();function L8(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(D2[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(D2[n]),t.queuedBits-=6}}function rR(e,t,r){const n=Oq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function D8(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Pq(o,n,r)};for(let o=0;o<e.length;o+=1)rR(e.charCodeAt(o),i,a);return t.join("")}function kq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}kq(n,t)}}function Pq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function C0(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)rR(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Iq(e){const t=[];return Nq(e,r=>t.push(r)),new Uint8Array(t)}function $f(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>L8(i,r,n)),L8(null,r,n),t.join("")}function Rq(e){return Math.round(Date.now()/1e3)+e}function Lq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Go=()=>typeof window<"u"&&typeof document<"u",Sf={tested:!1,writable:!1},nR=()=>{if(!Go())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sf.tested)return Sf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sf.tested=!0,Sf.writable=!0}catch{Sf.tested=!0,Sf.writable=!1}return Sf.writable};function Dq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const iR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(async()=>{const{default:n}=await Promise.resolve().then(()=>pd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",e0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Af=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pu=async(e,t)=>{await e.removeItem(t)};class dx{constructor(){this.promise=new dx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dx.promiseConstructor=Promise;function Sw(e){const t=e.split(".");if(t.length!==3)throw new z5("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_q.test(t[n]))throw new z5("JWT not in base64url format");return{header:JSON.parse(D8(t[0])),payload:JSON.parse(D8(t[1])),signature:C0(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Fq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Bq(e){return("0"+e.toString(16)).substr(-2)}function Uq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Bq).join("")}async function $q(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Wq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $q(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bh(e,t,r=!1){const n=Uq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await e0(e,`${t}-code-verifier`,i);const a=await Wq(n);return[a,n===a?"plain":"s256"]}const zq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hq(e){const t=e.headers.get($5);if(!t||!t.match(zq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uh(e){if(!Gq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Aw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j8(e){return JSON.parse(JSON.stringify(e))}var Kq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xq=[502,503,504];async function M8(e){var t;if(!jq(e))throw new W5(kf(e),0);if(Xq.includes(e.status))throw new W5(kf(e),e.status);let r;try{r=await e.json()}catch(a){throw new Df(kf(a),a)}let n;const i=Hq(e);if(i&&i.getTime()>=tR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new I8(kf(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new I8(kf(r),e.status,r.weak_password.reasons);throw new Sq(kf(r),e.status||500,n)}const Yq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Rr(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[$5]||(a[$5]=tR["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Zq(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Zq(e,t,r,n,i,a){const o=Yq(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new W5(kf(c),0)}if(s.ok||await M8(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await M8(c)}}function sl(e){var t;let r=null;eG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Rq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function F8(e){const t=sl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Au(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Jq(e){return{data:e,error:null}}function Qq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Kq(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function B8(e){return e}function eG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cw=["global","local","others"];var tG=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class rG{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cw[0]){if(Cw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cw.join(", ")}`);try{return await Rr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Rr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Au})}catch(n){if(br(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=tG(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Rr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(br(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Rr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Au})}catch(r){if(br(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Rr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:B8});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(s=h.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);u[`${E}Page`]=b}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(br(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uh(t);try{return await Rr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Au})}catch(r){if(br(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uh(t);try{return await Rr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Au})}catch(n){if(br(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uh(t);try{return await Rr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Au})}catch(n){if(br(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uh(t.userId);try{const{data:r,error:n}=await Rr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(br(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uh(t.userId),Uh(t.id);try{return{data:await Rr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(br(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Rr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:B8});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(s=h.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);u[`${E}Page`]=b}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(br(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Rr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Rr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Rr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Rr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(br(r))return{data:null,error:r};throw r}}}function U8(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const $h={debug:!!(globalThis&&nR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nG extends aR{}async function iG(e,t,r){$h.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$h.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$h.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{$h.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw $h.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($h.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oG(e){return parseInt(e,16)}function sG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function lG(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=oR(e.address),_=h?`${h}://${n}`:n,b=e.statement?`${e.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${g}

${b}`;let S=`URI: ${p}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),s&&(S+=`
Not Before: ${s.toISOString()}`),c&&(S+=`
Request ID: ${c}`),u){let T=`
Resources:`;for(const O of u){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);T+=`
- ${O}`}S+=T}return`${E}
${S}`}class Ii extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class j2 extends Ii{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function cG({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ii({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ii({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ii({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ii({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ii({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ii({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ii({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ii({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(lR(o)){if(a.rp.id!==o)return new Ii({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ii({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ii({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ii({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ii({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ii({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ii({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(lR(n)){if(r.rpId!==n)return new Ii({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ii({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ii({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ii({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var sR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class fG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hG=new fG;function dG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=sR(e,["challenge","user","excludeCredentials"]),a=C0(t).buffer,o=Object.assign(Object.assign({},r),{id:C0(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:C0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function pG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=sR(e,["challenge","allowCredentials"]),i=C0(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:C0(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function gG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:$f(new Uint8Array(e.response.attestationObject)),clientDataJSON:$f(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:$f(new Uint8Array(i.authenticatorData)),clientDataJSON:$f(new Uint8Array(i.clientDataJSON)),signature:$f(new Uint8Array(i.signature)),userHandle:i.userHandle?$f(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $8(){var e,t;return!!(Go()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new j2("Browser returned unexpected credential type",t)}:{data:null,error:new j2("Empty credential response",t)}}catch(t){return{data:null,error:cG({error:t,options:e})}}}async function xG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new j2("Browser returned unexpected credential type",t)}:{data:null,error:new j2("Empty credential response",t)}}catch(t){return{data:null,error:uG({error:t,options:e})}}}const yG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},wG={userVerification:"preferred",hints:["security-key"]};function M2(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=M2(s,o):n[a]=M2(o)}else n[a]=o}return n}function bG(e,t){return M2(yG,e,t||{})}function _G(e,t){return M2(wG,e,t||{})}class EG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=i??hG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=bG(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await vG({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=_G(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await xG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return br(o)?{data:null,error:o}:{data:null,error:new Df("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new fp("rpId is required for WebAuthn authentication")};try{if(!$8())return{data:null,error:new Df("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return br(o)?{data:null,error:o}:{data:null,error:new Df("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new fp("rpId is required for WebAuthn registration")};try{if(!$8())return{data:null,error:new Df("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return br(o)?{data:null,error:o}:{data:null,error:new Df("Unexpected error in register",o)}}}}aG();const SG={url:yq,storageKey:wq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function W8(e,t,r){return await r()}const Wh={};class hp{get jwks(){var t,r;return(r=(t=Wh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wh[this.storageKey]=Object.assign(Object.assign({},Wh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wh[this.storageKey]=Object.assign(Object.assign({},Wh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hp.nextInstanceID,hp.nextInstanceID+=1,this.instanceID>0&&Go()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},SG),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iR(i.fetch),this.lock=i.lock||W8,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Go()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=iG:this.lock=W8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EG(this)},this.persistSession?(i.storage?this.storage=i.storage:nR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U8(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=U8(this.memoryStorage)),Go()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Go()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Tq(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return br(r)?{error:r}:{error:new Df("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:sl}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(br(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:h,password:p,options:v}=t;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Bh(this.storage,this.storageKey)),a=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:_},xform:sl})}else if("phone"in t){const{phone:h,password:p,options:v}=t;a=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:sl})}else throw new em("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(br(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F8})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F8})}else throw new em("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(br(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,c,u,h,p,v;let g,_;if("message"in t)g=t.message,_=t.signature;else{const{chain:b,wallet:E,statement:S,options:T}=t;let O;if(Go())if(typeof E=="object")O=E;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")O=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const k=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),D=await O.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=oR(D[0]);let F=(n=T==null?void 0:T.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!F){const B=await O.request({method:"eth_chainId"});F=oG(B)}const q={domain:k.host,address:z,statement:S,uri:k.href,version:"1",chainId:F,nonce:(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=lG(q),_=await O.request({method:"personal_sign",params:[sG(g),z]})}try{const{data:b,error:E}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:sl});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Fh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(br(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,i,a,o,s,c,u,h,p,v,g;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:E,wallet:S,statement:T,options:O}=t;let k;if(Go())if(typeof S=="object")k=S;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))k=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const D=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const z=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),T?{statement:T}:null));let F;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")F=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)F=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)_=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),b=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((s=O==null?void 0:O.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const z=await k.signMessage(new TextEncoder().encode(_),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=z}}try{const{data:E,error:S}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:$f(b)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:sl});if(S)throw S;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Fh}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:S})}catch(E){if(br(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const r=await Af(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sl});if(await pu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Fh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(br(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sl}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(br(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Bh(this.storage,this.storageKey));const{error:p}=await Rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:h}=await Rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new em("You must provide either an email or phone number.")}catch(s){if(br(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Rr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:sl});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(br(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Bh(this.storage,this.storageKey)),await Rr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Jq})}catch(a){if(br(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xu;const{error:i}=await Rr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(br(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Rr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await Rr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new em("You must provide either an email or phone number and a type")}catch(r){if(br(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Af(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_w:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Af(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Aw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Au}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xu}:await Rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Au})})}catch(r){if(br(r))return Cq(r)&&(await this._removeSession(),await pu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new xu;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Bh(this.storage,this.storageKey));const{data:u,error:h}=await Rr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Au});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(br(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xu;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Sw(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(br(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xu;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(br(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Go())throw new tm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new P8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new P8("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new tm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(s);let v=h+p;c&&(v=parseInt(c));const g=v-h;g*1e3<=Qh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const _=v-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,h);const{data:b,error:E}=await this._getUser(a);if(E)throw E;const S={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:v,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(br(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Af(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Aq(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await pu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Lq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Bh(this.storage,this.storageKey,!0));try{return await Rr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(br(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(br(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,u,h;const{data:p,error:v}=a;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Rr(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Go()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(br(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:u,nonce:h}=t,p=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sl}),{data:v,error:g}=p;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Fh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:g})}catch(i){if(br(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Rr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fq(async i=>(i>0&&await Mq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Rr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Ew(a)&&Date.now()+o-n<Qh})}catch(n){if(this._debug(r,"error",n),br(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Go()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Af(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Af(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await e0(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Aw()}else if(i&&!i.user&&!i.user){const o=await Af(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await pu(this.storage,this.storageKey+"-user"),await e0(this.storage,this.storageKey,i)):i.user=Aw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_w;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${_w}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ew(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dx;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new xu;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),br(a)){const o={data:null,error:a};return Ew(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await e0(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=j8(i);await e0(this.storage,this.storageKey,a)}else{const i=j8(r);await e0(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await pu(this.storage,this.storageKey),await pu(this.storage,this.storageKey+"-code-verifier"),await pu(this.storage,this.storageKey+"-user"),this.userStorage&&await pu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Go()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Qh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qh}ms, refresh threshold is ${U5} ticks`),i<=U5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Go()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Bh(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Rr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Rr(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(br(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gG(t.webauthn.credential_response):mG(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await Rr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(br(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=await Rr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:dG(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:pG(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(br(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sw(i.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Eq>i)return n;const{data:a,error:o}=await Rr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:_}=await this.getSession();if(_||!g.session)return{data:null,error:_};n=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=Sw(n);r!=null&&r.allowExpired||Vq(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const h=qq(i.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,Iq(`${s}.${c}`)))throw new z5("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}}}hp.nextInstanceID=0;const AG=hp;class CG extends AG{constructor(t){super(t)}}var TG=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class OG{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=xq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:lq,realtime:uq,auth:Object.assign(Object.assign({},cq),{storageKey:c}),global:sq},h=vq(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=pq(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new SV(new URL("rest/v1",s).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new iq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new rV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return TG(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:c,debug:u},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CG({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $V(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kG=(e,t,r)=>new OG(e,t,r);function NG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PG="https://jxymbulpvnzzysfcsxvw.supabase.co",IG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp4eW1idWxwdm56enlzZmNzeHZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjc0OTAsImV4cCI6MjA3NTk0MzQ5MH0.J2EFM3FgswrWw1KGRmA-3t9fon0a_nff_0bcqEaeJCc",Pr=kG(PG,IG,{auth:{persistSession:!0,autoRefreshToken:!0}}),cR=L.createContext(void 0),Ji=()=>{const e=L.useContext(cR);if(!e)throw new Error("useApp must be used within an AppProvider");return e},RG=({children:e})=>{const[t,r]=L.useState(null),[n,i]=L.useState(!0),[a,o]=L.useState([]),[s,c]=L.useState([]),[u,h]=L.useState([]),[p,v]=L.useState([]),[g,_]=L.useState([]),[b,E]=L.useState([]),[S,T]=L.useState([]),[O,k]=L.useState([]),D=L.useMemo(()=>{const Ne=new Map;return s.forEach(xe=>Ne.set(xe.id,xe)),Ne},[s]),z=L.useMemo(()=>{const Ne=new Map;return u.forEach(xe=>Ne.set(xe.name,xe)),Ne},[u]),F=L.useMemo(()=>{const Ne=new Map;return p.forEach(xe=>Ne.set(xe.abbreviation,xe)),Ne},[p]),q=L.useMemo(()=>{const Ne=new Map;return g.forEach(xe=>Ne.set(xe.name,xe)),Ne},[g]);L.useEffect(()=>{(async()=>{await B(),await ee()})()},[]);const B=L.useCallback(async()=>{try{const{data:{session:Ne}}=await Pr.auth.getSession();if(Ne!=null&&Ne.user){const{data:xe}=await Pr.from("user_profiles").select("id, username, role, name").eq("id",Ne.user.id).single();xe&&r({id:xe.id,username:xe.username,password:"",role:xe.role,name:xe.name})}}catch(Ne){console.error("Erreur lors de la vrification de l'utilisateur:",Ne)}finally{i(!1)}},[]),ee=L.useCallback(async()=>{try{await Promise.all([W(),ae(),_e(),j()]),await Promise.all([ne(),Me(),Dt(),Ot()])}catch(Ne){console.error("Erreur lors du chargement des donnes:",Ne)}},[]),W=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("user_profiles").select("id, username, name, role").order("name");!xe&&Ne&&o(Ne.map(fe=>({id:fe.id,username:fe.username,password:"",role:fe.role,name:fe.name})))},[]),U=L.useCallback(async(Ne,xe)=>{const{error:fe}=await Pr.from("user_profiles").update({role:xe}).eq("id",Ne);if(fe)throw fe;o(Qe=>Qe.map(ft=>ft.id===Ne?{...ft,role:xe}:ft)),(t==null?void 0:t.id)===Ne&&r(Qe=>Qe?{...Qe,role:xe}:null)},[t]),K=L.useCallback(async(Ne,xe,fe,Qe)=>{try{const{data:ft}=await Pr.from("user_profiles").select("username").eq("username",Ne).maybeSingle();if(ft)throw new Error("Cet identifiant existe dj");const Ze=`${Ne}@gestionstocks.app`,{data:Rt,error:$t}=await Pr.auth.signUp({email:Ze,password:fe,options:{emailRedirectTo:void 0,data:{username:Ne,name:xe}}});if($t||!Rt.user)throw new Error("Erreur lors de la cration du compte");await new Promise(mr=>setTimeout(mr,500));const{error:fr}=await Pr.from("user_profiles").insert([{id:Rt.user.id,username:Ne,name:xe,role:Qe}]);if(fr)throw new Error("Erreur lors de la cration du profil");const er={id:Rt.user.id,username:Ne,password:"",role:Qe,name:xe};o(mr=>[...mr,er])}catch(ft){throw console.error("Erreur lors de la cration de l'utilisateur:",ft),ft}},[]),oe=L.useCallback(async Ne=>{try{if((t==null?void 0:t.id)===Ne)throw new Error("Vous ne pouvez pas supprimer votre propre compte");const{error:xe}=await Pr.from("user_profiles").delete().eq("id",Ne);if(xe)throw xe;o(fe=>fe.filter(Qe=>Qe.id!==Ne))}catch(xe){throw console.error("Erreur lors de la suppression de l'utilisateur:",xe),xe}},[t]),ae=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("categories").select("id, name, description").order("name");!xe&&Ne&&h(Ne.map(fe=>({id:fe.id,name:fe.name,description:fe.description||void 0})))},[]),Re=L.useCallback(async Ne=>{const{data:xe,error:fe}=await Pr.from("categories").insert([Ne]).select("id, name, description").single();if(!fe&&xe){const Qe={id:xe.id,name:xe.name,description:xe.description||void 0};h(ft=>[...ft,Qe])}else throw fe},[]),ke=L.useCallback(async(Ne,xe)=>{const{error:fe}=await Pr.from("categories").update(xe).eq("id",Ne);if(fe)throw fe;{h(ft=>ft.map(Ze=>Ze.id===Ne?{...Ze,...xe}:Ze));const Qe=u.find(ft=>ft.id===Ne);Qe&&Qe.name!==xe.name&&(await Pr.from("products").update({category:xe.name}).eq("category",Qe.name),c(ft=>ft.map(Ze=>Ze.category===Qe.name?{...Ze,category:xe.name}:Ze)))}},[u,s]),we=L.useCallback(async Ne=>{const{error:xe}=await Pr.from("categories").delete().eq("id",Ne);if(!xe)h(fe=>fe.filter(Qe=>Qe.id!==Ne));else throw xe},[]),_e=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("units").select("id, name, abbreviation, is_default").order("name");!xe&&Ne&&v(Ne.map(fe=>({id:fe.id,name:fe.name,abbreviation:fe.abbreviation,isDefault:fe.is_default})))},[]),$e=L.useCallback(async Ne=>{const{data:xe,error:fe}=await Pr.from("units").insert([{...Ne,is_default:Ne.isDefault}]).select("id, name, abbreviation, is_default").single();if(!fe&&xe){const Qe={id:xe.id,name:xe.name,abbreviation:xe.abbreviation,isDefault:xe.is_default};v(ft=>[...ft,Qe])}else throw fe},[]),We=L.useCallback(async Ne=>{const{error:xe}=await Pr.from("units").delete().eq("id",Ne);if(!xe)v(fe=>fe.filter(Qe=>Qe.id!==Ne));else throw xe},[]),j=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("storage_zones").select("id, name, description").order("name");!xe&&Ne&&_(Ne.map(fe=>({id:fe.id,name:fe.name,description:fe.description||void 0})))},[]),Y=L.useCallback(async Ne=>{const{data:xe,error:fe}=await Pr.from("storage_zones").insert([Ne]).select("id, name, description").single();if(!fe&&xe){const Qe={id:xe.id,name:xe.name,description:xe.description||void 0};_(ft=>[...ft,Qe])}else throw fe},[]),H=L.useCallback(async(Ne,xe)=>{const{data:fe}=await Pr.from("storage_zones").select("*").eq("id",Ne).single(),{error:Qe}=await Pr.from("storage_zones").update(xe).eq("id",Ne);if(Qe)throw Qe;if(_(ft=>ft.map(Ze=>Ze.id===Ne?{...Ze,...xe}:Ze)),fe&&fe.name!==xe.name){const{data:ft}=await Pr.from("products").select("id, shelf, position").eq("storage_zone",fe.name);if(ft&&ft.length>0)for(const Ze of ft){const Rt=`${xe.name}.${Ze.shelf||""}.${Ze.position||""}`;await Pr.from("products").update({storage_zone:xe.name,location:Rt}).eq("id",Ze.id)}c(Ze=>Ze.map(Rt=>{if(Rt.storageZone===fe.name){const $t=`${xe.name}.${Rt.shelf||""}.${Rt.position||""}`;return{...Rt,storageZone:xe.name,location:$t}}return Rt}))}},[]),X=L.useCallback(async Ne=>{const{error:xe}=await Pr.from("storage_zones").delete().eq("id",Ne);if(!xe)_(fe=>fe.filter(Qe=>Qe.id!==Ne));else throw xe},[]),ne=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("products").select(`
        id, reference, designation, category_id, storage_zone_id, shelf, position, location,
        current_stock, min_stock, max_stock, unit_id, unit_price, photo,
        order_link, order_link_1, supplier_1, order_link_2, supplier_2, order_link_3, supplier_3,
        deleted_at, created_at, updated_at,
        category:categories(name),
        storage_zone:storage_zones(name),
        unit:units(abbreviation)
      `).is("deleted_at",null).order("reference");!xe&&Ne&&c(Ne.map(fe=>{var Qe,ft,Ze,Rt,$t,fr;return{id:fe.id,reference:fe.reference,designation:fe.designation,category:Array.isArray(fe.category)?((Qe=fe.category[0])==null?void 0:Qe.name)||"":((ft=fe.category)==null?void 0:ft.name)||"",storageZone:Array.isArray(fe.storage_zone)?((Ze=fe.storage_zone[0])==null?void 0:Ze.name)||void 0:((Rt=fe.storage_zone)==null?void 0:Rt.name)||void 0,shelf:fe.shelf||void 0,position:fe.position||void 0,location:fe.location,currentStock:fe.current_stock,minStock:fe.min_stock,maxStock:fe.max_stock,unit:Array.isArray(fe.unit)?(($t=fe.unit[0])==null?void 0:$t.abbreviation)||"":((fr=fe.unit)==null?void 0:fr.abbreviation)||"",unitPrice:fe.unit_price||void 0,photo:fe.photo||void 0,orderLink:fe.order_link||void 0,orderLink1:fe.order_link_1||void 0,supplier1:fe.supplier_1||void 0,orderLink2:fe.order_link_2||void 0,supplier2:fe.supplier_2||void 0,orderLink3:fe.order_link_3||void 0,supplier3:fe.supplier_3||void 0,deletedAt:fe.deleted_at?new Date(fe.deleted_at):void 0,createdAt:new Date(fe.created_at),updatedAt:new Date(fe.updated_at)}}))},[]),Oe=L.useCallback(async Ne=>{var Rt,$t,fr,er,mr,nr,jr,Cr,$r;const xe=(Rt=z.get(Ne.category))==null?void 0:Rt.id,fe=($t=F.get(Ne.unit))==null?void 0:$t.id,Qe=Ne.storageZone?(fr=q.get(Ne.storageZone))==null?void 0:fr.id:null;if(!xe||!fe)throw new Error("Catgorie ou unit invalide");const{data:ft,error:Ze}=await Pr.from("products").insert([{reference:Ne.reference,designation:Ne.designation,category_id:xe,storage_zone_id:Qe,shelf:Ne.shelf,position:Ne.position,location:Ne.location,current_stock:Ne.currentStock,min_stock:Ne.minStock,max_stock:Ne.maxStock,unit_id:fe,unit_price:Ne.unitPrice,photo:Ne.photo,order_link:Ne.orderLink,order_link_1:Ne.orderLink1,supplier_1:Ne.supplier1,order_link_2:Ne.orderLink2,supplier_2:Ne.supplier2,order_link_3:Ne.orderLink3,supplier_3:Ne.supplier3}]).select(`
        id, reference, designation, current_stock, created_at, updated_at,
        category:categories(name),
        storage_zone:storage_zones(name),
        unit:units(abbreviation)
      `).single();if(!Ze&&ft&&t){const vr=ft,kn={...Ne,id:vr.id,category:Array.isArray(vr.category)?((er=vr.category[0])==null?void 0:er.name)||Ne.category:((mr=vr.category)==null?void 0:mr.name)||Ne.category,storageZone:Array.isArray(vr.storage_zone)?((nr=vr.storage_zone[0])==null?void 0:nr.name)||Ne.storageZone:((jr=vr.storage_zone)==null?void 0:jr.name)||Ne.storageZone,unit:Array.isArray(vr.unit)?((Cr=vr.unit[0])==null?void 0:Cr.abbreviation)||Ne.unit:(($r=vr.unit)==null?void 0:$r.abbreviation)||Ne.unit,createdAt:new Date(vr.created_at),updatedAt:new Date(vr.updated_at)};c(Vt=>[...Vt,kn]),lt({productId:ft.id,productReference:ft.reference,productDesignation:ft.designation,movementType:"initial",quantity:ft.current_stock,previousStock:0,newStock:ft.current_stock,userId:t.id,userName:t.name,reason:"Cration du produit"})}else throw Ze},[z,F,q,t]),Ie=L.useCallback(async(Ne,xe)=>{var Ze,Rt,$t;const fe=D.get(Ne);if(!fe){console.error("Produit introuvable:",Ne);return}const Qe={};if(xe.designation!==void 0&&(Qe.designation=xe.designation),xe.category!==void 0){const fr=(Ze=z.get(xe.category))==null?void 0:Ze.id;fr&&(Qe.category_id=fr)}if(xe.storageZone!==void 0){const fr=(Rt=q.get(xe.storageZone))==null?void 0:Rt.id;fr&&(Qe.storage_zone_id=fr)}if(xe.shelf!==void 0&&(Qe.shelf=xe.shelf),xe.position!==void 0&&(Qe.position=xe.position),xe.location!==void 0&&(Qe.location=xe.location),xe.currentStock!==void 0&&(Qe.current_stock=xe.currentStock),xe.minStock!==void 0&&(Qe.min_stock=xe.minStock),xe.maxStock!==void 0&&(Qe.max_stock=xe.maxStock),xe.unit!==void 0){const fr=($t=F.get(xe.unit))==null?void 0:$t.id;fr&&(Qe.unit_id=fr)}xe.photo!==void 0&&(Qe.photo=xe.photo),xe.orderLink!==void 0&&(Qe.order_link=xe.orderLink),xe.unitPrice!==void 0&&(Qe.unit_price=xe.unitPrice),xe.supplier1!==void 0&&(Qe.supplier_1=xe.supplier1),xe.orderLink1!==void 0&&(Qe.order_link_1=xe.orderLink1),xe.supplier2!==void 0&&(Qe.supplier_2=xe.supplier2),xe.orderLink2!==void 0&&(Qe.order_link_2=xe.orderLink2),xe.supplier3!==void 0&&(Qe.supplier_3=xe.supplier3),xe.orderLink3!==void 0&&(Qe.order_link_3=xe.orderLink3);const{error:ft}=await Pr.from("products").update(Qe).eq("id",Ne);if(ft)throw console.error("Erreur lors de la mise  jour du produit:",ft),ft;if(c(fr=>fr.map(er=>{if(er.id===Ne){const mr={...er,...xe,updatedAt:new Date};return console.log("Mise  jour produit:",{id:Ne,updates:xe,location:mr.location}),mr}return er})),xe.currentStock!==void 0&&xe.currentStock!==fe.currentStock&&t){const fr=xe.currentStock-fe.currentStock;lt({productId:fe.id,productReference:fe.reference,productDesignation:fe.designation,movementType:fr>0?"entry":fr<0?"exit":"adjustment",quantity:Math.abs(fr),previousStock:fe.currentStock,newStock:xe.currentStock,userId:t.id,userName:t.name,reason:"Ajustement manuel du stock"})}},[D,z,F,q,t]),be=L.useCallback(async Ne=>{const{error:xe}=await Pr.from("products").update({deleted_at:new Date().toISOString()}).eq("id",Ne);if(!xe)c(fe=>fe.filter(Qe=>Qe.id!==Ne));else throw xe},[]),Pe=L.useCallback(Ne=>D.get(Ne),[D]),ze=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("products").select("reference");return xe||!Ne?(console.error("Erreur lors de la rcupration des rfrences:",xe),[]):Ne.map(fe=>fe.reference)},[]),Me=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("exit_requests").select("*").order("requested_at",{ascending:!1}).limit(500);if(xe){console.error("Erreur lors du chargement des demandes:",xe);return}if(Ne){const fe=[...new Set([...Ne.map(Ze=>Ze.requested_by).filter(Boolean),...Ne.map(Ze=>Ze.approved_by).filter(Boolean)])],{data:Qe}=await Pr.from("user_profiles").select("id, username").in("id",fe),ft=new Map((Qe==null?void 0:Qe.map(Ze=>[Ze.id,Ze.username]))||[]);E(Ne.map(Ze=>({id:Ze.id,productId:Ze.product_id,productReference:Ze.product_reference,productDesignation:Ze.product_designation,productPhoto:Ze.product_photo,quantity:Ze.quantity,requestedBy:ft.get(Ze.requested_by)||Ze.requested_by,requestedAt:new Date(Ze.requested_at),status:Ze.status,approvedBy:Ze.approved_by?ft.get(Ze.approved_by)||Ze.approved_by:void 0,approvedAt:Ze.approved_at?new Date(Ze.approved_at):void 0,receivedAt:Ze.received_at?new Date(Ze.received_at):void 0,reason:Ze.reason||void 0,notes:Ze.notes||void 0})))}},[]),st=L.useCallback(async Ne=>{if(!t)throw new Error("Utilisateur non connect");const{data:xe,error:fe}=await Pr.from("exit_requests").insert([{product_id:Ne.productId,product_reference:Ne.productReference,product_designation:Ne.productDesignation,product_photo:Ne.productPhoto,quantity:Ne.quantity,requested_by:t.id,reason:Ne.reason,status:"pending"}]).select().single();if(fe)throw console.error("Erreur lors de l'ajout de la demande:",fe),fe;const Qe={id:xe.id,productId:xe.product_id,productReference:xe.product_reference,productDesignation:xe.product_designation,productPhoto:xe.product_photo,quantity:xe.quantity,requestedBy:t.username,requestedAt:new Date(xe.requested_at),status:xe.status,reason:xe.reason};E(ft=>[Qe,...ft])},[t]),Fe=L.useCallback(async(Ne,xe)=>{const fe=b.find(Ze=>Ze.id===Ne);if(!fe)throw new Error("Demande introuvable");const Qe={};xe.status&&(Qe.status=xe.status),xe.approvedBy&&(Qe.approved_by=xe.approvedBy),xe.notes&&(Qe.notes=xe.notes),xe.receivedAt&&(Qe.received_at=xe.receivedAt.toISOString()),(xe.status==="awaiting_reception"||xe.status==="rejected")&&(Qe.approved_at=new Date().toISOString());const{error:ft}=await Pr.from("exit_requests").update(Qe).eq("id",Ne);if(ft)throw ft;if(E(Ze=>Ze.map(Rt=>Rt.id===Ne?{...Rt,...xe}:Rt)),xe.status==="approved"&&t){const Ze=D.get(fe.productId);if(Ze){const Rt=Ze.currentStock-fe.quantity;await Ie(Ze.id,{currentStock:Rt}),await lt({productId:Ze.id,productReference:Ze.reference,productDesignation:Ze.designation,movementType:"exit",quantity:fe.quantity,previousStock:Ze.currentStock,newStock:Rt,userId:t.id,userName:t.name,reason:`Sortie de stock - ${fe.reason||"Demande approuve"}`,notes:fe.notes}),Jt({productReference:Ze.reference,productDesignation:Ze.designation,storageZone:Ze.storageZone,shelf:Ze.shelf,position:Ze.position,quantity:fe.quantity,requestedBy:fe.requestedBy})}}},[b,D,t,Ie]),me=L.useCallback(async Ne=>{const{error:xe}=await Pr.from("exit_requests").delete().eq("id",Ne);if(!xe)E(fe=>fe.filter(Qe=>Qe.id!==Ne));else throw xe},[]),Dt=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("stock_movements").select("*").order("timestamp",{ascending:!1}).limit(500);!xe&&Ne&&T(Ne.map(fe=>({id:fe.id,productId:fe.product_id,productReference:fe.product_reference,productDesignation:fe.product_designation,movementType:fe.movement_type,quantity:fe.quantity,previousStock:fe.previous_stock,newStock:fe.new_stock,userId:fe.user_id,userName:fe.user_name,reason:fe.reason,notes:fe.notes||void 0,timestamp:new Date(fe.timestamp)})))},[]),lt=L.useCallback(async Ne=>{const{data:xe,error:fe}=await Pr.from("stock_movements").insert([{product_id:Ne.productId,product_reference:Ne.productReference,product_designation:Ne.productDesignation,movement_type:Ne.movementType,quantity:Ne.quantity,previous_stock:Ne.previousStock,new_stock:Ne.newStock,user_id:Ne.userId,user_name:Ne.userName,reason:Ne.reason,notes:Ne.notes}]).select().single();if(!fe&&xe){const Qe={id:xe.id,productId:xe.product_id,productReference:xe.product_reference,productDesignation:xe.product_designation,movementType:xe.movement_type,quantity:xe.quantity,previousStock:xe.previous_stock,newStock:xe.new_stock,userId:xe.user_id,userName:xe.user_name,reason:xe.reason,notes:xe.notes,timestamp:new Date(xe.timestamp)};T(ft=>[Qe,...ft.slice(0,499)])}},[]),Ot=L.useCallback(async()=>{const{data:Ne,error:xe}=await Pr.from("orders").select("*").order("ordered_at",{ascending:!1}).limit(200);!xe&&Ne&&k(Ne.map(fe=>({id:fe.id,product_id:fe.product_id,product_reference:fe.product_reference,product_designation:fe.product_designation,quantity:fe.quantity,ordered_by:fe.ordered_by,ordered_by_name:fe.ordered_by_name,ordered_at:new Date(fe.ordered_at),received_at:fe.received_at?new Date(fe.received_at):void 0,status:fe.status,notes:fe.notes||void 0,created_at:new Date(fe.created_at),updated_at:new Date(fe.updated_at)})))},[]),ot=L.useCallback(async Ne=>{if(!t)throw new Error("Utilisateur non connect");const{data:xe,error:fe}=await Pr.from("orders").insert([{product_id:Ne.product_id,product_reference:Ne.product_reference,product_designation:Ne.product_designation,quantity:Ne.quantity,ordered_by:t.id,ordered_by_name:t.name,status:"pending",notes:Ne.notes}]).select().single();if(fe)throw fe;if(xe){const Qe={id:xe.id,product_id:xe.product_id,product_reference:xe.product_reference,product_designation:xe.product_designation,quantity:xe.quantity,ordered_by:xe.ordered_by,ordered_by_name:xe.ordered_by_name,ordered_at:new Date(xe.ordered_at),status:xe.status,notes:xe.notes,created_at:new Date(xe.created_at),updated_at:new Date(xe.updated_at)};k(ft=>[Qe,...ft])}},[t]),Ut=L.useCallback(async(Ne,xe)=>{const fe={};xe.status!==void 0&&(fe.status=xe.status),xe.received_at!==void 0&&(fe.received_at=xe.received_at),xe.notes!==void 0&&(fe.notes=xe.notes);const{error:Qe}=await Pr.from("orders").update(fe).eq("id",Ne);if(Qe)throw Qe;k(ft=>ft.map(Ze=>Ze.id===Ne?{...Ze,...xe,updated_at:new Date}:Ze))},[]),at=L.useCallback(()=>O.filter(Ne=>Ne.status==="pending"),[O]),gr=L.useCallback(()=>{const Ne=O.filter(fe=>fe.status==="received"&&fe.received_at);if(Ne.length===0)return 0;const xe=Ne.reduce((fe,Qe)=>{const ft=new Date(Qe.ordered_at).getTime(),Rt=(new Date(Qe.received_at).getTime()-ft)/(1e3*60*60*24);return fe+Rt},0);return Math.round(xe/Ne.length*10)/10},[O]),Ht=L.useCallback(()=>{const Ne=[];return s.forEach(xe=>{if(xe.currentStock<=xe.minStock){const fe=xe.maxStock>0?xe.currentStock/xe.maxStock*100:0;Ne.push({product:xe,alertType:xe.currentStock===0?"critical":"low",percentage:Math.round(fe)})}}),Ne.sort((xe,fe)=>xe.percentage-fe.percentage)},[s]),cr="gestionstock_pending_exits",lr=L.useCallback(()=>{try{const Ne=localStorage.getItem(cr);return Ne?JSON.parse(Ne).map(xe=>({...xe,addedAt:new Date(xe.addedAt)})):[]}catch(Ne){return console.error("Erreur lors de la rcupration des sorties en attente:",Ne),[]}},[]),Jt=L.useCallback(Ne=>{try{const xe=lr(),fe={...Ne,id:`exit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,addedAt:new Date};localStorage.setItem(cr,JSON.stringify([...xe,fe]))}catch(xe){console.error("Erreur lors de l'ajout de la sortie en attente:",xe)}},[lr]),te=L.useCallback(()=>{try{localStorage.removeItem(cr)}catch(Ne){console.error("Erreur lors de la suppression des sorties en attente:",Ne)}},[]),xt=L.useCallback(async(Ne,xe)=>{try{const{data:fe}=await Pr.from("user_profiles").select("*").eq("username",Ne).single();if(!fe)return!1;const Qe=`${Ne}@gestionstocks.app`,{data:ft,error:Ze}=await Pr.auth.signInWithPassword({email:Qe,password:xe});return Ze||!ft.user?!1:(r({id:fe.id,username:fe.username,password:"",role:fe.role,name:fe.name}),await ee(),!0)}catch(fe){return console.error("Erreur de connexion:",fe),!1}},[ee]),wt=L.useCallback(async(Ne,xe,fe)=>{try{const{data:Qe}=await Pr.from("user_profiles").select("username").eq("username",Ne).maybeSingle();if(Qe)return console.error("Cet identifiant existe dj"),!1;const ft=`${Ne}@gestionstocks.app`,{data:Ze,error:Rt}=await Pr.auth.signUp({email:ft,password:fe,options:{emailRedirectTo:void 0,data:{username:Ne,name:xe}}});if(Rt||!Ze.user)return console.error("Erreur lors de la cration du compte:",Rt),!1;await new Promise(fr=>setTimeout(fr,500));const{error:$t}=await Pr.from("user_profiles").insert([{id:Ze.user.id,username:Ne,name:xe,role:"user"}]);return $t?(console.error("Erreur lors de la cration du profil:",$t),!1):(Ze.session?(r({id:Ze.user.id,username:Ne,password:"",role:"user",name:xe}),await ee()):await xt(Ne,fe),!0)}catch(Qe){return console.error("Erreur lors de l'inscription:",Qe),!1}},[ee,xt]),Et=L.useCallback(async()=>{await Pr.auth.signOut(),r(null),c([]),E([]),T([]),k([])},[]),zt=L.useMemo(()=>({currentUser:t,loading:n,login:xt,register:wt,logout:Et,users:a,updateUserRole:U,createUser:K,deleteUser:oe,products:s,addProduct:Oe,updateProduct:Ie,deleteProduct:be,getProductById:Pe,getAllProductReferences:ze,categories:u,addCategory:Re,updateCategory:ke,deleteCategory:we,units:p,addUnit:$e,deleteUnit:We,storageZones:g,addStorageZone:Y,updateStorageZone:H,deleteStorageZone:X,exitRequests:b,addExitRequest:st,updateExitRequest:Fe,deleteExitRequest:me,getStockAlerts:Ht,stockMovements:S,addStockMovement:lt,orders:O,addOrder:ot,updateOrder:Ut,getPendingOrders:at,getAverageDeliveryTime:gr,getPendingExits:lr,addPendingExit:Jt,clearPendingExits:te}),[t,n,xt,wt,Et,a,U,K,oe,s,Oe,Ie,be,Pe,ze,u,Re,ke,we,p,$e,We,g,Y,H,X,b,st,Fe,me,Ht,S,lt,O,ot,Ut,at,gr,lr,Jt,te]);return n?y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"var(--bg-color)",color:"var(--text-color)"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),y.jsx("div",{children:"Chargement..."})]})}):y.jsx(cR.Provider,{value:zt,children:e})},uR=L.createContext(void 0),px=()=>{const e=L.useContext(uR);if(!e)throw new Error("useNotifications must be used within NotificationProvider");return e},LG=({children:e})=>{const[t,r]=L.useState([]),n=o=>{const s=Date.now().toString()+Math.random().toString(),c={...o,id:s,duration:o.duration||5e3};r(u=>[...u,c]),c.duration&&c.duration>0&&setTimeout(()=>{i(s)},c.duration)},i=o=>{r(s=>s.filter(c=>c.id!==o))},a={notifications:t,addNotification:n,removeNotification:i};return y.jsxs(uR.Provider,{value:a,children:[e,y.jsx(DG,{notifications:t,removeNotification:i})]})},DG=({notifications:e,removeNotification:t})=>{if(e.length===0)return null;const r=n=>{switch(n){case"success":return y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),y.jsx("path",{d:"M22 4L12 14.01l-3-3"})]});case"error":return y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M15 9l-6 6M9 9l6 6"})]});case"warning":return y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),y.jsx("path",{d:"M12 9v4M12 17h.01"})]});case"info":default:return y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}};return y.jsx("div",{className:"notification-container",children:e.map(n=>y.jsxs("div",{className:`notification ${n.type}`,children:[y.jsx("div",{className:`notification-icon ${n.type}`,children:r(n.type)}),y.jsxs("div",{className:"notification-content",children:[y.jsx("div",{className:"notification-title",children:n.title}),y.jsx("p",{className:"notification-message",children:n.message})]}),y.jsx("button",{className:"notification-close",onClick:()=>t(n.id),children:y.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]},n.id))})},jG=()=>{const[e,t]=L.useState(""),[r,n]=L.useState(""),[i,a]=L.useState(!1),[o,s]=L.useState(""),[c,u]=L.useState(!1),{login:h}=Ji(),p=dd(),v=async g=>{if(g.preventDefault(),s(""),u(!0),!e||!r){s("Veuillez remplir tous les champs"),u(!1);return}await h(e,r)||s("Identifiants incorrects"),u(!1)};return y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-color)",padding:"1rem"},children:y.jsxs("div",{style:{background:"var(--card-bg)",padding:"2.5rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",width:"100%",maxWidth:"420px",border:"1px solid var(--border-color)"},children:[y.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:y.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-color)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),y.jsx("h2",{style:{textAlign:"center",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"2rem",fontWeight:"700"},children:"Connexion"}),y.jsx("p",{style:{textAlign:"center",marginBottom:"2rem",color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Gestion des Stocks"}),y.jsxs("form",{onSubmit:v,children:[y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"0.9rem",fontWeight:"500"},children:"Nom d'utilisateur"}),y.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Entrez votre nom d'utilisateur",disabled:c,style:{width:"100%",padding:"0.875rem",background:"var(--input-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-color)",fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:g=>g.target.style.borderColor="var(--border-color)",onBlur:g=>g.target.style.borderColor="var(--border-color)"})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"0.9rem",fontWeight:"500"},children:"Mot de passe"}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("input",{type:i?"text":"password",value:r,onChange:g=>n(g.target.value),placeholder:"Entrez votre mot de passe",disabled:c,style:{width:"100%",padding:"0.875rem",paddingRight:"2.5rem",background:"var(--input-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-color)",fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:g=>g.target.style.borderColor="var(--border-color)",onBlur:g=>g.target.style.borderColor="var(--border-color)"}),y.jsx("button",{type:"button",onMouseDown:()=>a(!0),onMouseUp:()=>a(!1),onMouseLeave:()=>a(!1),onTouchStart:()=>a(!0),onTouchEnd:()=>a(!1),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",fontSize:"1.2rem"},"aria-label":i?"Masquer le mot de passe":"Afficher le mot de passe",children:i?y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),o&&y.jsx("div",{style:{padding:"0.875rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",color:"#ef4444",marginBottom:"1.5rem",fontSize:"0.9rem"},children:o}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsx("button",{type:"submit",disabled:c,style:{flex:1,padding:"1rem",background:"transparent",color:"var(--text-color)",border:"1px solid rgba(128, 128, 128, 0.4)",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",transition:"all 0.2s",opacity:c?.7:1},onMouseEnter:g=>{c||(g.currentTarget.style.background="rgba(128, 128, 128, 0.2)",g.currentTarget.style.borderColor="var(--accent-color)")},onMouseLeave:g=>{g.currentTarget.style.background="transparent",g.currentTarget.style.borderColor="rgba(128, 128, 128, 0.4)"},children:c?"Connexion...":"Se connecter"}),y.jsx("button",{type:"button",onClick:()=>p("/register"),disabled:c,style:{flex:1,padding:"1rem",background:"transparent",color:"var(--text-color)",border:"1px solid rgba(128, 128, 128, 0.4)",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",transition:"all 0.2s",opacity:c?.7:1},onMouseEnter:g=>{c||(g.currentTarget.style.background="rgba(128, 128, 128, 0.2)",g.currentTarget.style.borderColor="var(--accent-color)")},onMouseLeave:g=>{g.currentTarget.style.background="transparent",g.currentTarget.style.borderColor="rgba(128, 128, 128, 0.4)"},children:"S'inscrire"})]})]})]})})},MG=()=>{const[e,t]=L.useState(""),[r,n]=L.useState(""),[i,a]=L.useState(""),[o,s]=L.useState(!1),[c,u]=L.useState(!1),[h,p]=L.useState(""),[v,g]=L.useState(!1),{register:_}=Ji(),b=dd(),E=async S=>{if(S.preventDefault(),p(""),!e||!r||!i){p("Tous les champs sont obligatoires");return}if(e.length<3){p("L'identifiant doit contenir au moins 3 caractres");return}if(r.length<6){p("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==i){p("Les mots de passe ne correspondent pas");return}g(!0);try{console.log("Tentative d'inscription avec:",{username:e});const T=await _(e,e,r);console.log("Rsultat inscription:",T),T?b("/catalog"):p("chec de l'inscription. Vrifiez la console pour plus de dtails.")}catch(T){console.error("Erreur d'inscription:",T),p("Une erreur est survenue lors de l'inscription. Vrifiez la console pour plus de dtails.")}finally{g(!1)}};return y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-color)",padding:"1rem"},children:y.jsxs("div",{style:{background:"var(--card-bg)",padding:"2.5rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",width:"100%",maxWidth:"420px",border:"1px solid var(--border-color)"},children:[y.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:y.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-color)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),y.jsx("h2",{style:{textAlign:"center",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"2rem",fontWeight:"700"},children:"Crer un compte"}),y.jsx("p",{style:{textAlign:"center",marginBottom:"2rem",color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Gestion des Stocks"}),y.jsxs("form",{onSubmit:E,children:[y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"0.9rem",fontWeight:"500"},children:"Identifiant"}),y.jsx("input",{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"Entrez votre identifiant",disabled:v,style:{width:"100%",padding:"0.875rem",background:"var(--input-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-color)",fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:S=>S.target.style.borderColor="var(--border-color)",onBlur:S=>S.target.style.borderColor="var(--border-color)"})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"0.9rem",fontWeight:"500"},children:"Mot de passe"}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("input",{type:o?"text":"password",value:r,onChange:S=>n(S.target.value),placeholder:"Entrez votre mot de passe",disabled:v,style:{width:"100%",padding:"0.875rem",paddingRight:"2.5rem",background:"var(--input-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-color)",fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:S=>S.target.style.borderColor="var(--border-color)",onBlur:S=>S.target.style.borderColor="var(--border-color)"}),y.jsx("button",{type:"button",onMouseDown:()=>s(!0),onMouseUp:()=>s(!1),onMouseLeave:()=>s(!1),onTouchStart:()=>s(!0),onTouchEnd:()=>s(!1),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",fontSize:"1.2rem"},"aria-label":o?"Masquer le mot de passe":"Afficher le mot de passe",children:o?y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-color)",fontSize:"0.9rem",fontWeight:"500"},children:"Confirmer le mot de passe"}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("input",{type:c?"text":"password",value:i,onChange:S=>a(S.target.value),placeholder:"Confirmez votre mot de passe",disabled:v,style:{width:"100%",padding:"0.875rem",paddingRight:"2.5rem",background:"var(--input-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-color)",fontSize:"1rem",transition:"all 0.2s",outline:"none"},onFocus:S=>S.target.style.borderColor="var(--border-color)",onBlur:S=>S.target.style.borderColor="var(--border-color)"}),y.jsx("button",{type:"button",onMouseDown:()=>u(!0),onMouseUp:()=>u(!1),onMouseLeave:()=>u(!1),onTouchStart:()=>u(!0),onTouchEnd:()=>u(!1),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",fontSize:"1.2rem"},"aria-label":c?"Masquer le mot de passe":"Afficher le mot de passe",children:c?y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),h&&y.jsx("div",{style:{padding:"0.875rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",color:"#ef4444",marginBottom:"1.5rem",fontSize:"0.9rem"},children:h}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsx("button",{type:"button",onClick:()=>b("/"),disabled:v,style:{flex:1,padding:"1rem",background:"transparent",color:"var(--text-color)",border:"1px solid rgba(128, 128, 128, 0.4)",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:v?"not-allowed":"pointer",transition:"all 0.2s",opacity:v?.7:1},onMouseEnter:S=>{v||(S.currentTarget.style.background="rgba(128, 128, 128, 0.2)",S.currentTarget.style.borderColor="var(--accent-color)")},onMouseLeave:S=>{S.currentTarget.style.background="transparent",S.currentTarget.style.borderColor="rgba(128, 128, 128, 0.4)"},children:"Se connecter"}),y.jsx("button",{type:"submit",disabled:v,style:{flex:1,padding:"1rem",background:"transparent",color:"var(--text-color)",border:"1px solid rgba(128, 128, 128, 0.4)",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:v?"not-allowed":"pointer",transition:"all 0.2s",opacity:v?.7:1},onMouseEnter:S=>{v||(S.currentTarget.style.background="rgba(128, 128, 128, 0.2)",S.currentTarget.style.borderColor="var(--accent-color)")},onMouseLeave:S=>{S.currentTarget.style.background="transparent",S.currentTarget.style.borderColor="rgba(128, 128, 128, 0.4)"},children:v?"Cration...":"S'inscrire"})]})]})]})})},FG=()=>{const{currentUser:e,logout:t,exitRequests:r,getPendingExits:n,getPendingOrders:i}=Ji(),a=dd(),o=hd(),[s,c]=Vu.useState(!1),u=()=>{t(),a("/")},h=()=>{c(!s)},p=()=>{c(!1)},v=(e==null?void 0:e.role)==="manager",g=Vu.useMemo(()=>{const k=r.filter(z=>z.status==="pending"),D=new Set;return k.forEach(z=>{const F=`${z.requestedBy}-${new Date(z.requestedAt).toISOString().slice(0,16)}`;D.add(F)}),D.size},[r]),_=n().length,b=i().length,E=k=>o.pathname===k,O=v?[{path:"/dashboard",label:"Tableau de bord",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),y.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),y.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),y.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{path:"/products",label:"Produits",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})},{path:"/add-product",label:"Ajouter Produit",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})},{path:"/orders",label:"Rception",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),y.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),y.jsx("path",{d:"M9 12h6"}),y.jsx("path",{d:"M9 16h6"})]})},{path:"/requests",label:"Demandes",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),y.jsx("polyline",{points:"14 2 14 8 20 8"}),y.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),y.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),y.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{path:"/exit-sheet",label:"Feuille de Sortie",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),y.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),y.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})},{path:"/inventory",label:"Inventaire",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),y.jsx("polyline",{points:"14 2 14 8 20 8"}),y.jsx("path",{d:"M9 15h6"}),y.jsx("path",{d:"M12 12v6"})]})},{path:"/statistics",label:"Statistiques",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),y.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),y.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{path:"/history",label:"Historique",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("polyline",{points:"12 6 12 12 16 14"})]})},{path:"/user-management",label:"Gestion Utilisateurs",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{path:"/label-generator",label:"tiquettes",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),y.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})},{path:"/settings",label:"Paramtres",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"3"}),y.jsx("path",{d:"M12 1v6m0 6v6m5.196-13.804l-4.242 4.242m-5.908 5.908l-4.242 4.242M23 12h-6m-6 0H1m18.196 5.196l-4.242-4.242m-5.908-5.908L4.804 2.804"})]})}]:[{path:"/catalog",label:"Catalogue",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})},{path:"/my-requests",label:"Mes Demandes",icon:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),y.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})}];return y.jsxs("div",{className:"layout-container",children:[y.jsx("button",{className:"mobile-menu-button",onClick:h,children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),y.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),s&&y.jsx("div",{className:"mobile-menu-overlay",onClick:p}),y.jsxs("aside",{className:`sidebar ${s?"open":""}`,children:[y.jsxs("div",{className:"sidebar-header",children:[y.jsx("div",{className:"sidebar-logo",children:y.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})})}),y.jsxs("div",{className:"sidebar-title-container",children:[y.jsx("h1",{className:"sidebar-title",children:"StockPro"}),y.jsx("p",{className:"sidebar-subtitle",children:"Ajust'82"})]})]}),y.jsx("nav",{className:"sidebar-nav",children:O.map(k=>y.jsxs(M7,{to:k.path,className:`sidebar-link ${E(k.path)?"active":""}`,title:k.label,onClick:p,children:[y.jsx("span",{className:"sidebar-link-icon",children:k.icon}),y.jsx("span",{className:"sidebar-link-label",children:k.label}),k.path==="/requests"&&g>0&&y.jsx("span",{className:"sidebar-badge",children:g}),k.path==="/orders"&&b>0&&y.jsx("span",{className:"sidebar-badge",children:b}),k.path==="/exit-sheet"&&_>0&&y.jsx("span",{className:"sidebar-badge",children:_})]},k.path))}),y.jsxs("div",{className:"sidebar-footer",children:[y.jsxs("div",{className:"sidebar-user",children:[y.jsx("div",{className:"user-avatar",children:e==null?void 0:e.name.charAt(0).toUpperCase()}),y.jsxs("div",{className:"user-info",children:[y.jsx("div",{className:"user-name",children:e==null?void 0:e.name}),y.jsx("div",{className:"user-role",children:v?"Gestionnaire":"Utilisateur"})]})]}),y.jsx("div",{className:"footer-actions",children:y.jsx("button",{onClick:u,className:"btn-logout",title:"Dconnexion",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),y.jsx("polyline",{points:"16 17 21 12 16 7"}),y.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})})]})]}),y.jsx("main",{className:"main-content",children:y.jsx(BH,{})})]})},BG=()=>{const{products:e,stockMovements:t,getStockAlerts:r}=Ji(),{addNotification:n}=px(),i=r(),a=L.useMemo(()=>{const v=new Date,g=new Date(v.setMonth(v.getMonth()-1)),_=t.filter(O=>O.movementType==="exit"&&O.timestamp>=g),b=_.reduce((O,k)=>O+k.quantity,0),E=(b/30).toFixed(1),S={};_.forEach(O=>{S[O.productId]||(S[O.productId]={name:O.productDesignation,quantity:0}),S[O.productId].quantity+=O.quantity});const T=Object.values(S).sort((O,k)=>k.quantity-O.quantity).slice(0,3);return{totalExits:b,avgDailyConsumption:E,topProducts:T}},[t]),o=L.useMemo(()=>{const v=new Date,g=new Date(v.getTime()-30*24*60*60*1e3);return e.map(_=>{const E=t.filter(O=>O.productId===_.id&&O.movementType==="exit"&&O.timestamp>=g).reduce((O,k)=>O+k.quantity,0),S=E/30;let T=0;return S>0?T=Math.floor(_.currentStock/S):T=999,{product:_,daysRemaining:T,dailyConsumption:S.toFixed(2),monthlyConsumption:E.toFixed(0)}}).filter(_=>_.daysRemaining<30&&_.daysRemaining>0).sort((_,b)=>_.daysRemaining-b.daysRemaining).slice(0,5)},[e,t]);L.useEffect(()=>{const v=i.filter(_=>_.alertType==="critical"),g=i.filter(_=>_.alertType==="low");v.length>0?n({type:"error",title:"Stock critique!",message:`${v.length} produit(s) en stock critique ncessitent une attention immdiate.`,duration:8e3}):g.length>0&&n({type:"warning",title:"Stock faible",message:`${g.length} produit(s) ont un stock faible.`,duration:6e3})},[]);const s=e.length,c=i.filter(v=>v.alertType==="low").length,u=i.filter(v=>v.alertType==="critical").length,h=L.useMemo(()=>e.reduce((v,g)=>{const _=g.unitPrice||0;return v+g.currentStock*_},0),[e]),p=L.useMemo(()=>{const v=new Date,g=new Date(v.getTime()-7*24*60*60*1e3),_=t.filter(T=>T.timestamp>=g),b=_.filter(T=>T.movementType==="entry").length,E=_.filter(T=>T.movementType==="exit").length,S=_.filter(T=>T.movementType==="adjustment").length;return{entries:b,exits:E,adjustments:S,total:_.length}},[t]);return y.jsxs("div",{className:"dashboard",children:[y.jsx("h1",{children:"Dashboard"}),y.jsxs("div",{className:"stats-grid",children:[y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Total Produits"}),y.jsx("p",{className:"stat-value",children:s})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Stock Faible"}),y.jsx("p",{className:"stat-value",children:c})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Stock Critique"}),y.jsx("p",{className:"stat-value",children:u})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Valeur du Stock"}),y.jsxs("p",{className:"stat-value",children:[h.toLocaleString("fr-FR",{maximumFractionDigits:0})," "]})]})})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[y.jsxs("div",{children:[y.jsx("h2",{style:{marginBottom:"1rem"},children:"Activit de la semaine (7 derniers jours)"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Entres"}),y.jsx("p",{className:"stat-value",children:p.entries})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Sorties"}),y.jsx("p",{className:"stat-value",children:p.exits})]})})]})]}),y.jsxs("div",{children:[y.jsx("h2",{style:{marginBottom:"1rem"},children:"Consommation ce mois"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Sorties totales"}),y.jsx("p",{className:"stat-value",children:a.totalExits})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Moyenne journalire"}),y.jsx("p",{className:"stat-value",children:a.avgDailyConsumption})]})})]})]})]}),o.length>0&&y.jsxs("div",{className:"alerts-section",children:[y.jsx("h2",{children:"Prvisions de Rupture de Stock"}),y.jsx("div",{className:"predictions-grid",children:o.map(v=>y.jsxs("div",{className:`prediction-card ${v.daysRemaining<=7?"critical":v.daysRemaining<=14?"warning":"normal"}`,children:[y.jsxs("div",{className:"prediction-header",children:[y.jsx("h3",{children:v.product.designation}),y.jsx("span",{style:{fontSize:"0.875rem",color:"var(--accent-color)",fontWeight:"600"},children:v.product.reference})]}),y.jsxs("div",{className:"prediction-body",children:[y.jsxs("div",{className:"prediction-days",children:[y.jsx("span",{className:"days-number",children:v.daysRemaining}),y.jsx("span",{className:"days-label",children:"jours"})]}),y.jsxs("div",{className:"prediction-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Stock:"})," ",v.product.currentStock," ",v.product.unit]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Conso. moy.:"})," ",v.dailyConsumption," / jour"]})]})]})]},v.product.id))}),o.length>=5&&y.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:y.jsx(M7,{to:"/products",className:"btn btn-secondary",children:"Voir tous les produits"})})]})]})},UG=()=>{const{addProduct:e,categories:t,units:r,storageZones:n,getAllProductReferences:i}=Ji(),a=dd(),[o,s]=L.useState("");L.useEffect(()=>{(async()=>{const S=await i();if(S.length===0)return"RF00001";const T=S.filter(D=>D.startsWith("RF")).map(D=>parseInt(D.substring(2))).filter(D=>!isNaN(D)),k=(T.length>0?Math.max(...T):0)+1;return`RF${String(k).padStart(5,"0")}`})().then(S=>s(S))},[i]);const[c,u]=L.useState({designation:"",customerReference:"",category:"",storageZone:"",shelf:"",position:"",location:"",currentStock:"",minStock:"",unit:"",unitPrice:"",photo:"",supplier1:"",orderLink1:"",supplier2:"",orderLink2:"",supplier3:"",orderLink3:""}),[h,p]=L.useState({}),v=E=>{const{name:S,value:T}=E.target;u(O=>({...O,[S]:T})),h[S]&&p(O=>({...O,[S]:""}))},g=E=>{var T;const S=(T=E.target.files)==null?void 0:T[0];if(S){const O=new FileReader;O.onloadend=()=>{u(k=>({...k,photo:O.result}))},O.readAsDataURL(S)}},_=()=>{const E={};c.designation.trim()||(E.designation="La dsignation est requise"),c.category||(E.category="La catgorie est requise"),c.storageZone||(E.storageZone="La zone de stockage est requise"),(!c.shelf||isNaN(parseInt(c.shelf))||parseInt(c.shelf)<1)&&(E.shelf="L'tagre doit tre un nombre suprieur  0"),(!c.position||isNaN(parseInt(c.position))||parseInt(c.position)<1)&&(E.position="La position doit tre un nombre suprieur  0"),c.unit||(E.unit="L'unit est requise");const S=parseFloat(c.currentStock);return(isNaN(S)||S<0)&&(E.currentStock="Le stock actuel doit tre un nombre positif"),c.unitPrice&&(isNaN(parseFloat(c.unitPrice))||parseFloat(c.unitPrice)<0)&&(E.unitPrice="Le prix unitaire doit tre un nombre positif"),p(E),Object.keys(E).length===0},b=E=>{if(E.preventDefault(),!_())return;const S=`${c.storageZone}.${c.shelf}.${c.position}`;e({reference:o,customerReference:c.customerReference||void 0,designation:c.designation,category:c.category,storageZone:c.storageZone,shelf:parseInt(c.shelf),position:parseInt(c.position),location:S,currentStock:parseFloat(c.currentStock),minStock:c.minStock?parseFloat(c.minStock):0,maxStock:0,unit:c.unit,unitPrice:c.unitPrice?parseFloat(c.unitPrice):void 0,photo:c.photo||void 0,supplier1:c.supplier1||void 0,orderLink1:c.orderLink1||void 0,supplier2:c.supplier2||void 0,orderLink2:c.orderLink2||void 0,supplier3:c.supplier3||void 0,orderLink3:c.orderLink3||void 0}),a("/products")};return y.jsxs("div",{className:"add-product-page",children:[y.jsx("h1",{children:"Ajouter un Produit"}),y.jsxs("form",{onSubmit:b,className:"product-form",children:[y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Informations gnrales"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Rfrence (auto-gnre)"}),y.jsx("input",{type:"text",value:o,disabled:!0,style:{background:"var(--hover-bg)",color:"var(--text-secondary)",cursor:"not-allowed"}})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"designation",children:"Dsignation *"}),y.jsx("input",{type:"text",id:"designation",name:"designation",value:c.designation,onChange:v,className:h.designation?"error":""}),h.designation&&y.jsx("span",{className:"error-text",children:h.designation})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"customerReference",children:"Rfrence Client"}),y.jsx("input",{type:"text",id:"customerReference",name:"customerReference",value:c.customerReference,onChange:v,placeholder:"Rfrence du client (optionnel)"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"category",children:"Catgorie *"}),y.jsxs("select",{id:"category",name:"category",value:c.category,onChange:v,className:h.category?"error":"",children:[y.jsx("option",{value:"",children:"Slectionner une catgorie"}),t.map(E=>y.jsx("option",{value:E.name,children:E.name},E.id))]}),h.category&&y.jsx("span",{className:"error-text",children:h.category})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"unit",children:"Unit *"}),y.jsxs("select",{id:"unit",name:"unit",value:c.unit,onChange:v,className:h.unit?"error":"",children:[y.jsx("option",{value:"",children:"Slectionner une unit"}),r.map(E=>y.jsxs("option",{value:E.abbreviation,children:[E.name," (",E.abbreviation,")"]},E.id))]}),h.unit&&y.jsx("span",{className:"error-text",children:h.unit})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"unitPrice",children:"Prix Unitaire ()"}),y.jsx("input",{type:"number",id:"unitPrice",name:"unitPrice",value:c.unitPrice,onChange:v,step:"0.01",min:"0",placeholder:"0.00",className:h.unitPrice?"error":""}),h.unitPrice&&y.jsx("span",{className:"error-text",children:h.unitPrice})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"photo",children:"Photo du Produit"}),y.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:g})]})]}),c.photo&&y.jsx("div",{className:"photo-preview",children:y.jsx("img",{src:c.photo,alt:"Aperu"})})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Localisation"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"storageZone",children:"Zone de stockage *"}),y.jsxs("select",{id:"storageZone",name:"storageZone",value:c.storageZone,onChange:v,className:h.storageZone?"error":"",children:[y.jsx("option",{value:"",children:"Slectionner une zone"}),n.map(E=>y.jsx("option",{value:E.name,children:E.name},E.id))]}),h.storageZone&&y.jsx("span",{className:"error-text",children:h.storageZone})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"shelf",children:"tagre *"}),y.jsx("input",{type:"number",id:"shelf",name:"shelf",value:c.shelf,onChange:v,min:"1",placeholder:"Numro de l'tagre",className:h.shelf?"error":""}),h.shelf&&y.jsx("span",{className:"error-text",children:h.shelf})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"position",children:"Position *"}),y.jsx("input",{type:"number",id:"position",name:"position",value:c.position,onChange:v,min:"1",placeholder:"Position sur l'tagre",className:h.position?"error":""}),h.position&&y.jsx("span",{className:"error-text",children:h.position})]}),y.jsx("div",{className:"form-group"})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Gestion du stock"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"currentStock",children:"Stock Actuel *"}),y.jsx("input",{type:"number",id:"currentStock",name:"currentStock",value:c.currentStock,onChange:v,step:"1",min:"0",className:h.currentStock?"error":""}),h.currentStock&&y.jsx("span",{className:"error-text",children:h.currentStock})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"minStock",children:"Stock Minimum"}),y.jsx("input",{type:"number",id:"minStock",name:"minStock",value:c.minStock,onChange:v,step:"1",min:"0",placeholder:"Seuil d'alerte (optionnel)"})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Fournisseurs et commandes"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier1",children:"Fournisseur 1"}),y.jsx("input",{type:"text",id:"supplier1",name:"supplier1",value:c.supplier1,onChange:v,placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink1",children:"Lien de Commande 1"}),y.jsx("input",{type:"url",id:"orderLink1",name:"orderLink1",value:c.orderLink1,onChange:v,placeholder:"https://exemple.com/produit"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier2",children:"Fournisseur 2"}),y.jsx("input",{type:"text",id:"supplier2",name:"supplier2",value:c.supplier2,onChange:v,placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink2",children:"Lien de Commande 2"}),y.jsx("input",{type:"url",id:"orderLink2",name:"orderLink2",value:c.orderLink2,onChange:v,placeholder:"https://exemple.com/produit"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier3",children:"Fournisseur 3"}),y.jsx("input",{type:"text",id:"supplier3",name:"supplier3",value:c.supplier3,onChange:v,placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink3",children:"Lien de Commande 3"}),y.jsx("input",{type:"url",id:"orderLink3",name:"orderLink3",value:c.orderLink3,onChange:v,placeholder:"https://exemple.com/produit"})]})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",onClick:()=>a("/products"),className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter le Produit"})]})]})]})};function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}var wl=Uint8Array,ss=Uint16Array,h4=Int32Array,d4=new wl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p4=new wl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z8=new wl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fR=function(e,t){for(var r=new ss(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new h4(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},hR=fR(d4,2),$G=hR.b,H5=hR.r;$G[28]=258,H5[258]=28;var WG=fR(p4,0),H8=WG.r,V5=new ss(32768);for(var Un=0;Un<32768;++Un){var gu=(Un&43690)>>1|(Un&21845)<<1;gu=(gu&52428)>>2|(gu&13107)<<2,gu=(gu&61680)>>4|(gu&3855)<<4,V5[Un]=((gu&65280)>>8|(gu&255)<<8)>>1}var D1=function(e,t,r){for(var n=e.length,i=0,a=new ss(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new ss(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new ss(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],p=o[e[i]-1]++<<h,v=p|(1<<h)-1;p<=v;++p)s[V5[p]>>c]=u}else for(s=new ss(n),i=0;i<n;++i)e[i]&&(s[i]=V5[o[e[i]-1]++]>>15-e[i]);return s},oh=new wl(288);for(var Un=0;Un<144;++Un)oh[Un]=8;for(var Un=144;Un<256;++Un)oh[Un]=9;for(var Un=256;Un<280;++Un)oh[Un]=7;for(var Un=280;Un<288;++Un)oh[Un]=8;var F2=new wl(32);for(var Un=0;Un<32;++Un)F2[Un]=5;var zG=D1(oh,9,0),HG=D1(F2,5,0),dR=function(e){return(e+7)/8|0},VG=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new wl(e.subarray(t,r))},gc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Zd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Tw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:gR,l:0};if(i==1){var o=new wl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(D,z){return D.f-z.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};h!=i-1;)s=r[r[u].f<r[p].f?u++:p++],c=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:s.f+c.f,l:s,r:c};for(var v=a[0].s,n=1;n<i;++n)a[n].s>v&&(v=a[n].s);var g=new ss(v+1),_=q5(r[h-1],g,0);if(_>t){var n=0,b=0,E=_-t,S=1<<E;for(a.sort(function(z,F){return g[F.s]-g[z.s]||z.f-F.f});n<i;++n){var T=a[n].s;if(g[T]>t)b+=S-(1<<_-g[T]),g[T]=t;else break}for(b>>=E;b>0;){var O=a[n].s;g[O]<t?b-=1<<t-g[O]++-1:++n}for(;n>=0&&b;--n){var k=a[n].s;g[k]==t&&(--g[k],++b)}_=t}return{t:new wl(g),l:_}},q5=function(e,t,r){return e.s==-1?Math.max(q5(e.l,t,r+1),q5(e.r,t,r+1)):t[e.s]=r},V8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ss(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:r.subarray(0,n),n:t}},Jd=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},pR=function(e,t,r){var n=r.length,i=dR(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},q8=function(e,t,r,n,i,a,o,s,c,u,h){gc(t,h++,r),++i[256];for(var p=Tw(i,15),v=p.t,g=p.l,_=Tw(a,15),b=_.t,E=_.l,S=V8(v),T=S.c,O=S.n,k=V8(b),D=k.c,z=k.n,F=new ss(19),q=0;q<T.length;++q)++F[T[q]&31];for(var q=0;q<D.length;++q)++F[D[q]&31];for(var B=Tw(F,7),ee=B.t,W=B.l,U=19;U>4&&!ee[z8[U-1]];--U);var K=u+5<<3,oe=Jd(i,oh)+Jd(a,F2)+o,ae=Jd(i,v)+Jd(a,b)+o+14+3*U+Jd(F,ee)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&K<=oe&&K<=ae)return pR(t,h,e.subarray(c,c+u));var Re,ke,we,_e;if(gc(t,h,1+(ae<oe)),h+=2,ae<oe){Re=D1(v,g,0),ke=v,we=D1(b,E,0),_e=b;var $e=D1(ee,W,0);gc(t,h,O-257),gc(t,h+5,z-1),gc(t,h+10,U-4),h+=14;for(var q=0;q<U;++q)gc(t,h+3*q,ee[z8[q]]);h+=3*U;for(var We=[T,D],j=0;j<2;++j)for(var Y=We[j],q=0;q<Y.length;++q){var H=Y[q]&31;gc(t,h,$e[H]),h+=ee[H],H>15&&(gc(t,h,Y[q]>>5&127),h+=Y[q]>>12)}}else Re=zG,ke=oh,we=HG,_e=F2;for(var q=0;q<s;++q){var X=n[q];if(X>255){var H=X>>18&31;Zd(t,h,Re[H+257]),h+=ke[H+257],H>7&&(gc(t,h,X>>23&31),h+=d4[H]);var ne=X&31;Zd(t,h,we[ne]),h+=_e[ne],ne>3&&(Zd(t,h,X>>5&8191),h+=p4[ne])}else Zd(t,h,Re[X]),h+=ke[X]}return Zd(t,h,Re[256]),h+ke[256]},qG=new h4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gR=new wl(0),GG=function(e,t,r,n,i,a){var o=a.z||e.length,s=new wl(n+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(n,s.length-i),u=a.l,h=(a.r||0)&7;if(t){h&&(c[0]=a.r>>3);for(var p=qG[t-1],v=p>>13,g=p&8191,_=(1<<r)-1,b=a.p||new ss(32768),E=a.h||new ss(_+1),S=Math.ceil(r/3),T=2*S,O=function(Fe){return(e[Fe]^e[Fe+1]<<S^e[Fe+2]<<T)&_},k=new h4(25e3),D=new ss(288),z=new ss(32),F=0,q=0,B=a.i||0,ee=0,W=a.w||0,U=0;B+2<o;++B){var K=O(B),oe=B&32767,ae=E[K];if(b[oe]=ae,E[K]=oe,W<=B){var Re=o-B;if((F>7e3||ee>24576)&&(Re>423||!u)){h=q8(e,c,0,k,D,z,q,ee,U,B-U,h),ee=F=q=0,U=B;for(var ke=0;ke<286;++ke)D[ke]=0;for(var ke=0;ke<30;++ke)z[ke]=0}var we=2,_e=0,$e=g,We=oe-ae&32767;if(Re>2&&K==O(B-We))for(var j=Math.min(v,Re)-1,Y=Math.min(32767,B),H=Math.min(258,Re);We<=Y&&--$e&&oe!=ae;){if(e[B+we]==e[B+we-We]){for(var X=0;X<H&&e[B+X]==e[B+X-We];++X);if(X>we){if(we=X,_e=We,X>j)break;for(var ne=Math.min(We,X-2),Oe=0,ke=0;ke<ne;++ke){var Ie=B-We+ke&32767,be=b[Ie],Pe=Ie-be&32767;Pe>Oe&&(Oe=Pe,ae=Ie)}}}oe=ae,ae=b[oe],We+=oe-ae&32767}if(_e){k[ee++]=268435456|H5[we]<<18|H8[_e];var ze=H5[we]&31,Me=H8[_e]&31;q+=d4[ze]+p4[Me],++D[257+ze],++z[Me],W=B+we,++F}else k[ee++]=e[B],++D[e[B]]}}for(B=Math.max(B,W);B<o;++B)k[ee++]=e[B],++D[e[B]];h=q8(e,c,u,k,D,z,q,ee,U,B-U,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=E,a.p=b,a.i=B,a.w=W)}else{for(var B=a.w||0;B<o+u;B+=65535){var st=B+65535;st>=o&&(c[h/8|0]=u,st=o),h=pR(c,h+1,e.subarray(B,st))}a.i=o}return VG(s,0,n+dR(h)+i)},mR=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},KG=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new wl(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return GG(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},vR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},XG=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=mR();i.p(t.dictionary),vR(e,2,i.d())}};function G5(e,t){t||(t={});var r=mR();r.p(e);var n=KG(e,t,t.dictionary?6:2,4);return XG(n,t),vR(n,n.length-4,r.d()),n}var YG=typeof TextDecoder<"u"&&new TextDecoder,ZG=0;try{YG.decode(gR,{stream:!0}),ZG=1}catch{}function JG(e){if(Array.isArray(e))return e}function QG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function G8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eK(e,t){if(e){if(typeof e=="string")return G8(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G8(e,t):void 0}}function tK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8(e,t){return JG(e)||QG(e,t)||eK(e,t)||tK()}function X8(e,t="utf8"){return new TextDecoder(t).decode(e)}const rK=new TextEncoder;function nK(e){return rK.encode(e)}const iK=1024*8,aK=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Ow={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g4{constructor(t=iK,r={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof g4)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Ow[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===aK&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const c=new Ow[r](s.buffer);return this.offset+=n,c.reverse(),c}const o=new Ow[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return X8(this.readBytes(t))}decodeText(t=1,r="utf8"){return X8(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(nK(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function md(e){let t=e.length;for(;--t>=0;)e[t]=0}const oK=3,sK=258,xR=29,lK=256,cK=lK+1+xR,yR=30,uK=512,fK=new Array((cK+2)*2);md(fK);const hK=new Array(yR*2);md(hK);const dK=new Array(uK);md(dK);const pK=new Array(sK-oK+1);md(pK);const gK=new Array(xR);md(gK);const mK=new Array(yR);md(mK);const vK=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var K5=vK;const xK=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},yK=new Uint32Array(xK()),wK=(e,t,r,n)=>{const i=yK,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Pl=wK,X5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bK=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _K=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bK(r,n)&&(e[n]=r[n])}}return e},EK=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},bR={assign:_K,flattenChunks:EK};let _R=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_R=!1}const dp=new Uint8Array(256);for(let e=0;e<256;e++)dp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;dp[254]=dp[254]=1;var SK=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const AK=(e,t)=>{if(t<65534&&e.subarray&&_R)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var CK=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let s=dp[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|e[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return AK(a,i)},TK=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+dp[e[r]]>t?r:t},Y5={string2buf:SK,buf2string:CK,utf8border:TK};function OK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kK=OK;const rm=16209,NK=16191;var PK=function(t,r){let n,i,a,o,s,c,u,h,p,v,g,_,b,E,S,T,O,k,D,z,F,q,B,ee;const W=t.state;n=t.next_in,B=t.input,i=n+(t.avail_in-5),a=t.next_out,ee=t.output,o=a-(r-t.avail_out),s=a+(t.avail_out-257),c=W.dmax,u=W.wsize,h=W.whave,p=W.wnext,v=W.window,g=W.hold,_=W.bits,b=W.lencode,E=W.distcode,S=(1<<W.lenbits)-1,T=(1<<W.distbits)-1;e:do{_<15&&(g+=B[n++]<<_,_+=8,g+=B[n++]<<_,_+=8),O=b[g&S];t:for(;;){if(k=O>>>24,g>>>=k,_-=k,k=O>>>16&255,k===0)ee[a++]=O&65535;else if(k&16){D=O&65535,k&=15,k&&(_<k&&(g+=B[n++]<<_,_+=8),D+=g&(1<<k)-1,g>>>=k,_-=k),_<15&&(g+=B[n++]<<_,_+=8,g+=B[n++]<<_,_+=8),O=E[g&T];r:for(;;){if(k=O>>>24,g>>>=k,_-=k,k=O>>>16&255,k&16){if(z=O&65535,k&=15,_<k&&(g+=B[n++]<<_,_+=8,_<k&&(g+=B[n++]<<_,_+=8)),z+=g&(1<<k)-1,z>c){t.msg="invalid distance too far back",W.mode=rm;break e}if(g>>>=k,_-=k,k=a-o,z>k){if(k=z-k,k>h&&W.sane){t.msg="invalid distance too far back",W.mode=rm;break e}if(F=0,q=v,p===0){if(F+=u-k,k<D){D-=k;do ee[a++]=v[F++];while(--k);F=a-z,q=ee}}else if(p<k){if(F+=u+p-k,k-=p,k<D){D-=k;do ee[a++]=v[F++];while(--k);if(F=0,p<D){k=p,D-=k;do ee[a++]=v[F++];while(--k);F=a-z,q=ee}}}else if(F+=p-k,k<D){D-=k;do ee[a++]=v[F++];while(--k);F=a-z,q=ee}for(;D>2;)ee[a++]=q[F++],ee[a++]=q[F++],ee[a++]=q[F++],D-=3;D&&(ee[a++]=q[F++],D>1&&(ee[a++]=q[F++]))}else{F=a-z;do ee[a++]=ee[F++],ee[a++]=ee[F++],ee[a++]=ee[F++],D-=3;while(D>2);D&&(ee[a++]=ee[F++],D>1&&(ee[a++]=ee[F++]))}}else if(k&64){t.msg="invalid distance code",W.mode=rm;break e}else{O=E[(O&65535)+(g&(1<<k)-1)];continue r}break}}else if(k&64)if(k&32){W.mode=NK;break e}else{t.msg="invalid literal/length code",W.mode=rm;break e}else{O=b[(O&65535)+(g&(1<<k)-1)];continue t}break}}while(n<i&&a<s);D=_>>3,n-=D,_-=D<<3,g&=(1<<_)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<s?257+(s-a):257-(a-s),W.hold=g,W.bits=_};const zh=15,Y8=852,Z8=592,J8=0,kw=1,Q8=2,IK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jK=(e,t,r,n,i,a,o,s)=>{const c=s.bits;let u=0,h=0,p=0,v=0,g=0,_=0,b=0,E=0,S=0,T=0,O,k,D,z,F,q=null,B;const ee=new Uint16Array(zh+1),W=new Uint16Array(zh+1);let U=null,K,oe,ae;for(u=0;u<=zh;u++)ee[u]=0;for(h=0;h<n;h++)ee[t[r+h]]++;for(g=c,v=zh;v>=1&&ee[v]===0;v--);if(g>v&&(g=v),v===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<v&&ee[p]===0;p++);for(g<p&&(g=p),E=1,u=1;u<=zh;u++)if(E<<=1,E-=ee[u],E<0)return-1;if(E>0&&(e===J8||v!==1))return-1;for(W[1]=0,u=1;u<zh;u++)W[u+1]=W[u]+ee[u];for(h=0;h<n;h++)t[r+h]!==0&&(o[W[t[r+h]]++]=h);if(e===J8?(q=U=o,B=20):e===kw?(q=IK,U=RK,B=257):(q=LK,U=DK,B=0),T=0,h=0,u=p,F=a,_=g,b=0,D=-1,S=1<<g,z=S-1,e===kw&&S>Y8||e===Q8&&S>Z8)return 1;for(;;){K=u-b,o[h]+1<B?(oe=0,ae=o[h]):o[h]>=B?(oe=U[o[h]-B],ae=q[o[h]-B]):(oe=96,ae=0),O=1<<u-b,k=1<<_,p=k;do k-=O,i[F+(T>>b)+k]=K<<24|oe<<16|ae|0;while(k!==0);for(O=1<<u-1;T&O;)O>>=1;if(O!==0?(T&=O-1,T+=O):T=0,h++,--ee[u]===0){if(u===v)break;u=t[r+o[h]]}if(u>g&&(T&z)!==D){for(b===0&&(b=g),F+=p,_=u-b,E=1<<_;_+b<v&&(E-=ee[_+b],!(E<=0));)_++,E<<=1;if(S+=1<<_,e===kw&&S>Y8||e===Q8&&S>Z8)return 1;D=T&z,i[D]=g<<24|_<<16|F-a|0}}return T!==0&&(i[F+T]=u-b<<24|64<<16|0),s.bits=g,0};var j1=jK;const MK=0,ER=1,SR=2,{Z_FINISH:e6,Z_BLOCK:FK,Z_TREES:nm,Z_OK:sh,Z_STREAM_END:BK,Z_NEED_DICT:UK,Z_STREAM_ERROR:$s,Z_DATA_ERROR:AR,Z_MEM_ERROR:CR,Z_BUF_ERROR:$K,Z_DEFLATED:t6}=wR,gx=16180,r6=16181,n6=16182,i6=16183,a6=16184,o6=16185,s6=16186,l6=16187,c6=16188,u6=16189,B2=16190,mc=16191,Nw=16192,f6=16193,Pw=16194,h6=16195,d6=16196,p6=16197,g6=16198,im=16199,am=16200,m6=16201,v6=16202,x6=16203,y6=16204,w6=16205,Iw=16206,b6=16207,_6=16208,qn=16209,TR=16210,OR=16211,WK=852,zK=592,HK=15,VK=HK,E6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function qK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<gx||t.mode>OR?1:0},kR=e=>{if(wh(e))return $s;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=gx,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(WK),t.distcode=t.distdyn=new Int32Array(zK),t.sane=1,t.back=-1,sh},NR=e=>{if(wh(e))return $s;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kR(e)},PR=(e,t)=>{let r;if(wh(e))return $s;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$s:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,NR(e))},IR=(e,t)=>{if(!e)return $s;const r=new qK;e.state=r,r.strm=e,r.window=null,r.mode=gx;const n=PR(e,t);return n!==sh&&(e.state=null),n},GK=e=>IR(e,VK);let S6=!0,Rw,Lw;const KK=e=>{if(S6){Rw=new Int32Array(512),Lw=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(j1(ER,e.lens,0,288,Rw,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;j1(SR,e.lens,0,32,Lw,0,e.work,{bits:5}),S6=!1}e.lencode=Rw,e.lenbits=9,e.distcode=Lw,e.distbits=5},RR=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},XK=(e,t)=>{let r,n,i,a,o,s,c,u,h,p,v,g,_,b,E=0,S,T,O,k,D,z,F,q;const B=new Uint8Array(4);let ee,W;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(e)||!e.output||!e.input&&e.avail_in!==0)return $s;r=e.state,r.mode===mc&&(r.mode=Nw),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,h=r.bits,p=s,v=c,q=sh;e:for(;;)switch(r.mode){case gx:if(r.wrap===0){r.mode=Nw;break}for(;h<16;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=u&255,B[1]=u>>>8&255,r.check=Pl(r.check,B,2,0),u=0,h=0,r.mode=r6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=qn;break}if((u&15)!==t6){e.msg="unknown compression method",r.mode=qn;break}if(u>>>=4,h-=4,F=(u&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=qn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?u6:mc,u=0,h=0;break;case r6:for(;h<16;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==t6){e.msg="unknown compression method",r.mode=qn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=qn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Pl(r.check,B,2,0)),u=0,h=0,r.mode=n6;case n6:for(;h<32;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=Pl(r.check,B,4,0)),u=0,h=0,r.mode=i6;case i6:for(;h<16;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Pl(r.check,B,2,0)),u=0,h=0,r.mode=a6;case a6:if(r.flags&1024){for(;h<16;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Pl(r.check,B,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=o6;case o6:if(r.flags&1024&&(g=r.length,g>s&&(g=s),g&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),F)),r.flags&512&&r.wrap&4&&(r.check=Pl(r.check,n,g,a)),s-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=s6;case s6:if(r.flags&2048){if(s===0)break e;g=0;do F=n[a+g++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&g<s);if(r.flags&512&&r.wrap&4&&(r.check=Pl(r.check,n,g,a)),s-=g,a+=g,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=l6;case l6:if(r.flags&4096){if(s===0)break e;g=0;do F=n[a+g++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&g<s);if(r.flags&512&&r.wrap&4&&(r.check=Pl(r.check,n,g,a)),s-=g,a+=g,F)break e}else r.head&&(r.head.comment=null);r.mode=c6;case c6:if(r.flags&512){for(;h<16;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=qn;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=mc;break;case u6:for(;h<32;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}e.adler=r.check=E6(u),u=0,h=0,r.mode=B2;case B2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=h,UK;e.adler=r.check=1,r.mode=mc;case mc:if(t===FK||t===nm)break e;case Nw:if(r.last){u>>>=h&7,h-=h&7,r.mode=Iw;break}for(;h<3;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=f6;break;case 1:if(KK(r),r.mode=im,t===nm){u>>>=2,h-=2;break e}break;case 2:r.mode=d6;break;case 3:e.msg="invalid block type",r.mode=qn}u>>>=2,h-=2;break;case f6:for(u>>>=h&7,h-=h&7;h<32;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=qn;break}if(r.length=u&65535,u=0,h=0,r.mode=Pw,t===nm)break e;case Pw:r.mode=h6;case h6:if(g=r.length,g){if(g>s&&(g=s),g>c&&(g=c),g===0)break e;i.set(n.subarray(a,a+g),o),s-=g,a+=g,c-=g,o+=g,r.length-=g;break}r.mode=mc;break;case d6:for(;h<14;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=qn;break}r.have=0,r.mode=p6;case p6:for(;r.have<r.ncode;){for(;h<3;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.lens[U[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},q=j1(MK,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,q){e.msg="invalid code lengths set",r.mode=qn;break}r.have=0,r.mode=g6;case g6:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[u&(1<<r.lenbits)-1],S=E>>>24,T=E>>>16&255,O=E&65535,!(S<=h);){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(O<16)u>>>=S,h-=S,r.lens[r.have++]=O;else{if(O===16){for(W=S+2;h<W;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(u>>>=S,h-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=qn;break}F=r.lens[r.have-1],g=3+(u&3),u>>>=2,h-=2}else if(O===17){for(W=S+3;h<W;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}u>>>=S,h-=S,F=0,g=3+(u&7),u>>>=3,h-=3}else{for(W=S+7;h<W;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}u>>>=S,h-=S,F=0,g=11+(u&127),u>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=qn;break}for(;g--;)r.lens[r.have++]=F}}if(r.mode===qn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=qn;break}if(r.lenbits=9,ee={bits:r.lenbits},q=j1(ER,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,q){e.msg="invalid literal/lengths set",r.mode=qn;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},q=j1(SR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,q){e.msg="invalid distances set",r.mode=qn;break}if(r.mode=im,t===nm)break e;case im:r.mode=am;case am:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=h,PK(e,v),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,h=r.bits,r.mode===mc&&(r.back=-1);break}for(r.back=0;E=r.lencode[u&(1<<r.lenbits)-1],S=E>>>24,T=E>>>16&255,O=E&65535,!(S<=h);){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(T&&!(T&240)){for(k=S,D=T,z=O;E=r.lencode[z+((u&(1<<k+D)-1)>>k)],S=E>>>24,T=E>>>16&255,O=E&65535,!(k+S<=h);){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}u>>>=k,h-=k,r.back+=k}if(u>>>=S,h-=S,r.back+=S,r.length=O,T===0){r.mode=w6;break}if(T&32){r.back=-1,r.mode=mc;break}if(T&64){e.msg="invalid literal/length code",r.mode=qn;break}r.extra=T&15,r.mode=m6;case m6:if(r.extra){for(W=r.extra;h<W;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=v6;case v6:for(;E=r.distcode[u&(1<<r.distbits)-1],S=E>>>24,T=E>>>16&255,O=E&65535,!(S<=h);){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(!(T&240)){for(k=S,D=T,z=O;E=r.distcode[z+((u&(1<<k+D)-1)>>k)],S=E>>>24,T=E>>>16&255,O=E&65535,!(k+S<=h);){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}u>>>=k,h-=k,r.back+=k}if(u>>>=S,h-=S,r.back+=S,T&64){e.msg="invalid distance code",r.mode=qn;break}r.offset=O,r.extra=T&15,r.mode=x6;case x6:if(r.extra){for(W=r.extra;h<W;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=qn;break}r.mode=y6;case y6:if(c===0)break e;if(g=v-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=qn;break}g>r.wnext?(g-=r.wnext,_=r.wsize-g):_=r.wnext-g,g>r.length&&(g=r.length),b=r.window}else b=i,_=o-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do i[o++]=b[_++];while(--g);r.length===0&&(r.mode=am);break;case w6:if(c===0)break e;i[o++]=r.length,c--,r.mode=am;break;case Iw:if(r.wrap){for(;h<32;){if(s===0)break e;s--,u|=n[a++]<<h,h+=8}if(v-=c,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Pl(r.check,i,v,o-v):K5(r.check,i,v,o-v)),v=c,r.wrap&4&&(r.flags?u:E6(u))!==r.check){e.msg="incorrect data check",r.mode=qn;break}u=0,h=0}r.mode=b6;case b6:if(r.wrap&&r.flags){for(;h<32;){if(s===0)break e;s--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=qn;break}u=0,h=0}r.mode=_6;case _6:q=BK;break e;case qn:q=AR;break e;case TR:return CR;case OR:default:return $s}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=h,(r.wsize||v!==e.avail_out&&r.mode<qn&&(r.mode<Iw||t!==e6))&&RR(e,e.output,e.next_out,v-e.avail_out),p-=e.avail_in,v-=e.avail_out,e.total_in+=p,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Pl(r.check,i,v,e.next_out-v):K5(r.check,i,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===mc?128:0)+(r.mode===im||r.mode===Pw?256:0),(p===0&&v===0||t===e6)&&q===sh&&(q=$K),q},YK=e=>{if(wh(e))return $s;let t=e.state;return t.window&&(t.window=null),e.state=null,sh},ZK=(e,t)=>{if(wh(e))return $s;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,sh):$s},JK=(e,t)=>{const r=t.length;let n,i,a;return wh(e)||(n=e.state,n.wrap!==0&&n.mode!==B2)?$s:n.mode===B2&&(i=1,i=K5(i,t,r,0),i!==n.check)?AR:(a=RR(e,t,r,r),a?(n.mode=TR,CR):(n.havedict=1,sh))};var QK=NR,eX=PR,tX=kR,rX=GK,nX=IR,iX=XK,aX=YK,oX=ZK,sX=JK,lX="pako inflate (from Nodeca project)",bc={inflateReset:QK,inflateReset2:eX,inflateResetKeep:tX,inflateInit:rX,inflateInit2:nX,inflate:iX,inflateEnd:aX,inflateGetHeader:oX,inflateSetDictionary:sX,inflateInfo:lX};function cX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uX=cX;const LR=Object.prototype.toString,{Z_NO_FLUSH:fX,Z_FINISH:hX,Z_OK:pp,Z_STREAM_END:Dw,Z_NEED_DICT:jw,Z_STREAM_ERROR:dX,Z_DATA_ERROR:A6,Z_MEM_ERROR:pX}=wR;function $p(e){this.options=bR.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kK,this.strm.avail_out=0;let r=bc.inflateInit2(this.strm,t.windowBits);if(r!==pp)throw new Error(X5[r]);if(this.header=new uX,bc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Y5.string2buf(t.dictionary):LR.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=bc.inflateSetDictionary(this.strm,t.dictionary),r!==pp)))throw new Error(X5[r])}$p.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?hX:fX,LR.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=bc.inflate(r,o),a===jw&&i&&(a=bc.inflateSetDictionary(r,i),a===pp?a=bc.inflate(r,o):a===A6&&(a=jw));r.avail_in>0&&a===Dw&&r.state.wrap>0&&e[r.next_in]!==0;)bc.inflateReset(r),a=bc.inflate(r,o);switch(a){case dX:case A6:case jw:case pX:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===Dw))if(this.options.to==="string"){let c=Y5.utf8border(r.output,r.next_out),u=r.next_out-c,h=Y5.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===pp&&s===0)){if(a===Dw)return a=bc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$p.prototype.onData=function(e){this.chunks.push(e)};$p.prototype.onEnd=function(e){e===pp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bR.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function gX(e,t){const r=new $p(t);if(r.push(e),r.err)throw r.msg||X5[r.err];return r.result}var mX=$p,vX=gX,xX={Inflate:mX,inflate:vX};const{Inflate:yX,inflate:wX}=xX;var C6=yX,bX=wX;const DR=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;DR[e]=t}const T6=4294967295;function _X(e,t,r){let n=e;for(let i=0;i<r;i++)n=DR[(n^t[i])&255]^n>>>8;return n}function EX(e,t){return(_X(T6,e,t)^T6)>>>0}function O6(e,t,r){const n=e.readUint32(),i=EX(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function jR(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function MR(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function FR(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function BR(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function UR(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+SX(t[a-i],r[a],r[a-i])&255}}function SX(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function AX(e,t,r,n,i,a){switch(e){case 0:jR(t,r,i);break;case 1:MR(t,r,i,a);break;case 2:FR(t,r,n,i);break;case 3:BR(t,r,n,i,a);break;case 4:UR(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const CX=new Uint16Array([255]),TX=new Uint8Array(CX.buffer),OX=TX[0]===255;function kX(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,c=new Uint8Array(n*r*s);let u=0;for(let h=0;h<7;h++){const p=o[h],v=Math.ceil((r-p.x)/p.xStep),g=Math.ceil((n-p.y)/p.yStep);if(v<=0||g<=0)continue;const _=v*s,b=new Uint8Array(_);for(let E=0;E<g;E++){const S=t[u++],T=t.subarray(u,u+_);u+=_;const O=new Uint8Array(_);AX(S,T,O,b,_,s),b.set(O);for(let k=0;k<v;k++){const D=p.x+k*p.xStep,z=p.y+E*p.yStep;if(!(D>=r||z>=n))for(let F=0;F<s;F++)c[(z*r+D)*s+F]=O[k*s+F]}}}if(a===16){const h=new Uint16Array(c.buffer);if(OX)for(let p=0;p<h.length;p++)h[p]=NX(h[p]);return h}else return c}function NX(e){return(e&255)<<8|e>>8&255}const PX=new Uint16Array([255]),IX=new Uint8Array(PX.buffer),RX=IX[0]===255,LX=new Uint8Array(0);function k6(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),c=new Uint8Array(n*s);let u=LX,h=0,p,v;for(let g=0;g<n;g++){switch(p=t.subarray(h+1,h+1+s),v=c.subarray(g*s,(g+1)*s),t[h]){case 0:jR(p,v,s);break;case 1:MR(p,v,s,o);break;case 2:FR(p,v,u,s);break;case 3:BR(p,v,u,s,o);break;case 4:UR(p,v,u,s,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=v,h+=s+1}if(a===16){const g=new Uint16Array(c.buffer);if(RX)for(let _=0;_<g.length;_++)g[_]=DX(g[_]);return g}else return c}function DX(e){return(e&255)<<8|e>>8&255}const Jm=Uint8Array.of(137,80,78,71,13,10,26,10);function N6(e){if(!jX(e.readBytes(Jm.length)))throw new Error("wrong PNG signature")}function jX(e){if(e.length<Jm.length)return!1;for(let t=0;t<Jm.length;t++)if(e[t]!==Jm[t])return!1;return!0}const MX="tEXt",FX=0,$R=new TextDecoder("latin1");function BX(e){if($X(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const UX=/^[\u0000-\u00FF]*$/;function $X(e){if(!UX.test(e))throw new Error("invalid latin1 text")}function WX(e,t,r){const n=WR(t);e[n]=zX(t,r-n.length-1)}function WR(e){for(e.mark();e.readByte()!==FX;);const t=e.offset;e.reset();const r=$R.decode(e.readBytes(t-e.offset-1));return e.skip(1),BX(r),r}function zX(e,t){return $R.decode(e.readBytes(t))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Mw={UNKNOWN:-1,DEFLATE:0},P6={UNKNOWN:-1,ADAPTIVE:0},Fw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},om={NONE:0,BACKGROUND:1,PREVIOUS:2},Bw={SOURCE:0,OVER:1};class HX extends g4{constructor(r,n={}){super(r);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new C6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Mw.UNKNOWN,this._filterMethod=P6.UNKNOWN,this._interlaceMethod=Fw.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(N6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(N6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case MX:WX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?O6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?O6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=VX(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Vo.GREYSCALE:i=1;break;case Vo.TRUECOLOUR:i=3;break;case Vo.INDEXED_COLOUR:i=1;break;case Vo.GREYSCALE_ALPHA:i=2;break;case Vo.TRUECOLOUR_ALPHA:i=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Mw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=WR(this),i=this.readUint8();if(i!==Mw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:bX(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=k6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case om.NONE:break;case om.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[s+c]=0}break;case om.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,s)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,u=(o*n.width+s)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Bw.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:c,frameIndex:u}=a(o,s);for(let h=0;h<this._png.channels;h++)r.data[c+h]=n.data[u+h]}break;case Bw.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:c,frameIndex:u}=a(o,s);for(let h=0;h<this._png.channels;h++){const p=n.data[u+this._png.channels-1]/i,v=h%(this._png.channels-1)===0?1:n.data[u+h],g=Math.floor(p*v+(1-p)*r.data[c+h]);r.data[c+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==P6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fw.NO_INTERLACE)this._png.data=k6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fw.ADAM7)this._png.data=kX({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:om.NONE,blendOp:Bw.SOURCE,data:r}),this._inflator=new C6,this._writingDataChunks=!1}}function VX(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var I6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(I6||(I6={}));function qX(e,t){return new HX(e,t).decode()}var Ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uw(){Ar.console&&typeof Ar.console.log=="function"&&Ar.console.log.apply(Ar.console,arguments)}var Cn={log:Uw,warn:function(e){Ar.console&&(typeof Ar.console.warn=="function"?Ar.console.warn.apply(Ar.console,arguments):Uw.call(null,arguments))},error:function(e){Ar.console&&(typeof Ar.console.error=="function"?Ar.console.error.apply(Ar.console,arguments):Uw(e))}};function $w(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Nf(n.response,t,r)},n.onerror=function(){Cn.error("could not download file")},n.send()}function R6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function sm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Nf=Ar.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==Ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ar.URL||Ar.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?R6(i.href)?$w(e,t,r):sm(i,i.target="_blank"):sm(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){sm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(R6(e))$w(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){sm(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:mn(a)!=="object"&&(Cn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return $w(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Ar.HTMLElement)||Ar.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},s.readAsDataURL(e)}else{var c=Ar.URL||Ar.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zR(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+s+c+u}}var Qm=Ar.atob.bind(Ar),L6=Ar.btoa.bind(Ar);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ww(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Ua(r,n,i,a,t[0],7,-680876936),a=Ua(a,r,n,i,t[1],12,-389564586),i=Ua(i,a,r,n,t[2],17,606105819),n=Ua(n,i,a,r,t[3],22,-1044525330),r=Ua(r,n,i,a,t[4],7,-176418897),a=Ua(a,r,n,i,t[5],12,1200080426),i=Ua(i,a,r,n,t[6],17,-1473231341),n=Ua(n,i,a,r,t[7],22,-45705983),r=Ua(r,n,i,a,t[8],7,1770035416),a=Ua(a,r,n,i,t[9],12,-1958414417),i=Ua(i,a,r,n,t[10],17,-42063),n=Ua(n,i,a,r,t[11],22,-1990404162),r=Ua(r,n,i,a,t[12],7,1804603682),a=Ua(a,r,n,i,t[13],12,-40341101),i=Ua(i,a,r,n,t[14],17,-1502002290),r=$a(r,n=Ua(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=$a(a,r,n,i,t[6],9,-1069501632),i=$a(i,a,r,n,t[11],14,643717713),n=$a(n,i,a,r,t[0],20,-373897302),r=$a(r,n,i,a,t[5],5,-701558691),a=$a(a,r,n,i,t[10],9,38016083),i=$a(i,a,r,n,t[15],14,-660478335),n=$a(n,i,a,r,t[4],20,-405537848),r=$a(r,n,i,a,t[9],5,568446438),a=$a(a,r,n,i,t[14],9,-1019803690),i=$a(i,a,r,n,t[3],14,-187363961),n=$a(n,i,a,r,t[8],20,1163531501),r=$a(r,n,i,a,t[13],5,-1444681467),a=$a(a,r,n,i,t[2],9,-51403784),i=$a(i,a,r,n,t[7],14,1735328473),r=Wa(r,n=$a(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Wa(a,r,n,i,t[8],11,-2022574463),i=Wa(i,a,r,n,t[11],16,1839030562),n=Wa(n,i,a,r,t[14],23,-35309556),r=Wa(r,n,i,a,t[1],4,-1530992060),a=Wa(a,r,n,i,t[4],11,1272893353),i=Wa(i,a,r,n,t[7],16,-155497632),n=Wa(n,i,a,r,t[10],23,-1094730640),r=Wa(r,n,i,a,t[13],4,681279174),a=Wa(a,r,n,i,t[0],11,-358537222),i=Wa(i,a,r,n,t[3],16,-722521979),n=Wa(n,i,a,r,t[6],23,76029189),r=Wa(r,n,i,a,t[9],4,-640364487),a=Wa(a,r,n,i,t[12],11,-421815835),i=Wa(i,a,r,n,t[15],16,530742520),r=za(r,n=Wa(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=za(a,r,n,i,t[7],10,1126891415),i=za(i,a,r,n,t[14],15,-1416354905),n=za(n,i,a,r,t[5],21,-57434055),r=za(r,n,i,a,t[12],6,1700485571),a=za(a,r,n,i,t[3],10,-1894986606),i=za(i,a,r,n,t[10],15,-1051523),n=za(n,i,a,r,t[1],21,-2054922799),r=za(r,n,i,a,t[8],6,1873313359),a=za(a,r,n,i,t[15],10,-30611744),i=za(i,a,r,n,t[6],15,-1560198380),n=za(n,i,a,r,t[13],21,1309151649),r=za(r,n,i,a,t[4],6,-145523070),a=za(a,r,n,i,t[11],10,-1120210379),i=za(i,a,r,n,t[2],15,718787259),n=za(n,i,a,r,t[9],21,-343485551),e[0]=Nu(r,e[0]),e[1]=Nu(n,e[1]),e[2]=Nu(i,e[2]),e[3]=Nu(a,e[3])}function mx(e,t,r,n,i,a){return t=Nu(Nu(t,e),Nu(n,a)),Nu(t<<i|t>>>32-i,r)}function Ua(e,t,r,n,i,a,o){return mx(t&r|~t&n,e,t,i,a,o)}function $a(e,t,r,n,i,a,o){return mx(t&n|r&~n,e,t,i,a,o)}function Wa(e,t,r,n,i,a,o){return mx(t^r^n,e,t,i,a,o)}function za(e,t,r,n,i,a,o){return mx(r^(t|~n),e,t,i,a,o)}function HR(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ww(n,GX(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ww(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Ww(n,i),n}function GX(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var D6="0123456789abcdef".split("");function KX(e){for(var t="",r=0;r<4;r++)t+=D6[e>>8*r+4&15]+D6[e>>8*r&15];return t}function XX(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Z5(e){return HR(e).map(XX).join("")}var YX=function(e){for(var t=0;t<e.length;t++)e[t]=KX(e[t]);return e.join("")}(HR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nu(e,t){if(YX){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J5(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),s=[],c=0;c<256;c++)s[c]=c;var u=0;for(c=0;c<256;c++){var h=s[c];u=(u+h+o.charCodeAt(c))%256,s[c]=s[u],s[u]=h}r=e,n=s}else s=n;var p=t.length,v=0,g=0,_="";for(c=0;c<p;c++)g=(g+(h=s[v=(v+1)%256]))%256,s[v]=s[g],s[g]=h,o=s[(s[v]+s[g])%256],_+=String.fromCharCode(t.charCodeAt(c)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var j6={print:4,modify:8,copy:16,"annot-forms":32};function t0(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(j6.perm!==void 0)throw new Error("Invalid permission: "+s);i+=j6[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Z5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=J5(this.encryptionKey,this.padding)}function r0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function M6(e){if(mn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(s){Ar.console&&Cn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function U2(e){if(!(this instanceof U2))return new U2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VR(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function jf(e,t,r,n,i){if(!(this instanceof jf))return new jf(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VR.call(this,n,i)}function m0(e,t,r,n,i){if(!(this instanceof m0))return new m0(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VR.call(this,n,i)}function ir(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,c=16,u="S",h=null;mn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=M6;var _="1.3",b=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(I){_=I};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var S=g.__private__.getPageFormat=function(I){return E[I]};i=i||"a4";var T="compat",O="advanced",k=T;function D(){this.saveGraphicsState(),me(new Vt(Et,0,0,-Et,0,ac()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),u="n",k=O}function z(){this.restoreGraphicsState(),u="S",k=T}var F=g.__private__.combineFontStyleAndFontWeight=function(I,Q){if(I=="bold"&&Q=="normal"||I=="bold"&&Q==400||I=="normal"&&Q=="italic"||I=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(I=Q==400||Q==="normal"?I==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||I!=="normal"?(Q==700?"bold":Q)+""+I:"bold"),I};g.advancedAPI=function(I){var Q=k===T;return Q&&D.call(this),typeof I!="function"||(I(this),Q&&z.call(this)),this},g.compatAPI=function(I){var Q=k===O;return Q&&z.call(this),typeof I!="function"||(I(this),Q&&D.call(this)),this},g.isAdvancedAPI=function(){return k===O};var q,B=function(I){if(k!==O)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=g.roundToPrecision=g.__private__.roundToPrecision=function(I,Q){var Se=t||Q;if(isNaN(I)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(Se).replace(/0+$/,"")};q=g.hpf=g.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(I,16)};var W=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return ee(I,2)},U=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return ee(I,3)},K=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return k===T?I*Et:k===O?I:void 0},oe=function(I){return K(function(Q){return k===T?ac()-Q:k===O?Q:void 0}(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var ae,Re="00000000000000000000000000000000",ke=g.__private__.getFileId=function(){return Re},we=g.__private__.setFileId=function(I){return Re=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():Re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(wn=new t0(h.userPermissions,h.userPassword,h.ownerPassword,Re)),Re};g.setFileId=function(I){return we(I),this},g.getFileId=function(){return ke()};var _e=g.__private__.convertDateToPDFDate=function(I){var Q=I.getTimezoneOffset(),Se=Q<0?"+":"-",De=Math.floor(Math.abs(Q/60)),He=Math.abs(Q%60),gt=[Se,H(De),"'",H(He),"'"].join("");return["D:",I.getFullYear(),H(I.getMonth()+1),H(I.getDate()),H(I.getHours()),H(I.getMinutes()),H(I.getSeconds()),gt].join("")},$e=g.__private__.convertPDFDateToDate=function(I){var Q=parseInt(I.substr(2,4),10),Se=parseInt(I.substr(6,2),10)-1,De=parseInt(I.substr(8,2),10),He=parseInt(I.substr(10,2),10),gt=parseInt(I.substr(12,2),10),At=parseInt(I.substr(14,2),10);return new Date(Q,Se,De,He,gt,At,0)},We=g.__private__.setCreationDate=function(I){var Q;if(I===void 0&&(I=new Date),I instanceof Date)Q=_e(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=I}return ae=Q},j=g.__private__.getCreationDate=function(I){var Q=ae;return I==="jsDate"&&(Q=$e(ae)),Q};g.setCreationDate=function(I){return We(I),this},g.getCreationDate=function(I){return j(I)};var Y,H=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},X=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ne=0,Oe=[],Ie=[],be=0,Pe=[],ze=[],Me=!1,st=Ie;g.__private__.setCustomOutputDestination=function(I){Me=!0,st=I};var Fe=function(I){Me||(st=I)};g.__private__.resetCustomOutputDestination=function(){Me=!1,st=Ie};var me=g.__private__.out=function(I){return I=I.toString(),be+=I.length+1,st.push(I),st},Dt=g.__private__.write=function(I){return me(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},lt=g.__private__.getArrayBuffer=function(I){for(var Q=I.length,Se=new ArrayBuffer(Q),De=new Uint8Array(Se);Q--;)De[Q]=I.charCodeAt(Q);return Se},Ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ot};var ot=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return ot=k===O?I/Et:I,this};var Ut,at=g.__private__.getFontSize=g.getFontSize=function(){return k===T?ot:ot*Et},gr=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return gr=I,this},g.__private__.getR2L=g.getR2L=function(){return gr};var Ht,cr=g.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Ut=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Ut=I}else Ut=parseInt(I,10)};g.__private__.getZoomMode=function(){return Ut};var lr,Jt=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Ht=I};g.__private__.getPageMode=function(){return Ht};var te=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');lr=I};g.__private__.getLayoutMode=function(){return lr},g.__private__.setDisplayMode=g.setDisplayMode=function(I,Q,Se){return cr(I),te(Q),Jt(Se),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys(xt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[I]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var Q in xt)xt.hasOwnProperty(Q)&&I[Q]&&(xt[Q]=I[Q]);return this},g.__private__.setDocumentProperty=function(I,Q){if(Object.keys(xt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[I]=Q};var wt,Et,zt,Ne,xe,fe={},Qe={},ft=[],Ze={},Rt={},$t={},fr={},er=null,mr=0,nr=[],jr=new M6(g),Cr=e.hotfixes||[],$r={},vr={},kn=[],Vt=function I(Q,Se,De,He,gt,At){if(!(this instanceof I))return new I(Q,Se,De,He,gt,At);isNaN(Q)&&(Q=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),isNaN(He)&&(He=1),isNaN(gt)&&(gt=0),isNaN(At)&&(At=0),this._matrix=[Q,Se,De,He,gt,At]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(I)},Vt.prototype.multiply=function(I){var Q=I.sx*this.sx+I.shy*this.shx,Se=I.sx*this.shy+I.shy*this.sy,De=I.shx*this.sx+I.sy*this.shx,He=I.shx*this.shy+I.sy*this.sy,gt=I.tx*this.sx+I.ty*this.shx+this.tx,At=I.tx*this.shy+I.ty*this.sy+this.ty;return new Vt(Q,Se,De,He,gt,At)},Vt.prototype.decompose=function(){var I=this.sx,Q=this.shy,Se=this.shx,De=this.sy,He=this.tx,gt=this.ty,At=Math.sqrt(I*I+Q*Q),Gt=(I/=At)*Se+(Q/=At)*De;Se-=I*Gt,De-=Q*Gt;var Ft=Math.sqrt(Se*Se+De*De);return Gt/=Ft,I*(De/=Ft)<Q*(Se/=Ft)&&(I=-I,Q=-Q,Gt=-Gt,At=-At),{scale:new Vt(At,0,0,Ft,0,0),translate:new Vt(1,0,0,1,He,gt),rotate:new Vt(I,Q,-Q,I,0,0),skew:new Vt(1,0,Gt,1,0,0)}},Vt.prototype.toString=function(I){return this.join(" ")},Vt.prototype.inversed=function(){var I=this.sx,Q=this.shy,Se=this.shx,De=this.sy,He=this.tx,gt=this.ty,At=1/(I*De-Q*Se),Gt=De*At,Ft=-Q*At,Er=-Se*At,Kt=I*At;return new Vt(Gt,Ft,Er,Kt,-Gt*He-Er*gt,-Ft*He-Kt*gt)},Vt.prototype.applyToPoint=function(I){var Q=I.x*this.sx+I.y*this.shx+this.tx,Se=I.x*this.shy+I.y*this.sy+this.ty;return new oi(Q,Se)},Vt.prototype.applyToRectangle=function(I){var Q=this.applyToPoint(I),Se=this.applyToPoint(new oi(I.x+I.w,I.y+I.h));return new au(Q.x,Q.y,Se.x-Q.x,Se.y-Q.y)},Vt.prototype.clone=function(){var I=this.sx,Q=this.shy,Se=this.shx,De=this.sy,He=this.tx,gt=this.ty;return new Vt(I,Q,Se,De,He,gt)},g.Matrix=Vt;var _n=g.matrixMult=function(I,Q){return Q.multiply(I)},Bi=new Vt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Bi;var Vr=function(I,Q){if(!Rt[I]){var Se=(Q instanceof jf?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);Q.id=Se,Rt[I]=Se,Ze[Se]=Q,jr.publish("addPattern",Q)}};g.ShadingPattern=jf,g.TilingPattern=m0,g.addShadingPattern=function(I,Q){return B("addShadingPattern()"),Vr(I,Q),this},g.beginTilingPattern=function(I){B("beginTilingPattern()"),ou(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,Q){B("endTilingPattern()"),Q.stream=ze[Y].join(`
`),Vr(I,Q),jr.publish("endTilingPattern",Q),kn.pop().restore()};var Ai,Mr=g.__private__.newObject=function(){var I=Gr();return ie(I,!0),I},Gr=g.__private__.newObjectDeferred=function(){return ne++,Oe[ne]=function(){return be},ne},ie=function(I,Q){return Q=typeof Q=="boolean"&&Q,Oe[I]=be,Q&&me(I+" 0 obj"),I},ue=g.__private__.newAdditionalObject=function(){var I={objId:Gr(),content:""};return Pe.push(I),I},de=Gr(),ge=Gr(),ye=g.__private__.decodeColorString=function(I){var Q=I.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var Se=parseFloat(Q[0]);Q=[Se,Se,Se,"r"]}for(var De="#",He=0;He<3;He++)De+=("0"+Math.floor(255*parseFloat(Q[He])).toString(16)).slice(-2);return De},Ae=g.__private__.encodeColorString=function(I){var Q;typeof I=="string"&&(I={ch1:I});var Se=I.ch1,De=I.ch2,He=I.ch3,gt=I.ch4,At=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var Gt=new zR(Se);if(Gt.ok)Se=Gt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var Ft=parseInt(Se.substr(1),16);Se=Ft>>16&255,De=Ft>>8&255,He=255&Ft}if(De===void 0||gt===void 0&&Se===De&&De===He)Q=typeof Se=="string"?Se+" "+At[0]:I.precision===2?W(Se/255)+" "+At[0]:U(Se/255)+" "+At[0];else if(gt===void 0||mn(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",At[1]].join(" ");Q=typeof Se=="string"?[Se,De,He,At[1]].join(" "):I.precision===2?[W(Se/255),W(De/255),W(He/255),At[1]].join(" "):[U(Se/255),U(De/255),U(He/255),At[1]].join(" ")}else Q=typeof Se=="string"?[Se,De,He,gt,At[2]].join(" "):I.precision===2?[W(Se),W(De),W(He),W(gt),At[2]].join(" "):[U(Se),U(De),U(He),U(gt),At[2]].join(" ");return Q},Ke=g.__private__.getFilters=function(){return o},ct=g.__private__.putStream=function(I){var Q=(I=I||{}).data||"",Se=I.filters||Ke(),De=I.alreadyAppliedFilters||[],He=I.addLength1||!1,gt=Q.length,At=I.objectId,Gt=function(gi){return gi};if(h!==null&&At===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Gt=wn.encryptor(At,0));var Ft={};Se===!0&&(Se=["FlateEncode"]);var Er=I.additionalKeyValues||[],Kt=(Ft=ir.API.processDataByFilters!==void 0?ir.API.processDataByFilters(Q,Se):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Ft.data.length!==0&&(Er.push({key:"Length",value:Ft.data.length}),He===!0&&Er.push({key:"Length1",value:gt})),Kt.length!=0)if(Kt.split("/").length-1==1)Er.push({key:"Filter",value:Kt});else{Er.push({key:"Filter",value:"["+Kt+"]"});for(var Kr=0;Kr<Er.length;Kr+=1)if(Er[Kr].key==="DecodeParms"){for(var an=[],Sr=0;Sr<Ft.reverseChain.split("/").length-1;Sr+=1)an.push("null");an.push(Er[Kr].value),Er[Kr].value="["+an.join(" ")+"]"}}me("<<");for(var Wt=0;Wt<Er.length;Wt++)me("/"+Er[Wt].key+" "+Er[Wt].value);me(">>"),Ft.data.length!==0&&(me("stream"),me(Gt(Ft.data)),me("endstream"))},Ge=g.__private__.putPage=function(I){var Q=I.number,Se=I.data,De=I.objId,He=I.contentsObjId;ie(De,!0),me("<</Type /Page"),me("/Parent "+I.rootDictionaryObjId+" 0 R"),me("/Resources "+I.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(q(I.mediaBox.bottomLeftX))+" "+parseFloat(q(I.mediaBox.bottomLeftY))+" "+q(I.mediaBox.topRightX)+" "+q(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&me("/CropBox ["+q(I.cropBox.bottomLeftX)+" "+q(I.cropBox.bottomLeftY)+" "+q(I.cropBox.topRightX)+" "+q(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&me("/BleedBox ["+q(I.bleedBox.bottomLeftX)+" "+q(I.bleedBox.bottomLeftY)+" "+q(I.bleedBox.topRightX)+" "+q(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&me("/TrimBox ["+q(I.trimBox.bottomLeftX)+" "+q(I.trimBox.bottomLeftY)+" "+q(I.trimBox.topRightX)+" "+q(I.trimBox.topRightY)+"]"),I.artBox!==null&&me("/ArtBox ["+q(I.artBox.bottomLeftX)+" "+q(I.artBox.bottomLeftY)+" "+q(I.artBox.topRightX)+" "+q(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&me("/UserUnit "+I.userUnit),jr.publish("putPage",{objId:De,pageContext:nr[Q],pageNumber:Q,page:Se}),me("/Contents "+He+" 0 R"),me(">>"),me("endobj");var gt=Se.join(`
`);return k===O&&(gt+=`
Q`),ie(He,!0),ct({data:gt,filters:Ke(),objectId:He}),me("endobj"),De},Ye=g.__private__.putPages=function(){var I,Q,Se=[];for(I=1;I<=mr;I++)nr[I].objId=Gr(),nr[I].contentsObjId=Gr();for(I=1;I<=mr;I++)Se.push(Ge({number:I,data:ze[I],objId:nr[I].objId,contentsObjId:nr[I].contentsObjId,mediaBox:nr[I].mediaBox,cropBox:nr[I].cropBox,bleedBox:nr[I].bleedBox,trimBox:nr[I].trimBox,artBox:nr[I].artBox,userUnit:nr[I].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:ge}));ie(de,!0),me("<</Type /Pages");var De="/Kids [";for(Q=0;Q<mr;Q++)De+=Se[Q]+" 0 R ";me(De+"]"),me("/Count "+mr),me(">>"),me("endobj"),jr.publish("postPutPages")},qe=function(I){jr.publish("putFont",{font:I,out:me,newObject:Mr,putStream:ct}),I.isAlreadyPutted!==!0&&(I.objectNumber=Mr(),me("<<"),me("/Type /Font"),me("/BaseFont /"+r0(I.postScriptName)),me("/Subtype /Type1"),typeof I.encoding=="string"&&me("/Encoding /"+I.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},pt=function(I){I.objectNumber=Mr();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[q(I.x),q(I.y),q(I.x+I.width),q(I.y+I.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Se=I.pages[1].join(`
`);ct({data:Se,additionalKeyValues:Q,objectId:I.objectNumber}),me("endobj")},St=function(I,Q){Q||(Q=21);var Se=Mr(),De=function(At,Gt){var Ft,Er=[],Kt=1/(Gt-1);for(Ft=0;Ft<1;Ft+=Kt)Er.push(Ft);if(Er.push(1),At[0].offset!=0){var Kr={offset:0,color:At[0].color};At.unshift(Kr)}if(At[At.length-1].offset!=1){var an={offset:1,color:At[At.length-1].color};At.push(an)}for(var Sr="",Wt=0,gi=0;gi<Er.length;gi++){for(Ft=Er[gi];Ft>At[Wt+1].offset;)Wt++;var Tr=At[Wt].offset,Dn=(Ft-Tr)/(At[Wt+1].offset-Tr),Ui=At[Wt].color,Da=At[Wt+1].color;Sr+=X(Math.round((1-Dn)*Ui[0]+Dn*Da[0]).toString(16))+X(Math.round((1-Dn)*Ui[1]+Dn*Da[1]).toString(16))+X(Math.round((1-Dn)*Ui[2]+Dn*Da[2]).toString(16))}return Sr.trim()}(I.colors,Q),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+Q+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct({data:De,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),me("endobj"),I.objectNumber=Mr(),me("<< /ShadingType "+I.type),me("/ColorSpace /DeviceRGB");var gt="/Coords ["+q(parseFloat(I.coords[0]))+" "+q(parseFloat(I.coords[1]))+" ";I.type===2?gt+=q(parseFloat(I.coords[2]))+" "+q(parseFloat(I.coords[3])):gt+=q(parseFloat(I.coords[2]))+" "+q(parseFloat(I.coords[3]))+" "+q(parseFloat(I.coords[4]))+" "+q(parseFloat(I.coords[5])),me(gt+="]"),I.matrix&&me("/Matrix ["+I.matrix.toString()+"]"),me("/Function "+Se+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},kt=function(I,Q){var Se=Gr(),De=Mr();Q.push({resourcesOid:Se,objectOid:De}),I.objectNumber=De;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+I.boundingBox.map(q).join(" ")+"]"}),He.push({key:"XStep",value:q(I.xStep)}),He.push({key:"YStep",value:q(I.yStep)}),He.push({key:"Resources",value:Se+" 0 R"}),I.matrix&&He.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),ct({data:I.stream,additionalKeyValues:He,objectId:I.objectNumber}),me("endobj")},Pt=function(I){for(var Q in I.objectNumber=Mr(),me("<<"),I)switch(Q){case"opacity":me("/ca "+W(I[Q]));break;case"stroke-opacity":me("/CA "+W(I[Q]))}me(">>"),me("endobj")},Lt=function(I){ie(I.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Q in me("/Font <<"),fe)fe.hasOwnProperty(Q)&&(p===!1||p===!0&&v.hasOwnProperty(Q))&&me("/"+Q+" "+fe[Q].objectNumber+" 0 R");me(">>")}(),function(){if(Object.keys(Ze).length>0){for(var Q in me("/Shading <<"),Ze)Ze.hasOwnProperty(Q)&&Ze[Q]instanceof jf&&Ze[Q].objectNumber>=0&&me("/"+Q+" "+Ze[Q].objectNumber+" 0 R");jr.publish("putShadingPatternDict"),me(">>")}}(),function(Q){if(Object.keys(Ze).length>0){for(var Se in me("/Pattern <<"),Ze)Ze.hasOwnProperty(Se)&&Ze[Se]instanceof g.TilingPattern&&Ze[Se].objectNumber>=0&&Ze[Se].objectNumber<Q&&me("/"+Se+" "+Ze[Se].objectNumber+" 0 R");jr.publish("putTilingPatternDict"),me(">>")}}(I.objectOid),function(){if(Object.keys($t).length>0){var Q;for(Q in me("/ExtGState <<"),$t)$t.hasOwnProperty(Q)&&$t[Q].objectNumber>=0&&me("/"+Q+" "+$t[Q].objectNumber+" 0 R");jr.publish("putGStateDict"),me(">>")}}(),function(){for(var Q in me("/XObject <<"),$r)$r.hasOwnProperty(Q)&&$r[Q].objectNumber>=0&&me("/"+Q+" "+$r[Q].objectNumber+" 0 R");jr.publish("putXobjectDict"),me(">>")}(),me(">>"),me("endobj")},yr=function(I){Qe[I.fontName]=Qe[I.fontName]||{},Qe[I.fontName][I.fontStyle]=I.id},ut=function(I,Q,Se,De,He){var gt={id:"F"+(Object.keys(fe).length+1).toString(10),postScriptName:I,fontName:Q,fontStyle:Se,encoding:De,isStandardFont:He||!1,metadata:{}};return jr.publish("addFont",{font:gt,instance:this}),fe[gt.id]=gt,yr(gt),gt.id},zr=g.__private__.pdfEscape=g.pdfEscape=function(I,Q){return function(Se,De){var He,gt,At,Gt,Ft,Er,Kt,Kr,an;if(At=(De=De||{}).sourceEncoding||"Unicode",Ft=De.outputEncoding,(De.autoencode||Ft)&&fe[wt].metadata&&fe[wt].metadata[At]&&fe[wt].metadata[At].encoding&&(Gt=fe[wt].metadata[At].encoding,!Ft&&fe[wt].encoding&&(Ft=fe[wt].encoding),!Ft&&Gt.codePages&&(Ft=Gt.codePages[0]),typeof Ft=="string"&&(Ft=Gt[Ft]),Ft)){for(Kt=!1,Er=[],He=0,gt=Se.length;He<gt;He++)(Kr=Ft[Se.charCodeAt(He)])?Er.push(String.fromCharCode(Kr)):Er.push(Se[He]),Er[He].charCodeAt(0)>>8&&(Kt=!0);Se=Er.join("")}for(He=Se.length;Kt===void 0&&He!==0;)Se.charCodeAt(He-1)>>8&&(Kt=!0),He--;if(!Kt)return Se;for(Er=De.noBOM?[]:[254,255],He=0,gt=Se.length;He<gt;He++){if((an=(Kr=Se.charCodeAt(He))>>8)>>8)throw new Error("Character at position "+He+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Er.push(an),Er.push(Kr-(an<<8))}return String.fromCharCode.apply(void 0,Er)}(I,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Or=g.__private__.beginPage=function(I){ze[++mr]=[],nr[mr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Fr(mr),Fe(ze[Y])},pa=function(I,Q){var Se,De,He;switch(r=Q||r,typeof I=="string"&&(Se=S(I.toLowerCase()),Array.isArray(Se)&&(De=Se[0],He=Se[1])),Array.isArray(I)&&(De=I[0]*Et,He=I[1]*Et),isNaN(De)&&(De=i[0],He=i[1]),(De>14400||He>14400)&&(Cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),He=Math.min(14400,He)),i=[De,He],r.substr(0,1)){case"l":He>De&&(i=[He,De]);break;case"p":De>He&&(i=[He,De])}Or(i),Jl(vf),me(Ql),iu!==0&&me(iu+" J"),Ys!==0&&me(Ys+" j"),jr.publish("addPage",{pageNumber:mr})},Ro=function(I){I>0&&I<=mr&&(ze.splice(I,1),nr.splice(I,1),mr--,Y>mr&&(Y=mr),this.setPage(Y))},Fr=function(I){I>0&&I<=mr&&(Y=I)},kr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ze.length-1},Nr=function(I,Q,Se){var De,He=void 0;return Se=Se||{},I=I!==void 0?I:fe[wt].fontName,Q=Q!==void 0?Q:fe[wt].fontStyle,De=I.toLowerCase(),Qe[De]!==void 0&&Qe[De][Q]!==void 0?He=Qe[De][Q]:Qe[I]!==void 0&&Qe[I][Q]!==void 0?He=Qe[I][Q]:Se.disableWarning===!1&&Cn.warn("Unable to look up font label for font '"+I+"', '"+Q+"'. Refer to getFontList() for available fonts."),He||Se.noFallback||(He=Qe.times[Q])==null&&(He=Qe.times.normal),He},Ci=g.__private__.putInfo=function(){var I=Mr(),Q=function(De){return De};for(var Se in h!==null&&(Q=wn.encryptor(I,0)),me("<<"),me("/Producer ("+zr(Q("jsPDF "+ir.version))+")"),xt)xt.hasOwnProperty(Se)&&xt[Se]&&me("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+zr(Q(xt[Se]))+")");me("/CreationDate ("+zr(Q(ae))+")"),me(">>"),me("endobj")},mf=g.__private__.putCatalog=function(I){var Q=(I=I||{}).rootDictionaryObjId||de;switch(Mr(),me("<<"),me("/Type /Catalog"),me("/Pages "+Q+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Ut;Se.substr(Se.length-1)==="%"&&(Ut=parseInt(Ut)/100),typeof Ut=="number"&&me("/OpenAction [3 0 R /XYZ null null "+W(Ut)+"]")}switch(lr||(lr="continuous"),lr){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}Ht&&me("/PageMode /"+Ht),jr.publish("putCatalog"),me(">>"),me("endobj")},Hn=g.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(ne+1)),me("/Root "+ne+" 0 R"),me("/Info "+(ne-1)+" 0 R"),h!==null&&me("/Encrypt "+wn.oid+" 0 R"),me("/ID [ <"+Re+"> <"+Re+"> ]"),me(">>")},Vn=g.__private__.putHeader=function(){me("%PDF-"+_),me("%")},Lo=g.__private__.putXRef=function(){var I="0000000000";me("xref"),me("0 "+(ne+1)),me("0000000000 65535 f ");for(var Q=1;Q<=ne;Q++)typeof Oe[Q]=="function"?me((I+Oe[Q]()).slice(-10)+" 00000 n "):Oe[Q]!==void 0?me((I+Oe[Q]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Ks=g.__private__.buildDocument=function(){var I;ne=0,be=0,Ie=[],Oe=[],Pe=[],de=Gr(),ge=Gr(),Fe(Ie),jr.publish("buildDocument"),Vn(),Ye(),function(){jr.publish("putAdditionalObjects");for(var Se=0;Se<Pe.length;Se++){var De=Pe[Se];ie(De.objId,!0),me(De.content),me("endobj")}jr.publish("postPutAdditionalObjects")}(),I=[],function(){for(var Se in fe)fe.hasOwnProperty(Se)&&(p===!1||p===!0&&v.hasOwnProperty(Se))&&qe(fe[Se])}(),function(){var Se;for(Se in $t)$t.hasOwnProperty(Se)&&Pt($t[Se])}(),function(){for(var Se in $r)$r.hasOwnProperty(Se)&&pt($r[Se])}(),function(Se){var De;for(De in Ze)Ze.hasOwnProperty(De)&&(Ze[De]instanceof jf?St(Ze[De]):Ze[De]instanceof m0&&kt(Ze[De],Se))}(I),jr.publish("putResources"),I.forEach(Lt),Lt({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),jr.publish("postPutResources"),h!==null&&(wn.oid=Mr(),me("<<"),me("/Filter /Standard"),me("/V "+wn.v),me("/R "+wn.r),me("/U <"+wn.toHexString(wn.U)+">"),me("/O <"+wn.toHexString(wn.O)+">"),me("/P "+wn.P),me(">>"),me("endobj")),Ci(),mf();var Q=be;return Lo(),Hn(),me("startxref"),me(""+Q),me("%%EOF"),Fe(ze[Y]),Ie.join(`
`)},un=g.__private__.getBlob=function(I){return new Blob([lt(I)],{type:"application/pdf"})},Ti=g.output=g.__private__.output=(Ai=function(I,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",I){case void 0:return Ks();case"save":g.save(Q.filename);break;case"arraybuffer":return lt(Ks());case"blob":return un(Ks());case"bloburi":case"bloburl":if(Ar.URL!==void 0&&typeof Ar.URL.createObjectURL=="function")return Ar.URL&&Ar.URL.createObjectURL(un(Ks()))||void 0;Cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",De=Ks();try{Se=L6(De)}catch{Se=L6(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+Q.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(He=Q.pdfObjectUrl,gt="");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",Gt=Ar.open();return Gt!==null&&Gt.document.write(At),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',Er=Ar.open();if(Er!==null){Er.document.write(Ft);var Kt=this;Er.document.documentElement.querySelector("#pdfViewer").onload=function(){Er.document.title=Q.filename,Er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Kt.output("bloburl"))}}return Er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',an=Ar.open();if(an!==null&&(an.document.write(Kr),an.document.title=Q.filename),an||typeof safari>"u")return an;break;case"datauri":case"dataurl":return Ar.document.location.href=this.output("datauristring",Q);default:return null}},Ai.foo=function(){try{return Ai.apply(this,arguments)}catch(Se){var I=Se.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Ar.console)throw new Error(Q);Ar.console.error(Q,Se),Ar.alert&&alert(Q)}},Ai.foo.bar=Ai,Ai.foo),Xl=function(I){return Array.isArray(Cr)===!0&&Cr.indexOf(I)>-1};switch(n){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=Xl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Et=n}var wn=null;We(),we();var en=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nr[I].objId,pageNumber:I,pageContext:nr[I]}},Oi=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in nr)if(nr[Q].objId===I)break;return en(Q)},Je=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nr[Y].objId,pageNumber:Y,pageContext:nr[Y]}};g.addPage=function(){return pa.apply(this,arguments),this},g.setPage=function(){return Fr.apply(this,arguments),Fe.call(this,ze[Y]),this},g.insertPage=function(I){return this.addPage(),this.movePage(Y,I),this},g.movePage=function(I,Q){var Se,De;if(I>Q){Se=ze[I],De=nr[I];for(var He=I;He>Q;He--)ze[He]=ze[He-1],nr[He]=nr[He-1];ze[Q]=Se,nr[Q]=De,this.setPage(Q)}else if(I<Q){Se=ze[I],De=nr[I];for(var gt=I;gt<Q;gt++)ze[gt]=ze[gt+1],nr[gt]=nr[gt+1];ze[Q]=Se,nr[Q]=De,this.setPage(Q)}return this},g.deletePage=function(){return Ro.apply(this,arguments),this},g.__private__.text=g.text=function(I,Q,Se,De,He){var gt,At,Gt,Ft,Er,Kt,Kr,an,Sr,Wt=(De=De||{}).scope||this;if(typeof I=="number"&&typeof Q=="number"&&(typeof Se=="string"||Array.isArray(Se))){var gi=Se;Se=Q,Q=I,I=gi}if(arguments[3]instanceof Vt==0?(Gt=arguments[4],Ft=arguments[5],mn(Kr=arguments[3])==="object"&&Kr!==null||(typeof Gt=="string"&&(Ft=Gt,Gt=null),typeof Kr=="string"&&(Ft=Kr,Kr=null),typeof Kr=="number"&&(Gt=Kr,Kr=null),De={flags:Kr,angle:Gt,align:Ft})):(B("The transform parameter of text() with a Matrix value"),Sr=He),isNaN(Q)||isNaN(Se)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Wt;var Tr,Dn="",Ui=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Xs,Da=Wt.internal.scaleFactor;function Za(vt){return vt=vt.split("	").join(Array(De.TabLen||9).join(" ")),zr(vt,Kr)}function Cl(vt){for(var _t,yt=vt.concat(),dr=[],wr=yt.length;wr--;)typeof(_t=yt.shift())=="string"?dr.push(_t):Array.isArray(vt)&&(_t.length===1||_t[1]===void 0&&_t[2]===void 0)?dr.push(_t[0]):dr.push([_t[0],_t[1],_t[2]]);return dr}function Tl(vt,_t){var yt;if(typeof vt=="string")yt=_t(vt)[0];else if(Array.isArray(vt)){for(var dr,wr,ki=vt.concat(),na=[],Wi=ki.length;Wi--;)typeof(dr=ki.shift())=="string"?na.push(_t(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(wr=_t(dr[0],dr[1],dr[2]),na.push([wr[0],wr[1],wr[2]]));yt=na}return yt}var Es=!1,Ol=!0;if(typeof I=="string")Es=!0;else if(Array.isArray(I)){var kl=I.concat();At=[];for(var oc,Qn=kl.length;Qn--;)(typeof(oc=kl.shift())!="string"||Array.isArray(oc)&&typeof oc[0]!="string")&&(Ol=!1);Es=Ol}if(Es===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Zs=ot/Wt.internal.scaleFactor,sc=Zs*(Ui-1);switch(De.baseline){case"bottom":Se-=sc;break;case"top":Se+=Zs-sc;break;case"hanging":Se+=Zs-2*sc;break;case"middle":Se+=Zs/2-sc}if((Kt=De.maxWidth||0)>0&&(typeof I=="string"?I=Wt.splitTextToSize(I,Kt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(vt,_t){return vt.concat(Wt.splitTextToSize(_t,Kt))},[]))),gt={text:I,x:Q,y:Se,options:De,mutex:{pdfEscape:zr,activeFontKey:wt,fonts:fe,activeFontSize:ot}},jr.publish("preProcessText",gt),I=gt.text,Gt=(De=gt.options).angle,Sr instanceof Vt==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,De.rotationDirection===0&&(Gt=-Gt),k===O&&(Gt=-Gt);var Js=Math.cos(Gt),yf=Math.sin(Gt);Sr=new Vt(Js,yf,-yf,Js,0,0)}else Gt&&Gt instanceof Vt&&(Sr=Gt);k!==O||Sr||(Sr=Bi),(Er=De.charSpace||bs)!==void 0&&(Dn+=q(K(Er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(an=De.horizontalScale)!==void 0&&(Dn+=q(100*an)+` Tz
`),De.lang;var on=-1,po=De.renderingMode!==void 0?De.renderingMode:De.stroke,$i=Wt.internal.getCurrentPageInfo().pageContext;switch(po){case 0:case!1:case"fill":on=0;break;case 1:case!0:case"stroke":on=1;break;case 2:case"fillThenStroke":on=2;break;case 3:case"invisible":on=3;break;case 4:case"fillAndAddForClipping":on=4;break;case 5:case"strokeAndAddPathForClipping":on=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":on=6;break;case 7:case"addToPathForClipping":on=7}var wf=$i.usedRenderingMode!==void 0?$i.usedRenderingMode:-1;on!==-1?Dn+=on+` Tr
`:wf!==-1&&(Dn+=`0 Tr
`),on!==-1&&($i.usedRenderingMode=on),Ft=De.align||"left";var ei,lc=ot*Ui,cc=Wt.internal.pageSize.getWidth(),bf=fe[wt];Er=De.charSpace||bs,Kt=De.maxWidth||0,Kr=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Qs=[],ra=function(vt){return Wt.getStringUnitWidth(vt,{font:bf,charSpace:Er,fontSize:ot,doKerning:!1})*ot/Da};if(Object.prototype.toString.call(I)==="[object Array]"){var Ja;At=Cl(I),Ft!=="left"&&(ei=At.map(ra));var ma,go=0;if(Ft==="right"){Q-=ei[0],I=[],Qn=At.length;for(var Lr=0;Lr<Qn;Lr++)Lr===0?(ma=_r(Q),Ja=Sn(Se)):(ma=K(go-ei[Lr]),Ja=-lc),I.push([At[Lr],ma,Ja]),go=ei[Lr]}else if(Ft==="center"){Q-=ei[0]/2,I=[],Qn=At.length;for(var Fo=0;Fo<Qn;Fo++)Fo===0?(ma=_r(Q),Ja=Sn(Se)):(ma=K((go-ei[Fo])/2),Ja=-lc),I.push([At[Fo],ma,Ja]),go=ei[Fo]}else if(Ft==="left"){I=[],Qn=At.length;for(var Z=0;Z<Qn;Z++)I.push(At[Z])}else if(Ft==="justify"&&bf.encoding==="Identity-H"){I=[],Qn=At.length,Kt=Kt!==0?Kt:cc;for(var l=0,f=0;f<Qn;f++)if(Ja=f===0?Sn(Se):-lc,ma=f===0?_r(Q):l,f<Qn-1){var d=K((Kt-ei[f])/(At[f].split(" ").length-1)),m=At[f].split(" ");I.push([m[0]+" ",ma,Ja]),l=0;for(var x=1;x<m.length;x++){var w=(ra(m[x-1]+" "+m[x])-ra(m[x]))*Da+d;x==m.length-1?I.push([m[x],w,0]):I.push([m[x]+" ",w,0]),l-=w}}else I.push([At[f],ma,Ja]);I.push(["",l,0])}else{if(Ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Qn=At.length,Kt=Kt!==0?Kt:cc,f=0;f<Qn;f++){Ja=f===0?Sn(Se):-lc,ma=f===0?_r(Q):0;var C=At[f].split(" ").length-1,P=C>0?(Kt-ei[f])/C:0;f<Qn-1?Qs.push(q(K(P))):Qs.push(0),I.push([At[f],ma,Ja])}}}(typeof De.R2L=="boolean"?De.R2L:gr)===!0&&(I=Tl(I,function(vt,_t,yt){return[vt.split("").reverse().join(""),_t,yt]})),gt={text:I,x:Q,y:Se,options:De,mutex:{pdfEscape:zr,activeFontKey:wt,fonts:fe,activeFontSize:ot}},jr.publish("postProcessText",gt),I=gt.text,Tr=gt.mutex.isHex||!1;var R=fe[wt].encoding;R!=="WinAnsiEncoding"&&R!=="StandardEncoding"||(I=Tl(I,function(vt,_t,yt){return[Za(vt),_t,yt]})),At=Cl(I),I=[];for(var V,J,se,Ee=Array.isArray(At[0])?1:0,Le="",je=function(vt,_t,yt){var dr="";return yt instanceof Vt?(yt=typeof De.angle=="number"?_n(yt,new Vt(1,0,0,1,vt,_t)):_n(new Vt(1,0,0,1,vt,_t),yt),k===O&&(yt=_n(new Vt(1,0,0,-1,0,0),yt)),dr=yt.join(" ")+` Tm
`):dr=q(vt)+" "+q(_t)+` Td
`,dr},Ve=0;Ve<At.length;Ve++){switch(Le="",Ee){case 1:se=(Tr?"<":"(")+At[Ve][0]+(Tr?">":")"),V=parseFloat(At[Ve][1]),J=parseFloat(At[Ve][2]);break;case 0:se=(Tr?"<":"(")+At[Ve]+(Tr?">":")"),V=_r(Q),J=Sn(Se)}Qs!==void 0&&Qs[Ve]!==void 0&&(Le=Qs[Ve]+` Tw
`),Ve===0?I.push(Le+je(V,J,Sr)+se):Ee===0?I.push(Le+se):Ee===1&&I.push(Le+je(V,J,Sr)+se)}I=Ee===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var rt=`BT
/`;return rt+=wt+" "+ot+` Tf
`,rt+=q(ot*Ui)+` TL
`,rt+=ec+`
`,rt+=Dn,rt+=I,me(rt+="ET"),v[wt]=!0,Wt};var ve=g.__private__.clip=g.clip=function(I){return me(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ve("evenodd")},g.__private__.discardPath=g.discardPath=function(){return me("n"),this};var qt=g.__private__.isValidStyle=function(I){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Q=!0),Q};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return qt(I)&&(u=I),this};var Jn=g.__private__.getStyle=g.getStyle=function(I){var Q=u;switch(I){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=I}return Q},ga=g.close=function(){return me("h"),this};g.stroke=function(){return me("S"),this},g.fill=function(I){return Al("f",I),this},g.fillEvenOdd=function(I){return Al("f*",I),this},g.fillStroke=function(I){return Al("B",I),this},g.fillStrokeEvenOdd=function(I){return Al("B*",I),this};var Al=function(I,Q){mn(Q)==="object"?hr(Q,I):me(I)},Yl=function(I){I===null||k===O&&I===void 0||(I=Jn(I),me(I))};function La(I,Q,Se,De,He){var gt=new m0(Q||this.boundingBox,Se||this.xStep,De||this.yStep,this.gState,He||this.matrix);gt.stream=this.stream;var At=I+"$$"+this.cloneIndex+++"$$";return Vr(At,gt),gt}var hr=function(I,Q){var Se=Rt[I.key],De=Ze[Se];if(De instanceof jf)me("q"),me(En(Q)),De.gState&&g.setGState(De.gState),me(I.matrix.toString()+" cm"),me("/"+Se+" sh"),me("Q");else if(De instanceof m0){var He=new Vt(1,0,0,-1,0,ac());I.matrix&&(He=He.multiply(I.matrix||Bi),Se=La.call(De,I.key,I.boundingBox,I.xStep,I.yStep,He).id),me("q"),me("/Pattern cs"),me("/"+Se+" scn"),De.gState&&g.setGState(De.gState),me(Q),me("Q")}},En=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ru=g.moveTo=function(I,Q){return me(q(K(I))+" "+q(oe(Q))+" m"),this},Zl=g.lineTo=function(I,Q){return me(q(K(I))+" "+q(oe(Q))+" l"),this},xs=g.curveTo=function(I,Q,Se,De,He,gt){return me([q(K(I)),q(oe(Q)),q(K(Se)),q(oe(De)),q(K(He)),q(oe(gt)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,Q,Se,De,He){if(isNaN(I)||isNaN(Q)||isNaN(Se)||isNaN(De)||!qt(He))throw new Error("Invalid arguments passed to jsPDF.line");return k===T?this.lines([[Se-I,De-Q]],I,Q,[1,1],He||"S"):this.lines([[Se-I,De-Q]],I,Q,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,Q,Se,De,He,gt){var At,Gt,Ft,Er,Kt,Kr,an,Sr,Wt,gi,Tr,Dn;if(typeof I=="number"&&(Dn=Se,Se=Q,Q=I,I=Dn),De=De||[1,1],gt=gt||!1,isNaN(Q)||isNaN(Se)||!Array.isArray(I)||!Array.isArray(De)||!qt(He)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ru(Q,Se),At=De[0],Gt=De[1],Er=I.length,gi=Q,Tr=Se,Ft=0;Ft<Er;Ft++)(Kt=I[Ft]).length===2?(gi=Kt[0]*At+gi,Tr=Kt[1]*Gt+Tr,Zl(gi,Tr)):(Kr=Kt[0]*At+gi,an=Kt[1]*Gt+Tr,Sr=Kt[2]*At+gi,Wt=Kt[3]*Gt+Tr,gi=Kt[4]*At+gi,Tr=Kt[5]*Gt+Tr,xs(Kr,an,Sr,Wt,gi,Tr));return gt&&ga(),Yl(He),this},g.path=function(I){for(var Q=0;Q<I.length;Q++){var Se=I[Q],De=Se.c;switch(Se.op){case"m":ru(De[0],De[1]);break;case"l":Zl(De[0],De[1]);break;case"c":xs.apply(this,De);break;case"h":ga()}}return this},g.__private__.rect=g.rect=function(I,Q,Se,De,He){if(isNaN(I)||isNaN(Q)||isNaN(Se)||isNaN(De)||!qt(He))throw new Error("Invalid arguments passed to jsPDF.rect");return k===T&&(De=-De),me([q(K(I)),q(oe(Q)),q(K(Se)),q(K(De)),"re"].join(" ")),Yl(He),this},g.__private__.triangle=g.triangle=function(I,Q,Se,De,He,gt,At){if(isNaN(I)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(He)||isNaN(gt)||!qt(At))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-I,De-Q],[He-Se,gt-De],[I-He,Q-gt]],I,Q,[1,1],At,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,Q,Se,De,He,gt,At){if(isNaN(I)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(He)||isNaN(gt)||!qt(At))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Se),gt=Math.min(gt,.5*De),this.lines([[Se-2*He,0],[He*Gt,0,He,gt-gt*Gt,He,gt],[0,De-2*gt],[0,gt*Gt,-He*Gt,gt,-He,gt],[2*He-Se,0],[-He*Gt,0,-He,-gt*Gt,-He,-gt],[0,2*gt-De],[0,-gt*Gt,He*Gt,-gt,He,-gt]],I+He,Q,[1,1],At,!0),this},g.__private__.ellipse=g.ellipse=function(I,Q,Se,De,He){if(isNaN(I)||isNaN(Q)||isNaN(Se)||isNaN(De)||!qt(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Se,At=4/3*(Math.SQRT2-1)*De;return ru(I+Se,Q),xs(I+Se,Q-At,I+gt,Q-De,I,Q-De),xs(I-gt,Q-De,I-Se,Q-At,I-Se,Q),xs(I-Se,Q+At,I-gt,Q+De,I,Q+De),xs(I+gt,Q+De,I+Se,Q+At,I+Se,Q),Yl(He),this},g.__private__.circle=g.circle=function(I,Q,Se,De){if(isNaN(I)||isNaN(Q)||isNaN(Se)||!qt(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Q,Se,Se,De)},g.setFont=function(I,Q,Se){return Se&&(Q=F(Q,Se)),wt=Nr(I,Q,{disableWarning:!1}),this};var nu=g.__private__.getFont=g.getFont=function(){return fe[Nr.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,Q,Se={};for(I in Qe)if(Qe.hasOwnProperty(I))for(Q in Se[I]=[],Qe[I])Qe[I].hasOwnProperty(Q)&&Se[I].push(Q);return Se},g.addFont=function(I,Q,Se,De,He){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Se=F(Se,De)),ut.call(this,I,Q,Se,He=He||"Identity-H")};var Xs,vf=e.lineWidth||.200025,tr=g.__private__.getLineWidth=g.getLineWidth=function(){return vf},Jl=g.__private__.setLineWidth=g.setLineWidth=function(I){return vf=I,me(q(K(I))+" w"),this};g.__private__.setLineDash=ir.API.setLineDash=ir.API.setLineDashPattern=function(I,Q){if(I=I||[],Q=Q||0,isNaN(Q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(Se){return q(K(Se))}).join(" "),Q=q(K(Q)),me("["+I+"] "+Q+" d"),this};var ys=g.__private__.getLineHeight=g.getLineHeight=function(){return ot*Xs};g.__private__.getLineHeight=g.getLineHeight=function(){return ot*Xs};var xr=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Xs=I),this},Dd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Xs};xr(e.lineHeight);var _r=g.__private__.getHorizontalCoordinate=function(I){return K(I)},Sn=g.__private__.getVerticalCoordinate=function(I){return k===O?I:nr[Y].mediaBox.topRightY-nr[Y].mediaBox.bottomLeftY-K(I)},jd=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return q(_r(I))},xf=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return q(Sn(I))},Ql=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ye(Ql)},g.__private__.setStrokeColor=g.setDrawColor=function(I,Q,Se,De){return Ql=Ae({ch1:I,ch2:Q,ch3:Se,ch4:De,pdfColorType:"draw",precision:2}),me(Ql),this};var Do=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ye(Do)},g.__private__.setFillColor=g.setFillColor=function(I,Q,Se,De){return Do=Ae({ch1:I,ch2:Q,ch3:Se,ch4:De,pdfColorType:"fill",precision:2}),me(Do),this};var ec=e.textColor||"0 g",ws=g.__private__.getTextColor=g.getTextColor=function(){return ye(ec)};g.__private__.setTextColor=g.setTextColor=function(I,Q,Se,De){return ec=Ae({ch1:I,ch2:Q,ch3:Se,ch4:De,pdfColorType:"text",precision:3}),this};var bs=e.charSpace,tc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(bs||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bs=I,this};var iu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var Q=g.CapJoinStyles[I];if(Q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iu=Q,me(Q+" J"),this};var Ys=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var Q=g.CapJoinStyles[I];if(Q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ys=Q,me(Q+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(q(K(I))+" M"),this},g.GState=U2,g.setGState=function(I){(I=typeof I=="string"?$t[fr[I]]:jo(null,I)).equals(er)||(me("/"+I.id+" gs"),er=I)};var jo=function(I,Q){if(!I||!fr[I]){var Se=!1;for(var De in $t)if($t.hasOwnProperty(De)&&$t[De].equals(Q)){Se=!0;break}if(Se)Q=$t[De];else{var He="GS"+(Object.keys($t).length+1).toString(10);$t[He]=Q,Q.id=He}return I&&(fr[I]=Q.id),jr.publish("addGState",Q),Q}};g.addGState=function(I,Q){return jo(I,Q),this},g.saveGraphicsState=function(){return me("q"),ft.push({key:wt,size:ot,color:ec}),this},g.restoreGraphicsState=function(){me("Q");var I=ft.pop();return wt=I.key,ot=I.size,ec=I.color,er=null,this},g.setCurrentTransformationMatrix=function(I){return me(I.toString()+" cm"),this},g.comment=function(I){return me("#"+I),this};var oi=function(I,Q){var Se=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(gt){isNaN(gt)||(Se=parseFloat(gt))}});var De=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(gt){isNaN(gt)||(De=parseFloat(gt))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(gt){He=gt.toString()}}),this},au=function(I,Q,Se,De){oi.call(this,I,Q),this.type="rect";var He=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(At){isNaN(At)||(He=parseFloat(At))}});var gt=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(At){isNaN(At)||(gt=parseFloat(At))}}),this},rc=function(){this.page=mr,this.currentPage=Y,this.pages=ze.slice(0),this.pagesContext=nr.slice(0),this.x=zt,this.y=Ne,this.matrix=xe,this.width=Rh(Y),this.height=Hr(Y),this.outputDestination=st,this.id="",this.objectNumber=-1};rc.prototype.restore=function(){mr=this.page,Y=this.currentPage,nr=this.pagesContext,ze=this.pages,zt=this.x,Ne=this.y,xe=this.matrix,Lh(Y,this.width),_s(Y,this.height),st=this.outputDestination};var ou=function(I,Q,Se,De,He){kn.push(new rc),mr=Y=0,ze=[],zt=I,Ne=Q,xe=He,Or([Se,De])};for(var nc in g.beginFormObject=function(I,Q,Se,De,He){return ou(I,Q,Se,De,He),this},g.endFormObject=function(I){return function(Q){if(vr[Q])kn.pop().restore();else{var Se=new rc,De="Xo"+(Object.keys($r).length+1).toString(10);Se.id=De,vr[Q]=De,$r[De]=Se,jr.publish("addFormObject",Se),kn.pop().restore()}}(I),this},g.doFormObject=function(I,Q){var Se=$r[vr[I]];return me("q"),me(Q.toString()+" cm"),me("/"+Se.id+" Do"),me("Q"),this},g.getFormObject=function(I){var Q=$r[vr[I]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},g.save=function(I,Q){return I=I||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Nf(un(Ks()),I),typeof Nf.unload=="function"&&Ar.setTimeout&&setTimeout(Nf.unload,911),this):new Promise(function(Se,De){try{var He=Nf(un(Ks()),I);typeof Nf.unload=="function"&&Ar.setTimeout&&setTimeout(Nf.unload,911),Se(He)}catch(gt){De(gt.message)}})},ir.API)ir.API.hasOwnProperty(nc)&&(nc==="events"&&ir.API.events.length?function(I,Q){var Se,De,He;for(He=Q.length-1;He!==-1;He--)Se=Q[He][0],De=Q[He][1],I.subscribe.apply(I,[Se].concat(typeof De=="function"?[De]:De))}(jr,ir.API.events):g[nc]=ir.API[nc]);function Rh(I){return nr[I].mediaBox.topRightX-nr[I].mediaBox.bottomLeftX}function Lh(I,Q){nr[I].mediaBox.topRightX=Q+nr[I].mediaBox.bottomLeftX}function Hr(I){return nr[I].mediaBox.topRightY-nr[I].mediaBox.bottomLeftY}function _s(I,Q){nr[I].mediaBox.topRightY=Q+nr[I].mediaBox.bottomLeftY}var ic=g.getPageWidth=function(I){return Rh(I=I||Y)/Et},Mo=g.setPageWidth=function(I,Q){Lh(I,Q*Et)},ac=g.getPageHeight=function(I){return Hr(I=I||Y)/Et},it=g.setPageHeight=function(I,Q){_s(I,Q*Et)};return g.internal={pdfEscape:zr,getStyle:Jn,getFont:nu,getFontSize:at,getCharSpace:tc,getTextColor:ws,getLineHeight:ys,getLineHeightFactor:Dd,getLineWidth:tr,write:Dt,getHorizontalCoordinate:_r,getVerticalCoordinate:Sn,getCoordinateString:jd,getVerticalCoordinateString:xf,collections:{},newObject:Mr,newAdditionalObject:ue,newObjectDeferred:Gr,newObjectDeferredBegin:ie,getFilters:Ke,putStream:ct,events:jr,scaleFactor:Et,pageSize:{getWidth:function(){return ic(Y)},setWidth:function(I){Mo(Y,I)},getHeight:function(){return ac(Y)},setHeight:function(I){it(Y,I)}},encryptionOptions:h,encryption:wn,getEncryptor:function(I){return h!==null?wn.encryptor(I,0):function(Q){return Q}},output:Ti,getNumberOfPages:kr,pages:ze,out:me,f2:W,f3:U,getPageInfo:en,getPageInfoByObjId:Oi,getCurrentPageInfo:Je,getPDFVersion:b,Point:oi,Rectangle:au,Matrix:Vt,hasHotfix:Xl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ic(Y)},set:function(I){Mo(Y,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ac(Y)},set:function(I){it(Y,I)},enumerable:!0,configurable:!0}),(function(I){for(var Q=0,Se=Ot.length;Q<Se;Q++){var De=ut.call(this,I[Q][0],I[Q][1],I[Q][2],Ot[Q][3],!0);p===!1&&(v[De]=!0);var He=I[Q][0].split("-");yr({id:De,fontName:He[0],fontStyle:He[1]||""})}jr.publish("addFonts",{fonts:fe,dictionary:Qe})}).call(g,Ot),wt="F1",pa(i,r),jr.publish("initialized"),g}t0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},t0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},t0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},t0.prototype.processOwnerPassword=function(e,t){return J5(Z5(t).substr(0,5),e)},t0.prototype.encryptor=function(e,t){var r=Z5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return J5(r,n)}},U2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||mn(e)!==mn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ir.API={events:[]},ir.version="3.0.3";var ci=ir.API,m4=1,bh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(e){return e.toFixed(2)},mu=function(e){return e.toFixed(5)};ci.__acroform__={};var Po=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},F6=function(e){return e*m4},Il=function(e){var t=new GR,r=rr.internal.getHeight(e)||0,n=rr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ir(n)),Number(Ir(r))],t},ZX=ci.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},JX=ci.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},QX=ci.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wi=ci.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QX(e,t-1)},bi=ci.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZX(e,t-1)},_i=ci.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JX(e,t-1)},eY=ci.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+s)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},tY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Q5(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ir(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Il(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Q5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var a=r,o=rr.internal.getHeight(e)||0;o=o<0?-o:o;var s=rr.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(W,U,K){if(W+1<i.length){var oe=U+" "+i[W+1][0];return lm(oe,e,K).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,h,p=lm("3",e,a).height,v=e.multiline?o-a:(o-p)/2,g=v+=2,_=0,b=0,E=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+lm(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var S="",T=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var k=!1;if(i[O].length!==1&&E!==i[O].length-1){if((p+2)*(T+2)+2>o)continue e;S+=i[O][E],k=!0,b=O,O--}else{S=(S+=i[O][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var D=parseInt(O),z=c(D,S,a),F=O>=i.length-1;if(z&&!F){S+=" ",E=0;continue}if(z||F){if(F)b=D;else if(e.multiline&&(p+2)*(T+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(T+2)+2>o)continue e;b=D}}for(var q="",B=_;B<=b;B++){var ee=i[B];if(e.multiline){if(B===b){q+=ee[E]+" ",E=(E+1)%ee.length;continue}if(B===_){q+=ee[ee.length-1]+" ";continue}}q+=ee[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,h=lm(q,e,a).width,e.textAlign){case"right":u=s-h-2;break;case"center":u=(s-h)/2;break;default:u=2}t+=Ir(u)+" "+Ir(g)+` Td
`,t+="("+bh(q)+`) Tj
`,t+=-Ir(u)+` 0 Td
`,g=-(a+2),h=0,_=k?b:b+1,T++,S=""}break}return n.text=t,n.fontSize=a,n},lm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},rY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nY=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iY=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_l.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(rY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");m4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new KR,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&nY(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],u=s.Rect;if(s.Rect&&(s.Rect=eY(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=rr.createDefaultAppearanceStream(s),mn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=tY(s);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var p="";for(var v in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(v)){var g=s.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var _=g[o];typeof _=="function"&&(_=_.call(i,s)),p+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(i,s)),p+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:s.objId}),i.internal.out("endobj")}a&&function(b,E){for(var S in b)if(b.hasOwnProperty(S)){var T=S,O=b[S];E.internal.newObjectDeferredBegin(O.objId,!0),mn(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete b[T]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qR=ci.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),mn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+bh(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zw=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+bh(n(e))+")"},Fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fl.prototype.toString=function(){return this.objId+" 0 R"},Fl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:qR(i,this.objId,this.scope)}):i instanceof Fl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var GR=function(){Fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Po(GR,Fl);var KR=function(){Fl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+bh(r(e))+")"}},set:function(r){e=r}})};Po(KR,Fl);var _l=function e(){Fl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wi(t,3)},set:function(S){S?this.F=bi(t,3):this.F=_i(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof $2)return;a="FieldObject"+e.FieldNum++}var S=function(T){return T};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+bh(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/m4:u},set:function(S){u=S}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof $2||this instanceof Kf))return zw(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof oa==0?zw(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof oa==0?S.substr(0,1)==="("?Hh(S.substr(1,S.length-2)):Hh(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa==1?Hh(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof oa==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof oa==0?zw(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof oa==0?S.substr(0,1)==="("?Hh(S.substr(1,S.length-2)):Hh(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa==1?Hh(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof oa==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(S){S=!!S,b=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(S){_=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,1)},set:function(S){S?this.Ff=bi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,2)},set:function(S){S?this.Ff=bi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,3)},set:function(S){S?this.Ff=bi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Po(_l,Fl);var T0=function(){_l.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qR(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var c,u=[];c=o.exec(a);)u.push(c[s]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,18)},set:function(r){r?this.Ff=bi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=bi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,20)},set:function(r){r?(this.Ff=bi(this.Ff,20),t.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,22)},set:function(r){r?this.Ff=bi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(r){r?this.Ff=bi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,27)},set:function(r){r?this.Ff=bi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};Po(T0,_l);var O0=function(){T0.call(this),this.fontName="helvetica",this.combo=!1};Po(O0,T0);var k0=function(){O0.call(this),this.combo=!0};Po(k0,O0);var e2=function(){k0.call(this),this.edit=!0};Po(e2,k0);var oa=function(){_l.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,15)},set:function(r){r?this.Ff=bi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,16)},set:function(r){r?this.Ff=bi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,17)},set:function(r){r?this.Ff=bi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(r){r?this.Ff=bi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+bh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){mn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Po(oa,_l);var t2=function(){oa.call(this),this.pushButton=!0};Po(t2,oa);var N0=function(){oa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Po(N0,oa);var $2=function(){var e,t;_l.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+bh(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){mn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Po($2,_l),N0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},N0.prototype.createOption=function(e){var t=new $2;return t.Parent=this,t.optionName=e,this.Kids.push(t),aY.call(this.scope,t),t};var r2=function(){oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};Po(r2,oa);var Kf=function(){_l.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,13)},set:function(t){t?this.Ff=bi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,21)},set:function(t){t?this.Ff=bi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(t){t?this.Ff=bi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,24)},set:function(t){t?this.Ff=bi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,25)},set:function(t){t?this.Ff=bi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(t){t?this.Ff=bi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Po(Kf,_l);var n2=function(){Kf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,14)},set:function(e){e?this.Ff=bi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};Po(n2,Kf);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Q5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ir(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=rr.internal.getHeight(e),o=rr.internal.getWidth(e),s=Q5(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ir(o)+" "+Ir(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ir(o-1)+" "+Ir(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ir(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Circle.YesNormal,t.D[e]=rr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=rr.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+mu(rr.internal.getWidth(e)/2)+" "+mu(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*rr.internal.Bezier_C).toFixed(5)),o=Number((n*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mu(rr.internal.getWidth(e)/2)+" "+mu(rr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+mu(rr.internal.getWidth(e)/2)+" "+mu(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mu(rr.internal.getWidth(e)/2)+" "+mu(rr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Cross.YesNormal,t.D[e]=rr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=rr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ir(rr.internal.getWidth(e)-2)+" "+Ir(rr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ir(n.x1.x)+" "+Ir(n.x1.y)+" m"),r.push(Ir(n.x2.x)+" "+Ir(n.x2.y)+" l"),r.push(Ir(n.x4.x)+" "+Ir(n.x4.y)+" m"),r.push(Ir(n.x3.x)+" "+Ir(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=rr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ir(rr.internal.getWidth(e)-2)+" "+Ir(rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ir(r.x1.x)+" "+Ir(r.x1.y)+" m"),n.push(Ir(r.x2.x)+" "+Ir(r.x2.y)+" l"),n.push(Ir(r.x4.x)+" "+Ir(r.x4.y)+" m"),n.push(Ir(r.x3.x)+" "+Ir(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rr.internal.getWidth(e),r=rr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rr.internal.getWidth=function(e){var t=0;return mn(e)==="object"&&(t=F6(e.Rect[2])),t},rr.internal.getHeight=function(e){var t=0;return mn(e)==="object"&&(t=F6(e.Rect[3])),t};var aY=ci.addField=function(e){if(iY(this,e),!(e instanceof _l))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ci.AcroFormChoiceField=T0,ci.AcroFormListBox=O0,ci.AcroFormComboBox=k0,ci.AcroFormEditBox=e2,ci.AcroFormButton=oa,ci.AcroFormPushButton=t2,ci.AcroFormRadioButton=N0,ci.AcroFormCheckBox=r2,ci.AcroFormTextField=Kf,ci.AcroFormPasswordField=n2,ci.AcroFormAppearance=rr,ci.AcroForm={ChoiceField:T0,ListBox:O0,ComboBox:k0,EditBox:e2,Button:oa,PushButton:t2,RadioButton:N0,CheckBox:r2,TextField:Kf,PasswordField:n2,Appearance:rr},ir.AcroForm={ChoiceField:T0,ListBox:O0,ComboBox:k0,EditBox:e2,Button:oa,PushButton:t2,RadioButton:N0,CheckBox:r2,TextField:Kf,PasswordField:n2,Appearance:rr};ir.AcroForm;function XR(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(W,U){var K,oe,ae,Re,ke,we=r;if((U=U||r)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(z(W))for(ke in n)for(ae=n[ke],K=0;K<ae.length;K+=1){for(Re=!0,oe=0;oe<ae[K].length;oe+=1)if(ae[K][oe]!==void 0&&ae[K][oe]!==W[oe]){Re=!1;break}if(Re===!0){we=ke;break}}else for(ke in n)for(ae=n[ke],K=0;K<ae.length;K+=1){for(Re=!0,oe=0;oe<ae[K].length;oe+=1)if(ae[K][oe]!==void 0&&ae[K][oe]!==W.charCodeAt(oe)){Re=!1;break}if(Re===!0){we=ke;break}}return we===r&&U!==r&&(we=U),we},a=function W(U){for(var K=this.internal.write,oe=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var Re=[];if(Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Image"}),Re.push({key:"Width",value:U.width}),Re.push({key:"Height",value:U.height}),U.colorSpace===S.INDEXED?Re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(Re.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===S.DEVICE_CMYK&&Re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Re.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&Re.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var ke="",we=0,_e=U.transparency.length;we<_e;we++)ke+=U.transparency[we]+" "+U.transparency[we]+" ";Re.push({key:"Mask",value:"["+ke+"]"})}U.sMask!==void 0&&Re.push({key:"SMask",value:U.objectId+1+" 0 R"});var $e=U.filter!==void 0?["/"+U.filter]:void 0;if(oe({data:U.data,additionalKeyValues:Re,alreadyAppliedFilters:$e,objectId:U.objectId}),K("endobj"),"sMask"in U&&U.sMask!==void 0){var We,j=(We=U.sMaskBitsPerComponent)!==null&&We!==void 0?We:U.bitsPerComponent,Y={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:U.sMask};"filter"in U&&(Y.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(U.width),Y.filter=U.filter),W.call(this,Y)}if(U.colorSpace===S.INDEXED){var H=this.internal.newObject();oe({data:q(new Uint8Array(U.palette)),objectId:H}),K("endobj")}},o=function(){var W=this.internal.collections[t+"images"];for(var U in W)a.call(this,W[U])},s=function(){var W,U=this.internal.collections[t+"images"],K=this.internal.write;for(var oe in U)K("/I"+(W=U[oe]).index,W.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var W=this.internal.collections[t+"images"];return c.call(this),W},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(W){return typeof e["process"+W.toUpperCase()]=="function"},v=function(W){return mn(W)==="object"&&W.nodeType===1},g=function(W,U){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var K=""+W.getAttribute("src");if(K.indexOf("data:image/")===0)return Qm(unescape(K).split("base64,").pop());var oe=e.loadFile(K,!0);if(oe!==void 0)return oe}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var ae;switch(U){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Qm(W.toDataURL(ae,1).split("base64,").pop())}},_=function(W){var U=this.internal.collections[t+"images"];if(U){for(var K in U)if(W===U[K].alias)return U[K]}},b=function(W,U,K){return W||U||(W=-96,U=-96),W<0&&(W=-1*K.width*72/W/this.internal.scaleFactor),U<0&&(U=-1*K.height*72/U/this.internal.scaleFactor),W===0&&(W=U*K.width/K.height),U===0&&(U=W*K.height/K.width),[W,U]},E=function(W,U,K,oe,ae,Re){var ke=b.call(this,K,oe,ae),we=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,$e=u.call(this);if(K=ke[0],oe=ke[1],$e[ae.index]=ae,Re){Re*=Math.PI/180;var We=Math.cos(Re),j=Math.sin(Re),Y=function(X){return X.toFixed(4)},H=[Y(We),Y(j),Y(-1*j),Y(We),0,0,"cm"]}this.internal.write("q"),Re?(this.internal.write([1,"0","0",1,we(W),_e(U+oe),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([we(K),"0","0",we(oe),"0","0","cm"].join(" "))):this.internal.write([we(K),"0","0",we(oe),we(W),_e(U+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=e.__addimage__.sHashCode=function(W){var U,K,oe=0;if(typeof W=="string")for(K=W.length,U=0;U<K;U++)oe=(oe<<5)-oe+W.charCodeAt(U),oe|=0;else if(z(W))for(K=W.byteLength/2,U=0;U<K;U++)oe=(oe<<5)-oe+W[U],oe|=0;return oe},k=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var U=!0;return W.length===0&&(U=!1),W.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(U=!1),U},D=e.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var U=W.indexOf(",");return U<0?null:W.substring(0,U).trim().endsWith("base64")?W.substring(U+1):null};e.__addimage__.isArrayBuffer=function(W){return W instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(W){return W instanceof Int8Array||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(W){for(var U=W.length,K=new Uint8Array(U),oe=0;oe<U;oe++)K[oe]=W.charCodeAt(oe);return K},q=e.__addimage__.arrayBufferToBinaryString=function(W){for(var U="",K=z(W)?W:new Uint8Array(W),oe=0;oe<K.length;oe+=8192)U+=String.fromCharCode.apply(null,K.subarray(oe,oe+8192));return U};e.addImage=function(){var W,U,K,oe,ae,Re,ke,we,_e;if(typeof arguments[1]=="number"?(U=r,K=arguments[1],oe=arguments[2],ae=arguments[3],Re=arguments[4],ke=arguments[5],we=arguments[6],_e=arguments[7]):(U=arguments[1],K=arguments[2],oe=arguments[3],ae=arguments[4],Re=arguments[5],ke=arguments[6],we=arguments[7],_e=arguments[8]),mn(W=arguments[0])==="object"&&!v(W)&&"imageData"in W){var $e=W;W=$e.imageData,U=$e.format||U||r,K=$e.x||K||0,oe=$e.y||oe||0,ae=$e.w||$e.width||ae,Re=$e.h||$e.height||Re,ke=$e.alias||ke,we=$e.compression||we,_e=$e.rotation||$e.angle||_e}var We=this.internal.getFilters();if(we===void 0&&We.indexOf("FlateEncode")!==-1&&(we="SLOW"),isNaN(K)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var j=B.call(this,W,U,ke,we);return E.call(this,K,oe,ae,Re,j,_e),this};var B=function(W,U,K,oe){var ae,Re,ke;if(typeof W=="string"&&i(W)===r){W=unescape(W);var we=ee(W,!1);(we!==""||(we=e.loadFile(W,!0))!==void 0)&&(W=we)}if(v(W)&&(W=g(W,U)),U=i(W,U),!p(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ke=K)==null||ke.length===0)&&(K=function(_e){return typeof _e=="string"||z(_e)?O(_e):z(_e.data)?O(_e.data):null}(W)),(ae=_.call(this,K))||(W instanceof Uint8Array||U==="RGBA"||(Re=W,W=F(W)),ae=this["process"+U.toUpperCase()](W,h.call(this),K,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in e.image_compression?_e:T.NONE}(oe),Re)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},ee=e.__addimage__.convertBase64ToBinaryString=function(W,U){U=typeof U!="boolean"||U;var K,oe="";if(typeof W=="string"){var ae;K=(ae=D(W))!==null&&ae!==void 0?ae:W;try{oe=Qm(K)}catch(Re){if(U)throw k(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};e.getImageProperties=function(W){var U,K,oe="";if(v(W)&&(W=g(W)),typeof W=="string"&&i(W)===r&&((oe=ee(W,!1))===""&&(oe=e.loadFile(W)||""),W=oe),K=i(W),!p(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(W instanceof Uint8Array||(W=F(W)),!(U=this["process"+K.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=K,U}})(ir.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ir.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){n=u[v];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(b.objId),T=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+g(S(T))+") >>",b.content=a;var O=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+O,n.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(_(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var z=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,s,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var h=this.splitTextToSize(r,s).length;o=Math.ceil(u*h)}else s=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,s,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ir.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(b){var E=0,S=r,T="",O=0;for(E=0;E<b.length;E+=1)S[b.charCodeAt(E)]!==void 0?(O++,typeof(S=S[b.charCodeAt(E)])=="number"&&(T+=String.fromCharCode(S),S=r,O=0),E===b.length-1&&(S=r,T+=b.charAt(E-(O-1)),E-=O-1,O=0)):(S=r,T+=b.charAt(E-O),E-=O,O=0);return T};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(b,E,S){return o(b)?a(b)===!1?-1:!u(b)||!o(E)&&!o(S)||!o(S)&&s(E)||s(b)&&!o(E)||s(b)&&c(E)||s(b)&&s(E)?0:h(b)&&o(E)&&!s(E)&&o(S)&&u(S)?3:s(b)||!o(S)?1:2:-1},g=function(b){var E=0,S=0,T=0,O="",k="",D="",z=(b=b||"").split("\\s+"),F=[];for(E=0;E<z.length;E+=1){for(F.push(""),S=0;S<z[E].length;S+=1)O=z[E][S],k=z[E][S-1],D=z[E][S+1],o(O)?(T=v(O,k,D),F[E]+=T!==-1?String.fromCharCode(t[O.charCodeAt(0)][T]):O):F[E]+=O;F[E]=p(F[E])}return F.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var T=0;for(S=[],T=0;T<E.length;T+=1)Array.isArray(E[T])?S.push([g(E[T][0]),E[T][1],E[T][2]]):S.push([g(E[T])]);b=S}else b=g(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",_])}(ir.API),ir.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ir.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(b){_=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,g=0,_=0,b=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=u.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(O,k){return O.concat(E.splitTextToSize(k,S))},[])):c=Array.isArray(c)?c:[c];for(var T=0;T<c.length;T++)g<(b=this.getStringUnitWidth(c[T],{font:p})*h)&&(g=b);return g!==0&&(_=c.length),{w:g/=v,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,p,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,_,b,E,S=[],T=[],O=[],k={},D={},z=[],F=[],q=(v=v||{}).autoSize||!1,B=v.printHeaders!==!1,ee=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,W=v.margins||Object.assign({width:this.getPageWidth()},t),U=typeof v.padding=="number"?v.padding:3,K=v.headerBackgroundColor||"#c8c8c8",oe=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=oe,this.setFontSize(ee),p==null)T=S=Object.keys(h[0]),O=S.map(function(){return"left"});else if(Array.isArray(p)&&mn(p[0])==="object")for(S=p.map(function($e){return $e.name}),T=p.map(function($e){return $e.prompt||$e.name||""}),O=p.map(function($e){return $e.align||"left"}),g=0;g<p.length;g+=1)D[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(T=S=p,O=S.map(function(){return"left"}));if(q||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<S.length;g+=1){for(k[E=S[g]]=h.map(function($e){return $e[E]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(T[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=k[E],this.setFont(void 0,"normal"),b=0;b<_.length;b+=1)z.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[E]=Math.max.apply(null,z)+U+U,z=[]}if(B){var ae={};for(g=0;g<S.length;g+=1)ae[S[g]]={},ae[S[g]].text=T[g],ae[S[g]].align=O[g];var Re=s.call(this,ae,D);F=S.map(function($e){return new a(c,u,D[$e],Re,ae[$e].text,void 0,ae[$e].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ke=p.reduce(function($e,We){return $e[We.name]=We.align,$e},{});for(g=0;g<h.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:h[g]},this);var we=s.call(this,h[g],D);for(b=0;b<S.length;b+=1){var _e=h[g][S[b]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:b,data:_e},this),o.call(this,new a(c,u,D[S[b]],we,_e,g+2,ke[S[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var s=function(c,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var _=c[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/v+h+h},this).reduce(function(g,_){return Math.max(g,_)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(ir.API);var YR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e_=XR(ZR),JR=[100,200,300,400,500,600,700,800,900],oY=XR(JR);function Hw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return YR[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof e_[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function B6(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var sY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function W6(e){return e.trimLeft()}function lY(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cY(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var cm,z6,H6,Vh,um,V6,q6,G6,Vw=["times"];function K6(e,t,r,n,i){var a=4,o=Y6;switch(i){case ir.API.image_compression.FAST:a=1,o=X6;break;case ir.API.image_compression.MEDIUM:a=6,o=Z6;break;case ir.API.image_compression.SLOW:a=9,o=J6}e=function(c,u,h,p){for(var v,g=c.length/u,_=new Uint8Array(c.length+g),b=[uY,X6,Y6,Z6,J6],E=0;E<g;E+=1){var S=E*u,T=c.subarray(S,S+u);if(p)_.set(p(T,h,v),S+E);else{for(var O=b.length,k=[],D=0;D<O;D+=1)k[D]=b[D](T,h,v);var z=hY(k.concat());_.set(k[z],S+E)}v=T}return _}(e,t,Math.ceil(r*n/8),o);var s=G5(e,{level:a});return ir.API.__addimage__.arrayBufferToBinaryString(s)}function uY(e){var t=Array.apply([],e);return t.unshift(0),t}function X6(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function Y6(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function Z6(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,s=r&&r[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function J6(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=fY(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function fY(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function hY(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function qw(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return QR(e,i)>>a&o}function Q6(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,c=(t&s)<<o;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var v=p>>8&255;u.setUint8(h,v)}})(e,a,QR(e,a)&~(s<<o)&65535|c)}function QR(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function dY(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,c=null;a&&(s=t,c=o,t+=3*o);var u=!0,h=[],p=0,v=null,g=0,_=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8,v=e[t++],1&b||(v=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,O=e[t++]|e[t++]<<8,k=e[t++],D=k>>6&1,z=1<<1+(7&k),F=s,q=c,B=!1;k>>7&&(B=!0,F=t,q=z,t+=3*z);var ee=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}h.push({x:E,y:S,width:T,height:O,has_local_palette:B,palette_offset:F,palette_size:q,data_offset:ee,data_length:t-ee,transparent_index:v,interlaced:!!D,delay:p,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,K){var oe=this.frameInfo(U),ae=oe.width*oe.height,Re=new Uint8Array(ae);eT(e,oe.data_offset,Re,ae);var ke=oe.palette_offset,we=oe.transparent_index;we===null&&(we=256);var _e=oe.width,$e=r-_e,We=_e,j=4*(oe.y*r+oe.x),Y=4*((oe.y+oe.height)*r+oe.x),H=j,X=4*$e;oe.interlaced===!0&&(X+=4*r*7);for(var ne=8,Oe=0,Ie=Re.length;Oe<Ie;++Oe){var be=Re[Oe];if(We===0&&(We=_e,(H+=X)>=Y&&(X=4*$e+4*r*(ne-1),H=j+(_e+$e)*(ne<<1),ne>>=1)),be===we)H+=4;else{var Pe=e[ke+3*be],ze=e[ke+3*be+1],Me=e[ke+3*be+2];K[H++]=Me,K[H++]=ze,K[H++]=Pe,K[H++]=255}--We}},this.decodeAndBlitFrameRGBA=function(U,K){var oe=this.frameInfo(U),ae=oe.width*oe.height,Re=new Uint8Array(ae);eT(e,oe.data_offset,Re,ae);var ke=oe.palette_offset,we=oe.transparent_index;we===null&&(we=256);var _e=oe.width,$e=r-_e,We=_e,j=4*(oe.y*r+oe.x),Y=4*((oe.y+oe.height)*r+oe.x),H=j,X=4*$e;oe.interlaced===!0&&(X+=4*r*7);for(var ne=8,Oe=0,Ie=Re.length;Oe<Ie;++Oe){var be=Re[Oe];if(We===0&&(We=_e,(H+=X)>=Y&&(X=4*$e+4*r*(ne-1),H=j+(_e+$e)*(ne<<1),ne>>=1)),be===we)H+=4;else{var Pe=e[ke+3*be],ze=e[ke+3*be+1],Me=e[ke+3*be+2];K[H++]=Pe,K[H++]=ze,K[H++]=Me,K[H++]=255}--We}}}function eT(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,c=i+1,u=(1<<c)-1,h=0,p=0,v=0,g=e[t++],_=new Int32Array(4096),b=null;;){for(;h<16&&g!==0;)p|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<c)break;var E=p&u;if(p>>=c,h-=c,E!==a){if(E===o)break;for(var S=E<s?E:b,T=0,O=S;O>a;)O=_[O]>>8,++T;var k=O;if(v+T+(S!==E?1:0)>n)return void Cn.log("Warning, gif stream longer than expected.");r[v++]=k;var D=v+=T;for(S!==E&&(r[v++]=k),O=S;T--;)O=_[O],r[--D]=255&O,O>>=8;b!==null&&s<4096&&(_[s++]=b<<8|k,s>=u+1&&c<12&&(++c,u=u<<1|1)),b=E}else s=o+1,u=(1<<(c=i+1))-1,b=null}return v!==n&&Cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gw(e){var t,r,n,i,a,o=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),v=new Array(65535),g=new Array(64),_=new Array(64),b=[],E=0,S=7,T=new Array(64),O=new Array(64),k=new Array(64),D=new Array(256),z=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Re(j,Y){for(var H=0,X=0,ne=new Array,Oe=1;Oe<=16;Oe++){for(var Ie=1;Ie<=j[Oe];Ie++)ne[Y[X]]=[],ne[Y[X]][0]=H,ne[Y[X]][1]=Oe,X++,H++;H*=2}return ne}function ke(j){for(var Y=j[0],H=j[1]-1;H>=0;)Y&1<<H&&(E|=1<<S),H--,--S<0&&(E==255?(we(255),we(0)):we(E),S=7,E=0)}function we(j){b.push(j)}function _e(j){we(j>>8&255),we(255&j)}function $e(j,Y,H,X,ne){for(var Oe,Ie=ne[0],be=ne[240],Pe=function(ot,Ut){var at,gr,Ht,cr,lr,Jt,te,xt,wt,Et,zt=0;for(wt=0;wt<8;++wt){at=ot[zt],gr=ot[zt+1],Ht=ot[zt+2],cr=ot[zt+3],lr=ot[zt+4],Jt=ot[zt+5],te=ot[zt+6];var Ne=at+(xt=ot[zt+7]),xe=at-xt,fe=gr+te,Qe=gr-te,ft=Ht+Jt,Ze=Ht-Jt,Rt=cr+lr,$t=cr-lr,fr=Ne+Rt,er=Ne-Rt,mr=fe+ft,nr=fe-ft;ot[zt]=fr+mr,ot[zt+4]=fr-mr;var jr=.707106781*(nr+er);ot[zt+2]=er+jr,ot[zt+6]=er-jr;var Cr=.382683433*((fr=$t+Ze)-(nr=Qe+xe)),$r=.5411961*fr+Cr,vr=1.306562965*nr+Cr,kn=.707106781*(mr=Ze+Qe),Vt=xe+kn,_n=xe-kn;ot[zt+5]=_n+$r,ot[zt+3]=_n-$r,ot[zt+1]=Vt+vr,ot[zt+7]=Vt-vr,zt+=8}for(zt=0,wt=0;wt<8;++wt){at=ot[zt],gr=ot[zt+8],Ht=ot[zt+16],cr=ot[zt+24],lr=ot[zt+32],Jt=ot[zt+40],te=ot[zt+48];var Bi=at+(xt=ot[zt+56]),Vr=at-xt,Ai=gr+te,Mr=gr-te,Gr=Ht+Jt,ie=Ht-Jt,ue=cr+lr,de=cr-lr,ge=Bi+ue,ye=Bi-ue,Ae=Ai+Gr,Ke=Ai-Gr;ot[zt]=ge+Ae,ot[zt+32]=ge-Ae;var ct=.707106781*(Ke+ye);ot[zt+16]=ye+ct,ot[zt+48]=ye-ct;var Ge=.382683433*((ge=de+ie)-(Ke=Mr+Vr)),Ye=.5411961*ge+Ge,qe=1.306562965*Ke+Ge,pt=.707106781*(Ae=ie+Mr),St=Vr+pt,kt=Vr-pt;ot[zt+40]=kt+Ye,ot[zt+24]=kt-Ye,ot[zt+8]=St+qe,ot[zt+56]=St-qe,zt++}for(wt=0;wt<64;++wt)Et=ot[wt]*Ut[wt],g[wt]=Et>0?Et+.5|0:Et-.5|0;return g}(j,Y),ze=0;ze<64;++ze)_[F[ze]]=Pe[ze];var Me=_[0]-H;H=_[0],Me==0?ke(X[0]):(ke(X[v[Oe=32767+Me]]),ke(p[Oe]));for(var st=63;st>0&&_[st]==0;)st--;if(st==0)return ke(Ie),H;for(var Fe,me=1;me<=st;){for(var Dt=me;_[me]==0&&me<=st;)++me;var lt=me-Dt;if(lt>=16){Fe=lt>>4;for(var Ot=1;Ot<=Fe;++Ot)ke(be);lt&=15}Oe=32767+_[me],ke(ne[(lt<<4)+v[Oe]]),ke(p[Oe]),me++}return st!=63&&ke(Ie),H}function We(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(Y){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ne=o((H[X]*Y+50)/100);ne=Math.min(Math.max(ne,1),255),s[F[X]]=ne}for(var Oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var be=o((Oe[Ie]*Y+50)/100);be=Math.min(Math.max(be,1),255),c[F[Ie]]=be}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,Me=0;Me<8;Me++)for(var st=0;st<8;st++)u[ze]=1/(s[F[ze]]*Pe[Me]*Pe[st]*8),h[ze]=1/(c[F[ze]]*Pe[Me]*Pe[st]*8),ze++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,Y){Y&&We(Y),b=new Array,E=0,S=7,_e(65496),_e(65504),_e(16),we(74),we(70),we(73),we(70),we(0),we(1),we(1),we(0),_e(1),_e(1),we(0),we(0),function(){_e(65499),_e(132),we(0);for(var gr=0;gr<64;gr++)we(s[gr]);we(1);for(var Ht=0;Ht<64;Ht++)we(c[Ht])}(),function(gr,Ht){_e(65472),_e(17),we(8),_e(Ht),_e(gr),we(3),we(1),we(17),we(0),we(2),we(17),we(1),we(3),we(17),we(1)}(j.width,j.height),function(){_e(65476),_e(418),we(0);for(var gr=0;gr<16;gr++)we(q[gr+1]);for(var Ht=0;Ht<=11;Ht++)we(B[Ht]);we(16);for(var cr=0;cr<16;cr++)we(ee[cr+1]);for(var lr=0;lr<=161;lr++)we(W[lr]);we(1);for(var Jt=0;Jt<16;Jt++)we(U[Jt+1]);for(var te=0;te<=11;te++)we(K[te]);we(17);for(var xt=0;xt<16;xt++)we(oe[xt+1]);for(var wt=0;wt<=161;wt++)we(ae[wt])}(),_e(65498),_e(12),we(3),we(1),we(0),we(2),we(17),we(3),we(17),we(0),we(63),we(0);var H=0,X=0,ne=0;E=0,S=7,this.encode.displayName="_encode_";for(var Oe,Ie,be,Pe,ze,Me,st,Fe,me,Dt=j.data,lt=j.width,Ot=j.height,ot=4*lt,Ut=0;Ut<Ot;){for(Oe=0;Oe<ot;){for(ze=ot*Ut+Oe,st=-1,Fe=0,me=0;me<64;me++)Me=ze+(Fe=me>>3)*ot+(st=4*(7&me)),Ut+Fe>=Ot&&(Me-=ot*(Ut+1+Fe-Ot)),Oe+st>=ot&&(Me-=Oe+st-ot+4),Ie=Dt[Me++],be=Dt[Me++],Pe=Dt[Me++],T[me]=(z[Ie]+z[be+256|0]+z[Pe+512|0]>>16)-128,O[me]=(z[Ie+768|0]+z[be+1024|0]+z[Pe+1280|0]>>16)-128,k[me]=(z[Ie+1280|0]+z[be+1536|0]+z[Pe+1792|0]>>16)-128;H=$e(T,u,H,t,n),X=$e(O,h,X,r,i),ne=$e(k,h,ne,r,i),Oe+=32}Ut+=8}if(S>=0){var at=[];at[1]=S+1,at[0]=(1<<S+1)-1,ke(at)}return _e(65497),new Uint8Array(b)},e=e||50,function(){for(var j=String.fromCharCode,Y=0;Y<256;Y++)D[Y]=j(Y)}(),t=Re(q,B),r=Re(U,K),n=Re(ee,W),i=Re(oe,ae),function(){for(var j=1,Y=2,H=1;H<=15;H++){for(var X=j;X<Y;X++)v[32767+X]=H,p[32767+X]=[],p[32767+X][1]=H,p[32767+X][0]=X;for(var ne=-(Y-1);ne<=-j;ne++)v[32767+ne]=H,p[32767+ne]=[],p[32767+ne][1]=H,p[32767+ne][0]=Y-1+ne;j<<=1,Y<<=1}}(),function(){for(var j=0;j<256;j++)z[j]=19595*j,z[j+256|0]=38470*j,z[j+512|0]=7471*j+32768,z[j+768|0]=-11059*j,z[j+1024|0]=-21709*j,z[j+1280|0]=32768*j+8421375,z[j+1536|0]=-27439*j,z[j+1792|0]=-5329*j}(),We(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function il(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tT(e){function t(B){if(!B)throw Error("assert :P")}function r(B,ee,W){for(var U=0;4>U;U++)if(B[ee+U]!=W.charCodeAt(U))return!0;return!1}function n(B,ee,W,U,K){for(var oe=0;oe<K;oe++)B[ee+oe]=W[U+oe]}function i(B,ee,W,U){for(var K=0;K<U;K++)B[ee+K]=W}function a(B){return new Int32Array(B)}function o(B,ee){for(var W=[],U=0;U<B;U++)W.push(new ee);return W}function s(B,ee){var W=[];return function U(K,oe,ae){for(var Re=ae[oe],ke=0;ke<Re&&(K.push(ae.length>oe+1?[]:new ee),!(ae.length<oe+1));ke++)U(K[ke],oe+1,ae)}(W,0,B),W}var c=function(){var B=this;function ee(A,N){for(var M=1<<N-1>>>0;A&M;)M>>>=1;return M?(A&M-1)+M:A}function W(A,N,M,G,re){t(!(G%M));do A[N+(G-=M)]=re;while(0<G)}function U(A,N,M,G,re){if(t(2328>=re),512>=re)var le=a(512);else if((le=a(re))==null)return 0;return function(ce,he,pe,Ce,Be,tt){var Te,Ue,Xe=he,dt=1<<pe,et=a(16),mt=a(16);for(t(Be!=0),t(Ce!=null),t(ce!=null),t(0<pe),Ue=0;Ue<Be;++Ue){if(15<Ce[Ue])return 0;++et[Ce[Ue]]}if(et[0]==Be)return 0;for(mt[1]=0,Te=1;15>Te;++Te){if(et[Te]>1<<Te)return 0;mt[Te+1]=mt[Te]+et[Te]}for(Ue=0;Ue<Be;++Ue)Te=Ce[Ue],0<Ce[Ue]&&(tt[mt[Te]++]=Ue);if(mt[15]==1)return(Ce=new K).g=0,Ce.value=tt[0],W(ce,Xe,1,dt,Ce),dt;var bt,Nt=-1,Tt=dt-1,ur=0,Qt=1,Br=1,or=1<<pe;for(Ue=0,Te=1,Be=2;Te<=pe;++Te,Be<<=1){if(Qt+=Br<<=1,0>(Br-=et[Te]))return 0;for(;0<et[Te];--et[Te])(Ce=new K).g=Te,Ce.value=tt[Ue++],W(ce,Xe+ur,Be,or,Ce),ur=ee(ur,Te)}for(Te=pe+1,Be=2;15>=Te;++Te,Be<<=1){if(Qt+=Br<<=1,0>(Br-=et[Te]))return 0;for(;0<et[Te];--et[Te]){if(Ce=new K,(ur&Tt)!=Nt){for(Xe+=or,bt=1<<(Nt=Te)-pe;15>Nt&&!(0>=(bt-=et[Nt]));)++Nt,bt<<=1;dt+=or=1<<(bt=Nt-pe),ce[he+(Nt=ur&Tt)].g=bt+pe,ce[he+Nt].value=Xe-he-Nt}Ce.g=Te-pe,Ce.value=tt[Ue++],W(ce,Xe+(ur>>pe),Be,or,Ce),ur=ee(ur,Te)}}return Qt!=2*mt[15]-1?0:dt}(A,N,M,G,re,le)}function K(){this.value=this.g=0}function oe(){this.value=this.g=0}function ae(){this.G=o(5,K),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ra,oe)}function Re(A,N,M,G){t(A!=null),t(N!=null),t(2147483648>G),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=N,A.pa=M,A.Jd=N,A.Yc=M+G,A.Zc=4<=G?M+G-4+1:M,Ie(A)}function ke(A,N){for(var M=0;0<N--;)M|=Pe(A,128)<<N;return M}function we(A,N){var M=ke(A,N);return be(A)?-M:M}function _e(A,N,M,G){var re,le=0;for(t(A!=null),t(N!=null),t(4294967288>G),A.Sb=G,A.Ra=0,A.u=0,A.h=0,4<G&&(G=4),re=0;re<G;++re)le+=N[M+re]<<8*re;A.Ra=le,A.bb=G,A.oa=N,A.pa=M}function $e(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<go-8>>>0,++A.bb,A.u-=8;X(A)&&(A.h=1,A.u=0)}function We(A,N){if(t(0<=N),!A.h&&N<=ma){var M=H(A)&Ja[N];return A.u+=N,$e(A),M}return A.h=1,A.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(A){return A.Ra>>>(A.u&go-1)>>>0}function X(A){return t(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>go}function ne(A,N){A.u=N,A.h=X(A)}function Oe(A){A.u>=Lr&&(t(A.u>=Lr),$e(A))}function Ie(A){t(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(t(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function be(A){return ke(A,1)}function Pe(A,N){var M=A.Ca;0>A.b&&Ie(A);var G=A.b,re=M*N>>>8,le=(A.I>>>G>re)+0;for(le?(M-=re,A.I-=re+1<<G>>>0):M=re+1,G=M,re=0;256<=G;)re+=8,G>>=8;return G=7^re+Fo[G],A.b-=G,A.Ca=(M<<G)-1,le}function ze(A,N,M){A[N+0]=M>>24&255,A[N+1]=M>>16&255,A[N+2]=M>>8&255,A[N+3]=255&M}function Me(A,N){return A[N+0]|A[N+1]<<8}function st(A,N){return Me(A,N)|A[N+2]<<16}function Fe(A,N){return Me(A,N)|Me(A,N+2)<<16}function me(A,N){var M=1<<N;return t(A!=null),t(0<N),A.X=a(M),A.X==null?0:(A.Mb=32-N,A.Xa=N,1)}function Dt(A,N){t(A!=null),t(N!=null),t(A.Xa==N.Xa),n(N.X,0,A.X,0,1<<N.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function Ot(A,N,M,G){t(M!=null),t(G!=null);var re=M[0],le=G[0];return re==0&&(re=(A*le+N/2)/N),le==0&&(le=(N*re+A/2)/A),0>=re||0>=le?0:(M[0]=re,G[0]=le,1)}function ot(A,N){return A+(1<<N)-1>>>N}function Ut(A,N){return((4278255360&A)+(4278255360&N)>>>0&4278255360)+((16711935&A)+(16711935&N)>>>0&16711935)>>>0}function at(A,N){B[N]=function(M,G,re,le,ce,he,pe){var Ce;for(Ce=0;Ce<ce;++Ce){var Be=B[A](he[pe+Ce-1],re,le+Ce);he[pe+Ce]=Ut(M[G+Ce],Be)}}}function gr(){this.ud=this.hd=this.jd=0}function Ht(A,N){return((4278124286&(A^N))>>>1)+(A&N)>>>0}function cr(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function lr(A,N){return cr(A+(A-N+.5>>1))}function Jt(A,N,M){return Math.abs(N-M)-Math.abs(A-M)}function te(A,N,M,G,re,le,ce){for(G=le[ce-1],M=0;M<re;++M)le[ce+M]=G=Ut(A[N+M],G)}function xt(A,N,M,G,re){var le;for(le=0;le<M;++le){var ce=A[N+le],he=ce>>8&255,pe=16711935&(pe=(pe=16711935&ce)+((he<<16)+he));G[re+le]=(4278255360&ce)+pe>>>0}}function wt(A,N){N.jd=255&A,N.hd=A>>8&255,N.ud=A>>16&255}function Et(A,N,M,G,re,le){var ce;for(ce=0;ce<G;++ce){var he=N[M+ce],pe=he>>>8,Ce=he,Be=255&(Be=(Be=he>>>16)+((A.jd<<24>>24)*(pe<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(A.hd<<24>>24)*(pe<<24>>24)>>>5)+((A.ud<<24>>24)*(Be<<24>>24)>>>5)),re[le+ce]=(4278255360&he)+(Be<<16)+Ce}}function zt(A,N,M,G,re){B[N]=function(le,ce,he,pe,Ce,Be,tt,Te,Ue){for(pe=tt;pe<Te;++pe)for(tt=0;tt<Ue;++tt)Ce[Be++]=re(he[G(le[ce++])])},B[A]=function(le,ce,he,pe,Ce,Be,tt){var Te=8>>le.b,Ue=le.Ea,Xe=le.K[0],dt=le.w;if(8>Te)for(le=(1<<le.b)-1,dt=(1<<Te)-1;ce<he;++ce){var et,mt=0;for(et=0;et<Ue;++et)et&le||(mt=G(pe[Ce++])),Be[tt++]=re(Xe[mt&dt]),mt>>=Te}else B["VP8LMapColor"+M](pe,Ce,Xe,dt,Be,tt,ce,he,Ue)}}function Ne(A,N,M,G,re){for(M=N+M;N<M;){var le=A[N++];G[re++]=le>>16&255,G[re++]=le>>8&255,G[re++]=255&le}}function xe(A,N,M,G,re){for(M=N+M;N<M;){var le=A[N++];G[re++]=le>>16&255,G[re++]=le>>8&255,G[re++]=255&le,G[re++]=le>>24&255}}function fe(A,N,M,G,re){for(M=N+M;N<M;){var le=(ce=A[N++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;G[re++]=le,G[re++]=ce}}function Qe(A,N,M,G,re){for(M=N+M;N<M;){var le=(ce=A[N++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;G[re++]=le,G[re++]=ce}}function ft(A,N,M,G,re){for(M=N+M;N<M;){var le=A[N++];G[re++]=255&le,G[re++]=le>>8&255,G[re++]=le>>16&255}}function Ze(A,N,M,G,re,le){if(le==0)for(M=N+M;N<M;)ze(G,((le=A[N++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),re+=32;else n(G,re,A,N,M)}function Rt(A,N){B[N][0]=B[A+"0"],B[N][1]=B[A+"1"],B[N][2]=B[A+"2"],B[N][3]=B[A+"3"],B[N][4]=B[A+"4"],B[N][5]=B[A+"5"],B[N][6]=B[A+"6"],B[N][7]=B[A+"7"],B[N][8]=B[A+"8"],B[N][9]=B[A+"9"],B[N][10]=B[A+"10"],B[N][11]=B[A+"11"],B[N][12]=B[A+"12"],B[N][13]=B[A+"13"],B[N][14]=B[A+"0"],B[N][15]=B[A+"0"]}function $t(A){return A==Iy||A==Ry||A==Ag||A==Ly}function fr(){this.eb=[],this.size=this.A=this.fb=0}function er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fr,this.f.kb=new er,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Cr(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function $r(A,N){var M=A.T,G=N.ba.f.RGBA,re=G.eb,le=G.fb+A.ka*G.A,ce=As[N.ba.S],he=A.y,pe=A.O,Ce=A.f,Be=A.N,tt=A.ea,Te=A.W,Ue=N.cc,Xe=N.dc,dt=N.Mc,et=N.Nc,mt=A.ka,bt=A.ka+A.T,Nt=A.U,Tt=Nt+1>>1;for(mt==0?ce(he,pe,null,null,Ce,Be,tt,Te,Ce,Be,tt,Te,re,le,null,null,Nt):(ce(N.ec,N.fc,he,pe,Ue,Xe,dt,et,Ce,Be,tt,Te,re,le-G.A,re,le,Nt),++M);mt+2<bt;mt+=2)Ue=Ce,Xe=Be,dt=tt,et=Te,Be+=A.Rc,Te+=A.Rc,le+=2*G.A,ce(he,(pe+=2*A.fa)-A.fa,he,pe,Ue,Xe,dt,et,Ce,Be,tt,Te,re,le-G.A,re,le,Nt);return pe+=A.fa,A.j+bt<A.o?(n(N.ec,N.fc,he,pe,Nt),n(N.cc,N.dc,Ce,Be,Tt),n(N.Mc,N.Nc,tt,Te,Tt),M--):1&bt||ce(he,pe,null,null,Ce,Be,tt,Te,Ce,Be,tt,Te,re,le+G.A,null,null,Nt),M}function vr(A,N,M){var G=A.F,re=[A.J];if(G!=null){var le=A.U,ce=N.ba.S,he=ce==Sg||ce==Ag;N=N.ba.f.RGBA;var pe=[0],Ce=A.ka;pe[0]=A.T,A.Kb&&(Ce==0?--pe[0]:(--Ce,re[0]-=A.width),A.j+A.ka+A.T==A.o&&(pe[0]=A.o-A.j-Ce));var Be=N.eb;Ce=N.fb+Ce*N.A,A=NA(G,re[0],A.width,le,pe,Be,Ce+(he?0:3),N.A),t(M==pe),A&&$t(ce)&&_f(Be,Ce,he,le,pe,N.A)}return 0}function kn(A){var N=A.ma,M=N.ba.S,G=11>M,re=M==_g||M==Eg||M==Sg||M==Py||M==12||$t(M);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!cc(N.Oa,A,re?11:12))return 0;if(re&&$t(M)&&Za(),A.da)alert("todo:use_scaling");else{if(G){if(N.Ib=Cr,A.Kb){if(M=A.U+1>>1,N.memory=a(A.U+2*M),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+A.U,N.Mc=N.cc,N.Nc=N.dc+M,N.Ib=$r,Za()}}else alert("todo:EmitYUV");re&&(N.Jb=vr,G&&Ui())}if(G&&!qA){for(A=0;256>A;++A)t$[A]=89858*(A-128)+Tg>>Cg,i$[A]=-22014*(A-128)+Tg,n$[A]=-45773*(A-128),r$[A]=113618*(A-128)+Tg>>Cg;for(A=Fd;A<My;++A)N=76283*(A-16)+Tg>>Cg,a$[A-Fd]=on(N,255),o$[A-Fd]=on(N+8>>4,15);qA=1}return 1}function Vt(A){var N=A.ma,M=A.U,G=A.T;return t(!(1&A.ka)),0>=M||0>=G?0:(M=N.Ib(A,N),N.Jb!=null&&N.Jb(A,N,M),N.Dc+=M,1)}function _n(A){A.ma.memory=null}function Bi(A,N,M,G){return We(A,8)!=47?0:(N[0]=We(A,14)+1,M[0]=We(A,14)+1,G[0]=We(A,1),We(A,3)!=0?0:!A.h)}function Vr(A,N){if(4>A)return A+1;var M=A-2>>1;return(2+(1&A)<<M)+We(N,M)+1}function Ai(A,N){return 120<N?N-120:1<=(M=((M=$U[N-1])>>4)*A+(8-(15&M)))?M:1;var M}function Mr(A,N,M){var G=H(M),re=A[N+=255&G].g-8;return 0<re&&(ne(M,M.u+8),G=H(M),N+=A[N].value,N+=G&(1<<re)-1),ne(M,M.u+A[N].g),A[N].value}function Gr(A,N,M){return M.g+=A.g,M.value+=A.value<<N>>>0,t(8>=M.g),A.g}function ie(A,N,M){var G=A.xc;return t((N=G==0?0:A.vc[A.md*(M>>G)+(N>>G)])<A.Wb),A.Ya[N]}function ue(A,N,M,G){var re=A.ab,le=A.c*N,ce=A.C;N=ce+N;var he=M,pe=G;for(G=A.Ta,M=A.Ua;0<re--;){var Ce=A.gc[re],Be=ce,tt=N,Te=he,Ue=pe,Xe=(pe=G,he=M,Ce.Ea);switch(t(Be<tt),t(tt<=Ce.nc),Ce.hc){case 2:f(Te,Ue,(tt-Be)*Xe,pe,he);break;case 0:var dt=Be,et=tt,mt=pe,bt=he,Nt=(or=Ce).Ea;dt==0&&(Z(Te,Ue,null,null,1,mt,bt),te(Te,Ue+1,0,0,Nt-1,mt,bt+1),Ue+=Nt,bt+=Nt,++dt);for(var Tt=1<<or.b,ur=Tt-1,Qt=ot(Nt,or.b),Br=or.K,or=or.w+(dt>>or.b)*Qt;dt<et;){var Xr=Br,zi=or,Ur=1;for(l(Te,Ue,mt,bt-Nt,1,mt,bt);Ur<Nt;){var sr=(Ur&~ur)+Tt;sr>Nt&&(sr=Nt),(0,C[Xr[zi++]>>8&15])(Te,Ue+ +Ur,mt,bt+Ur-Nt,sr-Ur,mt,bt+Ur),Ur=sr}Ue+=Nt,bt+=Nt,++dt&ur||(or+=Qt)}tt!=Ce.nc&&n(pe,he-Xe,pe,he+(tt-Be-1)*Xe,Xe);break;case 1:for(Xe=Te,et=Ue,Nt=(Te=Ce.Ea)-(bt=Te&~(mt=(Ue=1<<Ce.b)-1)),dt=ot(Te,Ce.b),Tt=Ce.K,Ce=Ce.w+(Be>>Ce.b)*dt;Be<tt;){for(ur=Tt,Qt=Ce,Br=new gr,or=et+bt,Xr=et+Te;et<or;)wt(ur[Qt++],Br),P(Br,Xe,et,Ue,pe,he),et+=Ue,he+=Ue;et<Xr&&(wt(ur[Qt++],Br),P(Br,Xe,et,Nt,pe,he),et+=Nt,he+=Nt),++Be&mt||(Ce+=dt)}break;case 3:if(Te==pe&&Ue==he&&0<Ce.b){for(et=pe,Te=Xe=he+(tt-Be)*Xe-(bt=(tt-Be)*ot(Ce.Ea,Ce.b)),Ue=pe,mt=he,dt=[],bt=(Nt=bt)-1;0<=bt;--bt)dt[bt]=Ue[mt+bt];for(bt=Nt-1;0<=bt;--bt)et[Te+bt]=dt[bt];d(Ce,Be,tt,pe,Xe,pe,he)}else d(Ce,Be,tt,Te,Ue,pe,he)}he=G,pe=M}pe!=M&&n(G,M,he,pe,le)}function de(A,N){var M=A.V,G=A.Ba+A.c*A.C,re=N-A.C;if(t(N<=A.l.o),t(16>=re),0<re){var le=A.l,ce=A.Ta,he=A.Ua,pe=le.width;if(ue(A,re,M,G),re=he=[he],t((M=A.C)<(G=N)),t(le.v<le.va),G>le.o&&(G=le.o),M<le.j){var Ce=le.j-M;M=le.j,re[0]+=Ce*pe}if(M>=G?M=0:(re[0]+=4*le.v,le.ka=M-le.j,le.U=le.va-le.v,le.T=G-M,M=1),M){if(he=he[0],11>(M=A.ca).S){var Be=M.f.RGBA,tt=(G=M.S,re=le.U,le=le.T,Ce=Be.eb,Be.A),Te=le;for(Be=Be.fb+A.Ma*Be.A;0<Te--;){var Ue=ce,Xe=he,dt=re,et=Ce,mt=Be;switch(G){case bg:R(Ue,Xe,dt,et,mt);break;case _g:V(Ue,Xe,dt,et,mt);break;case Iy:V(Ue,Xe,dt,et,mt),_f(et,mt,0,dt,1,0);break;case MA:Ee(Ue,Xe,dt,et,mt);break;case Eg:Ze(Ue,Xe,dt,et,mt,1);break;case Ry:Ze(Ue,Xe,dt,et,mt,1),_f(et,mt,0,dt,1,0);break;case Sg:Ze(Ue,Xe,dt,et,mt,0);break;case Ag:Ze(Ue,Xe,dt,et,mt,0),_f(et,mt,1,dt,1,0);break;case Py:J(Ue,Xe,dt,et,mt);break;case Ly:J(Ue,Xe,dt,et,mt),kA(et,mt,dt,1,0);break;case FA:se(Ue,Xe,dt,et,mt);break;default:t(0)}he+=pe,Be+=tt}A.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");t(A.Ma<=M.height)}}A.C=N,t(A.C<=A.i)}function ge(A){var N;if(0<A.ua)return 0;for(N=0;N<A.Wb;++N){var M=A.Ya[N].G,G=A.Ya[N].H;if(0<M[1][G[1]+0].g||0<M[2][G[2]+0].g||0<M[3][G[3]+0].g)return 0}return 1}function ye(A,N,M,G,re,le){if(A.Z!=0){var ce=A.qd,he=A.rd;for(t(lu[A.Z]!=null);N<M;++N)lu[A.Z](ce,he,G,re,G,re,le),ce=G,he=re,re+=le;A.qd=ce,A.rd=he}}function Ae(A,N){var M=A.l.ma,G=M.Z==0||M.Z==1?A.l.j:A.C;if(G=A.C<G?G:A.C,t(N<=A.l.o),N>G){var re=A.l.width,le=M.ca,ce=M.tb+re*G,he=A.V,pe=A.Ba+A.c*G,Ce=A.gc;t(A.ab==1),t(Ce[0].hc==3),x(Ce[0],G,N,he,pe,le,ce),ye(M,G,N,le,ce,re)}A.C=A.Ma=N}function Ke(A,N,M,G,re,le,ce){var he=A.$/G,pe=A.$%G,Ce=A.m,Be=A.s,tt=M+A.$,Te=tt;re=M+G*re;var Ue=M+G*le,Xe=280+Be.ua,dt=A.Pb?he:16777216,et=0<Be.ua?Be.Wa:null,mt=Be.wc,bt=tt<Ue?ie(Be,pe,he):null;t(A.C<le),t(Ue<=re);var Nt=!1;e:for(;;){for(;Nt||tt<Ue;){var Tt=0;if(he>=dt){var ur=tt-M;t((dt=A).Pb),dt.wd=dt.m,dt.xd=ur,0<dt.s.ua&&Dt(dt.s.Wa,dt.s.vb),dt=he+zU}if(pe&mt||(bt=ie(Be,pe,he)),t(bt!=null),bt.Qb&&(N[tt]=bt.qb,Nt=!0),!Nt)if(Oe(Ce),bt.jc){Tt=Ce,ur=N;var Qt=tt,Br=bt.pd[H(Tt)&ra-1];t(bt.jc),256>Br.g?(ne(Tt,Tt.u+Br.g),ur[Qt]=Br.value,Tt=0):(ne(Tt,Tt.u+Br.g-256),t(256<=Br.value),Tt=Br.value),Tt==0&&(Nt=!0)}else Tt=Mr(bt.G[0],bt.H[0],Ce);if(Ce.h)break;if(Nt||256>Tt){if(!Nt)if(bt.nd)N[tt]=(bt.qb|Tt<<8)>>>0;else{if(Oe(Ce),Nt=Mr(bt.G[1],bt.H[1],Ce),Oe(Ce),ur=Mr(bt.G[2],bt.H[2],Ce),Qt=Mr(bt.G[3],bt.H[3],Ce),Ce.h)break;N[tt]=(Qt<<24|Nt<<16|Tt<<8|ur)>>>0}if(Nt=!1,++tt,++pe>=G&&(pe=0,++he,ce!=null&&he<=le&&!(he%16)&&ce(A,he),et!=null))for(;Te<tt;)Tt=N[Te++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else if(280>Tt){if(Tt=Vr(Tt-256,Ce),ur=Mr(bt.G[4],bt.H[4],Ce),Oe(Ce),ur=Ai(G,ur=Vr(ur,Ce)),Ce.h)break;if(tt-M<ur||re-tt<Tt)break e;for(Qt=0;Qt<Tt;++Qt)N[tt+Qt]=N[tt+Qt-ur];for(tt+=Tt,pe+=Tt;pe>=G;)pe-=G,++he,ce!=null&&he<=le&&!(he%16)&&ce(A,he);if(t(tt<=re),pe&mt&&(bt=ie(Be,pe,he)),et!=null)for(;Te<tt;)Tt=N[Te++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt}else{if(!(Tt<Xe))break e;for(Nt=Tt-280,t(et!=null);Te<tt;)Tt=N[Te++],et.X[(506832829*Tt&4294967295)>>>et.Mb]=Tt;Tt=tt,t(!(Nt>>>(ur=et).Xa)),N[Tt]=ur.X[Nt],Nt=!0}Nt||t(Ce.h==X(Ce))}if(A.Pb&&Ce.h&&tt<re)t(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&Dt(A.s.vb,A.s.Wa);else{if(Ce.h)break e;ce!=null&&ce(A,he>le?le:he),A.a=0,A.$=tt-M}return 1}return A.a=3,0}function ct(A){t(A!=null),A.vc=null,A.yc=null,A.Ya=null;var N=A.Wa;N!=null&&(N.X=null),A.vb=null,t(A!=null)}function Ge(){var A=new Ft;return A==null?null:(A.a=0,A.xb=$A,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),f=xt,P=Et,R=Ne,V=xe,J=fe,se=Qe,Ee=ft,B.VP8LMapColor32b=m,B.VP8LMapColor8b=w,A)}function Ye(A,N,M,G,re){var le=1,ce=[A],he=[N],pe=G.m,Ce=G.s,Be=null,tt=0;e:for(;;){if(M)for(;le&&We(pe,1);){var Te=ce,Ue=he,Xe=G,dt=1,et=Xe.m,mt=Xe.gc[Xe.ab],bt=We(et,2);if(Xe.Oc&1<<bt)le=0;else{switch(Xe.Oc|=1<<bt,mt.hc=bt,mt.Ea=Te[0],mt.nc=Ue[0],mt.K=[null],++Xe.ab,t(4>=Xe.ab),bt){case 0:case 1:mt.b=We(et,3)+2,dt=Ye(ot(mt.Ea,mt.b),ot(mt.nc,mt.b),0,Xe,mt.K),mt.K=mt.K[0];break;case 3:var Nt,Tt=We(et,8)+1,ur=16<Tt?0:4<Tt?1:2<Tt?2:3;if(Te[0]=ot(mt.Ea,ur),mt.b=ur,Nt=dt=Ye(Tt,1,0,Xe,mt.K)){var Qt,Br=Tt,or=mt,Xr=1<<(8>>or.b),zi=a(Xr);if(zi==null)Nt=0;else{var Ur=or.K[0],sr=or.w;for(zi[0]=or.K[0][0],Qt=1;Qt<1*Br;++Qt)zi[Qt]=Ut(Ur[sr+Qt],zi[Qt-1]);for(;Qt<4*Xr;++Qt)zi[Qt]=0;or.K[0]=null,or.K[0]=zi,Nt=1}}dt=Nt;break;case 2:break;default:t(0)}le=dt}}if(ce=ce[0],he=he[0],le&&We(pe,1)&&!(le=1<=(tt=We(pe,4))&&11>=tt)){G.a=3;break e}var Bt;if(Bt=le)t:{var mi,Dr,Yr,jn=G,va=ce,Qa=he,si=tt,Ma=M,eo=jn.m,Hi=jn.s,Jr=[null],fn=1,li=0,hn=WU[si];r:for(;;){if(Ma&&We(eo,1)){var xa=We(eo,3)+2,tl=ot(va,xa),vi=ot(Qa,xa),mo=tl*vi;if(!Ye(tl,vi,0,jn,Jr))break r;for(Jr=Jr[0],Hi.xc=xa,mi=0;mi<mo;++mi){var An=Jr[mi]>>8&65535;Jr[mi]=An,An>=fn&&(fn=An+1)}}if(eo.h)break r;for(Dr=0;5>Dr;++Dr){var Vi=BA[Dr];!Dr&&0<si&&(Vi+=1<<si),li<Vi&&(li=Vi)}var Uo=o(fn*hn,K),to=fn,$o=o(to,ae);if($o==null)var Wo=null;else t(65536>=to),Wo=$o;var vo=a(li);if(Wo==null||vo==null||Uo==null){jn.a=1;break r}var zo=Uo;for(mi=Yr=0;mi<fn;++mi){var Nn=Wo[mi],Ho=Nn.G,rl=Nn.H,Ef=0,dc=1,ya=0;for(Dr=0;5>Dr;++Dr){Vi=BA[Dr],Ho[Dr]=zo,rl[Dr]=Yr,!Dr&&0<si&&(Vi+=1<<si);i:{var kg,Fy=Vi,Ng=jn,Bd=vo,c$=zo,u$=Yr,By=0,cu=Ng.m,f$=We(cu,1);if(i(Bd,0,0,Fy),f$){var h$=We(cu,1)+1,d$=We(cu,1),XA=We(cu,d$==0?1:8);Bd[XA]=1,h$==2&&(Bd[XA=We(cu,8)]=1);var Pg=1}else{var YA=a(19),ZA=We(cu,4)+4;if(19<ZA){Ng.a=3;var Ig=0;break i}for(kg=0;kg<ZA;++kg)YA[UU[kg]]=We(cu,3);var Uy=void 0,Ud=void 0,JA=Ng,p$=YA,Rg=Fy,QA=Bd,$y=0,uu=JA.m,eC=8,tC=o(128,K);n:for(;U(tC,0,7,p$,19);){if(We(uu,1)){var g$=2+2*We(uu,3);if((Uy=2+We(uu,g$))>Rg)break n}else Uy=Rg;for(Ud=0;Ud<Rg&&Uy--;){Oe(uu);var rC=tC[0+(127&H(uu))];ne(uu,uu.u+rC.g);var Dh=rC.value;if(16>Dh)QA[Ud++]=Dh,Dh!=0&&(eC=Dh);else{var m$=Dh==16,nC=Dh-16,v$=FU[nC],iC=We(uu,MU[nC])+v$;if(Ud+iC>Rg)break n;for(var x$=m$?eC:0;0<iC--;)QA[Ud++]=x$}}$y=1;break n}$y||(JA.a=3),Pg=$y}(Pg=Pg&&!cu.h)&&(By=U(c$,u$,8,Bd,Fy)),Pg&&By!=0?Ig=By:(Ng.a=3,Ig=0)}if(Ig==0)break r;if(dc&&BU[Dr]==1&&(dc=zo[Yr].g==0),Ef+=zo[Yr].g,Yr+=Ig,3>=Dr){var $d,Wy=vo[0];for($d=1;$d<Vi;++$d)vo[$d]>Wy&&(Wy=vo[$d]);ya+=Wy}}if(Nn.nd=dc,Nn.Qb=0,dc&&(Nn.qb=(Ho[3][rl[3]+0].value<<24|Ho[1][rl[1]+0].value<<16|Ho[2][rl[2]+0].value)>>>0,Ef==0&&256>Ho[0][rl[0]+0].value&&(Nn.Qb=1,Nn.qb+=Ho[0][rl[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>ya,Nn.jc){var Lg,pc=Nn;for(Lg=0;Lg<ra;++Lg){var fu=Lg,hu=pc.pd[fu],Dg=pc.G[0][pc.H[0]+fu];256<=Dg.value?(hu.g=Dg.g+256,hu.value=Dg.value):(hu.g=0,hu.value=0,fu>>=Gr(Dg,8,hu),fu>>=Gr(pc.G[1][pc.H[1]+fu],16,hu),fu>>=Gr(pc.G[2][pc.H[2]+fu],0,hu),Gr(pc.G[3][pc.H[3]+fu],24,hu))}}}Hi.vc=Jr,Hi.Wb=fn,Hi.Ya=Wo,Hi.yc=Uo,Bt=1;break t}Bt=0}if(!(le=Bt)){G.a=3;break e}if(0<tt){if(Ce.ua=1<<tt,!me(Ce.Wa,tt)){G.a=1,le=0;break e}}else Ce.ua=0;var zy=G,aC=ce,y$=he,Hy=zy.s,Vy=Hy.xc;if(zy.c=aC,zy.i=y$,Hy.md=ot(aC,Vy),Hy.wc=Vy==0?-1:(1<<Vy)-1,M){G.xb=YU;break e}if((Be=a(ce*he))==null){G.a=1,le=0;break e}le=(le=Ke(G,Be,0,ce,he,he,null))&&!pe.h;break e}return le?(re!=null?re[0]=Be:(t(Be==null),t(M)),G.$=0,M||ct(Ce)):ct(Ce),le}function qe(A,N){var M=A.c*A.i,G=M+N+16*N;return t(A.c<=N),A.V=a(G),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+M+N,1)}function pt(A,N){var M=A.C,G=N-M,re=A.V,le=A.Ba+A.c*M;for(t(N<=A.l.o);0<G;){var ce=16<G?16:G,he=A.l.ma,pe=A.l.width,Ce=pe*ce,Be=he.ca,tt=he.tb+pe*M,Te=A.Ta,Ue=A.Ua;ue(A,ce,re,le),PA(Te,Ue,Be,tt,Ce),ye(he,M,M+ce,Be,tt,pe),G-=ce,re+=ce*A.c,M+=ce}t(M==N),A.C=A.Ma=N}function St(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Lt(){this.Yb=function(){var A=[];return function N(M,G,re){for(var le=re[G],ce=0;ce<le&&(M.push(re.length>G+1?[]:0),!(re.length<G+1));ce++)N(M[ce],G+1,re)}(A,0,[3,11]),A}()}function yr(){this.jb=a(3),this.Wc=s([4,8],Lt),this.Xc=s([4,17],Lt)}function ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function Or(){this.Na=this.la=0}function pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ro(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new Ro),this.aa=0,this.l=new Ci}function kr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Nr(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new St,this.Kc=new kt,this.ed=new ut,this.Qa=new Pt,this.Ic=this.$c=this.Aa=0,this.D=new Fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,j),this.ia=0,this.pb=o(4,pa),this.Pa=new yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kr),this.Hd=0,this.rb=Array(new Or),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ro),this.L=this.aa=0,this.gd=s([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mf(){var A=new Nr;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,Md||(Md=Ks)),A}function Hn(A,N,M){return A.a==0&&(A.a=N,A.sc=M,A.cb=0),0}function Vn(A,N,M){return 3<=M&&A[N+0]==157&&A[N+1]==1&&A[N+2]==42}function Lo(A,N){if(A==null)return 0;if(A.a=0,A.sc="OK",N==null)return Hn(A,2,"null VP8Io passed to VP8GetHeaders()");var M=N.data,G=N.w,re=N.ha;if(4>re)return Hn(A,7,"Truncated header.");var le=M[G+0]|M[G+1]<<8|M[G+2]<<16,ce=A.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return Hn(A,3,"Incorrect keyframe parameters.");if(!ce.yd)return Hn(A,4,"Frame not displayable.");G+=3,re-=3;var he=A.Kc;if(ce.Rb){if(7>re)return Hn(A,7,"cannot parse picture header");if(!Vn(M,G,re))return Hn(A,3,"Bad code word");he.c=16383&(M[G+4]<<8|M[G+3]),he.Td=M[G+4]>>6,he.i=16383&(M[G+6]<<8|M[G+5]),he.Ud=M[G+6]>>6,G+=7,re-=7,A.za=he.c+15>>4,A.Ub=he.i+15>>4,N.width=he.c,N.height=he.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((le=A.Pa).jb,0,255,le.jb.length),t((le=A.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(ce.ub>re)return Hn(A,7,"bad partition length");Re(le=A.m,M,G,ce.ub),G+=ce.ub,re-=ce.ub,ce.Rb&&(he.Ld=be(le),he.Kd=be(le)),he=A.Qa;var pe,Ce=A.Pa;if(t(le!=null),t(he!=null),he.Cb=be(le),he.Cb){if(he.Bb=be(le),be(le)){for(he.Fb=be(le),pe=0;4>pe;++pe)he.Zb[pe]=be(le)?we(le,7):0;for(pe=0;4>pe;++pe)he.Lb[pe]=be(le)?we(le,6):0}if(he.Bb)for(pe=0;3>pe;++pe)Ce.jb[pe]=be(le)?ke(le,8):255}else he.Bb=0;if(le.Ka)return Hn(A,3,"cannot parse segment header");if((he=A.ed).zd=be(le),he.Tb=ke(le,6),he.wb=ke(le,3),he.Pc=be(le),he.Pc&&be(le)){for(Ce=0;4>Ce;++Ce)be(le)&&(he.vd[Ce]=we(le,6));for(Ce=0;4>Ce;++Ce)be(le)&&(he.od[Ce]=we(le,6))}if(A.L=he.Tb==0?0:he.zd?1:2,le.Ka)return Hn(A,3,"cannot parse filter header");var Be=re;if(re=pe=G,G=pe+Be,he=Be,A.Xb=(1<<ke(A.m,2))-1,Be<3*(Ce=A.Xb))M=7;else{for(pe+=3*Ce,he-=3*Ce,Be=0;Be<Ce;++Be){var tt=M[re+0]|M[re+1]<<8|M[re+2]<<16;tt>he&&(tt=he),Re(A.Jc[+Be],M,pe,tt),pe+=tt,he-=tt,re+=3}Re(A.Jc[+Ce],M,pe,he),M=pe<G?0:5}if(M!=0)return Hn(A,M,"cannot parse partitions");for(M=ke(pe=A.m,7),re=be(pe)?we(pe,4):0,G=be(pe)?we(pe,4):0,he=be(pe)?we(pe,4):0,Ce=be(pe)?we(pe,4):0,pe=be(pe)?we(pe,4):0,Be=A.Qa,tt=0;4>tt;++tt){if(Be.Cb){var Te=Be.Zb[tt];Be.Fb||(Te+=M)}else{if(0<tt){A.pb[tt]=A.pb[0];continue}Te=M}var Ue=A.pb[tt];Ue.Sc[0]=Dy[on(Te+re,127)],Ue.Sc[1]=jy[on(Te+0,127)],Ue.Eb[0]=2*Dy[on(Te+G,127)],Ue.Eb[1]=101581*jy[on(Te+he,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Dy[on(Te+Ce,117)],Ue.Qc[1]=jy[on(Te+pe,127)],Ue.lc=Te+pe}if(!ce.Rb)return Hn(A,4,"Not a key frame.");for(be(le),ce=A.Pa,M=0;4>M;++M){for(re=0;8>re;++re)for(G=0;3>G;++G)for(he=0;11>he;++he)Ce=Pe(le,KU[M][re][G][he])?ke(le,8):qU[M][re][G][he],ce.Wc[M][re].Yb[G][he]=Ce;for(re=0;17>re;++re)ce.Xc[M][re]=ce.Wc[M][XU[re]]}return A.kc=be(le),A.kc&&(A.Bd=ke(le,8)),A.cb=1}function Ks(A,N,M,G,re,le,ce){var he=N[re].Yb[M];for(M=0;16>re;++re){if(!Pe(A,he[M+0]))return re;for(;!Pe(A,he[M+1]);)if(he=N[++re].Yb[0],M=0,re==16)return 16;var pe=N[re+1].Yb;if(Pe(A,he[M+2])){var Ce=A,Be=0;if(Pe(Ce,(Te=he)[(tt=M)+3]))if(Pe(Ce,Te[tt+6])){for(he=0,tt=2*(Be=Pe(Ce,Te[tt+8]))+(Te=Pe(Ce,Te[tt+9+Be])),Be=0,Te=HU[tt];Te[he];++he)Be+=Be+Pe(Ce,Te[he]);Be+=3+(8<<tt)}else Pe(Ce,Te[tt+7])?(Be=7+2*Pe(Ce,165),Be+=Pe(Ce,145)):Be=5+Pe(Ce,159);else Be=Pe(Ce,Te[tt+4])?3+Pe(Ce,Te[tt+5]):2;he=pe[2]}else Be=1,he=pe[1];pe=ce+VU[re],0>(Ce=A).b&&Ie(Ce);var tt,Te=Ce.b,Ue=(tt=Ce.Ca>>1)-(Ce.I>>Te)>>31;--Ce.b,Ce.Ca+=Ue,Ce.Ca|=1,Ce.I-=(tt+1&Ue)<<Te,le[pe]=((Be^Ue)-Ue)*G[(0<re)+0]}return 16}function un(A){var N=A.rb[A.sb-1];N.la=0,N.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function Ti(A,N,M,G,re){re=A[N+M+32*G]+(re>>3),A[N+M+32*G]=-256&re?0>re?0:255:re}function Xl(A,N,M,G,re,le){Ti(A,N,0,M,G+re),Ti(A,N,1,M,G+le),Ti(A,N,2,M,G-le),Ti(A,N,3,M,G-re)}function wn(A){return(20091*A>>16)+A}function en(A,N,M,G){var re,le=0,ce=a(16);for(re=0;4>re;++re){var he=A[N+0]+A[N+8],pe=A[N+0]-A[N+8],Ce=(35468*A[N+4]>>16)-wn(A[N+12]),Be=wn(A[N+4])+(35468*A[N+12]>>16);ce[le+0]=he+Be,ce[le+1]=pe+Ce,ce[le+2]=pe-Ce,ce[le+3]=he-Be,le+=4,N++}for(re=le=0;4>re;++re)he=(A=ce[le+0]+4)+ce[le+8],pe=A-ce[le+8],Ce=(35468*ce[le+4]>>16)-wn(ce[le+12]),Ti(M,G,0,0,he+(Be=wn(ce[le+4])+(35468*ce[le+12]>>16))),Ti(M,G,1,0,pe+Ce),Ti(M,G,2,0,pe-Ce),Ti(M,G,3,0,he-Be),le++,G+=32}function Oi(A,N,M,G){var re=A[N+0]+4,le=35468*A[N+4]>>16,ce=wn(A[N+4]),he=35468*A[N+1]>>16;Xl(M,G,0,re+ce,A=wn(A[N+1]),he),Xl(M,G,1,re+le,A,he),Xl(M,G,2,re-le,A,he),Xl(M,G,3,re-ce,A,he)}function Je(A,N,M,G,re){en(A,N,M,G),re&&en(A,N+16,M,G+4)}function ve(A,N,M,G){je(A,N+0,M,G,1),je(A,N+32,M,G+128,1)}function qt(A,N,M,G){var re;for(A=A[N+0]+4,re=0;4>re;++re)for(N=0;4>N;++N)Ti(M,G,N,re,A)}function Jn(A,N,M,G){A[N+0]&&vt(A,N+0,M,G),A[N+16]&&vt(A,N+16,M,G+4),A[N+32]&&vt(A,N+32,M,G+128),A[N+48]&&vt(A,N+48,M,G+128+4)}function ga(A,N,M,G){var re,le=a(16);for(re=0;4>re;++re){var ce=A[N+0+re]+A[N+12+re],he=A[N+4+re]+A[N+8+re],pe=A[N+4+re]-A[N+8+re],Ce=A[N+0+re]-A[N+12+re];le[0+re]=ce+he,le[8+re]=ce-he,le[4+re]=Ce+pe,le[12+re]=Ce-pe}for(re=0;4>re;++re)ce=(A=le[0+4*re]+3)+le[3+4*re],he=le[1+4*re]+le[2+4*re],pe=le[1+4*re]-le[2+4*re],Ce=A-le[3+4*re],M[G+0]=ce+he>>3,M[G+16]=Ce+pe>>3,M[G+32]=ce-he>>3,M[G+48]=Ce-pe>>3,G+=64}function Al(A,N,M){var G,re=N-32,le=Bo,ce=255-A[re-1];for(G=0;G<M;++G){var he,pe=le,Ce=ce+A[N-1];for(he=0;he<M;++he)A[N+he]=pe[Ce+A[re+he]];N+=32}}function Yl(A,N){Al(A,N,4)}function La(A,N){Al(A,N,8)}function hr(A,N){Al(A,N,16)}function En(A,N){var M;for(M=0;16>M;++M)n(A,N+32*M,A,N-32,16)}function ru(A,N){var M;for(M=16;0<M;--M)i(A,N,A[N-1],16),N+=32}function Zl(A,N,M){var G;for(G=0;16>G;++G)i(N,M+32*G,A,16)}function xs(A,N){var M,G=16;for(M=0;16>M;++M)G+=A[N-1+32*M]+A[N+M-32];Zl(G>>5,A,N)}function nu(A,N){var M,G=8;for(M=0;16>M;++M)G+=A[N-1+32*M];Zl(G>>4,A,N)}function Xs(A,N){var M,G=8;for(M=0;16>M;++M)G+=A[N+M-32];Zl(G>>4,A,N)}function vf(A,N){Zl(128,A,N)}function tr(A,N,M){return A+2*N+M+2>>2}function Jl(A,N){var M,G=N-32;for(G=new Uint8Array([tr(A[G-1],A[G+0],A[G+1]),tr(A[G+0],A[G+1],A[G+2]),tr(A[G+1],A[G+2],A[G+3]),tr(A[G+2],A[G+3],A[G+4])]),M=0;4>M;++M)n(A,N+32*M,G,0,G.length)}function ys(A,N){var M=A[N-1],G=A[N-1+32],re=A[N-1+64],le=A[N-1+96];ze(A,N+0,16843009*tr(A[N-1-32],M,G)),ze(A,N+32,16843009*tr(M,G,re)),ze(A,N+64,16843009*tr(G,re,le)),ze(A,N+96,16843009*tr(re,le,le))}function xr(A,N){var M,G=4;for(M=0;4>M;++M)G+=A[N+M-32]+A[N-1+32*M];for(G>>=3,M=0;4>M;++M)i(A,N+32*M,G,4)}function Dd(A,N){var M=A[N-1+0],G=A[N-1+32],re=A[N-1+64],le=A[N-1-32],ce=A[N+0-32],he=A[N+1-32],pe=A[N+2-32],Ce=A[N+3-32];A[N+0+96]=tr(G,re,A[N-1+96]),A[N+1+96]=A[N+0+64]=tr(M,G,re),A[N+2+96]=A[N+1+64]=A[N+0+32]=tr(le,M,G),A[N+3+96]=A[N+2+64]=A[N+1+32]=A[N+0+0]=tr(ce,le,M),A[N+3+64]=A[N+2+32]=A[N+1+0]=tr(he,ce,le),A[N+3+32]=A[N+2+0]=tr(pe,he,ce),A[N+3+0]=tr(Ce,pe,he)}function _r(A,N){var M=A[N+1-32],G=A[N+2-32],re=A[N+3-32],le=A[N+4-32],ce=A[N+5-32],he=A[N+6-32],pe=A[N+7-32];A[N+0+0]=tr(A[N+0-32],M,G),A[N+1+0]=A[N+0+32]=tr(M,G,re),A[N+2+0]=A[N+1+32]=A[N+0+64]=tr(G,re,le),A[N+3+0]=A[N+2+32]=A[N+1+64]=A[N+0+96]=tr(re,le,ce),A[N+3+32]=A[N+2+64]=A[N+1+96]=tr(le,ce,he),A[N+3+64]=A[N+2+96]=tr(ce,he,pe),A[N+3+96]=tr(he,pe,pe)}function Sn(A,N){var M=A[N-1+0],G=A[N-1+32],re=A[N-1+64],le=A[N-1-32],ce=A[N+0-32],he=A[N+1-32],pe=A[N+2-32],Ce=A[N+3-32];A[N+0+0]=A[N+1+64]=le+ce+1>>1,A[N+1+0]=A[N+2+64]=ce+he+1>>1,A[N+2+0]=A[N+3+64]=he+pe+1>>1,A[N+3+0]=pe+Ce+1>>1,A[N+0+96]=tr(re,G,M),A[N+0+64]=tr(G,M,le),A[N+0+32]=A[N+1+96]=tr(M,le,ce),A[N+1+32]=A[N+2+96]=tr(le,ce,he),A[N+2+32]=A[N+3+96]=tr(ce,he,pe),A[N+3+32]=tr(he,pe,Ce)}function jd(A,N){var M=A[N+0-32],G=A[N+1-32],re=A[N+2-32],le=A[N+3-32],ce=A[N+4-32],he=A[N+5-32],pe=A[N+6-32],Ce=A[N+7-32];A[N+0+0]=M+G+1>>1,A[N+1+0]=A[N+0+64]=G+re+1>>1,A[N+2+0]=A[N+1+64]=re+le+1>>1,A[N+3+0]=A[N+2+64]=le+ce+1>>1,A[N+0+32]=tr(M,G,re),A[N+1+32]=A[N+0+96]=tr(G,re,le),A[N+2+32]=A[N+1+96]=tr(re,le,ce),A[N+3+32]=A[N+2+96]=tr(le,ce,he),A[N+3+64]=tr(ce,he,pe),A[N+3+96]=tr(he,pe,Ce)}function xf(A,N){var M=A[N-1+0],G=A[N-1+32],re=A[N-1+64],le=A[N-1+96];A[N+0+0]=M+G+1>>1,A[N+2+0]=A[N+0+32]=G+re+1>>1,A[N+2+32]=A[N+0+64]=re+le+1>>1,A[N+1+0]=tr(M,G,re),A[N+3+0]=A[N+1+32]=tr(G,re,le),A[N+3+32]=A[N+1+64]=tr(re,le,le),A[N+3+64]=A[N+2+64]=A[N+0+96]=A[N+1+96]=A[N+2+96]=A[N+3+96]=le}function Ql(A,N){var M=A[N-1+0],G=A[N-1+32],re=A[N-1+64],le=A[N-1+96],ce=A[N-1-32],he=A[N+0-32],pe=A[N+1-32],Ce=A[N+2-32];A[N+0+0]=A[N+2+32]=M+ce+1>>1,A[N+0+32]=A[N+2+64]=G+M+1>>1,A[N+0+64]=A[N+2+96]=re+G+1>>1,A[N+0+96]=le+re+1>>1,A[N+3+0]=tr(he,pe,Ce),A[N+2+0]=tr(ce,he,pe),A[N+1+0]=A[N+3+32]=tr(M,ce,he),A[N+1+32]=A[N+3+64]=tr(G,M,ce),A[N+1+64]=A[N+3+96]=tr(re,G,M),A[N+1+96]=tr(le,re,G)}function Do(A,N){var M;for(M=0;8>M;++M)n(A,N+32*M,A,N-32,8)}function ec(A,N){var M;for(M=0;8>M;++M)i(A,N,A[N-1],8),N+=32}function ws(A,N,M){var G;for(G=0;8>G;++G)i(N,M+32*G,A,8)}function bs(A,N){var M,G=8;for(M=0;8>M;++M)G+=A[N+M-32]+A[N-1+32*M];ws(G>>4,A,N)}function tc(A,N){var M,G=4;for(M=0;8>M;++M)G+=A[N+M-32];ws(G>>3,A,N)}function iu(A,N){var M,G=4;for(M=0;8>M;++M)G+=A[N-1+32*M];ws(G>>3,A,N)}function Ys(A,N){ws(128,A,N)}function jo(A,N,M){var G=A[N-M],re=A[N+0],le=3*(re-G)+Ny[1020+A[N-2*M]-A[N+M]],ce=wg[112+(le+4>>3)];A[N-M]=Bo[255+G+wg[112+(le+3>>3)]],A[N+0]=Bo[255+re-ce]}function oi(A,N,M,G){var re=A[N+0],le=A[N+M];return Ss[255+A[N-2*M]-A[N-M]]>G||Ss[255+le-re]>G}function au(A,N,M,G){return 4*Ss[255+A[N-M]-A[N+0]]+Ss[255+A[N-2*M]-A[N+M]]<=G}function rc(A,N,M,G,re){var le=A[N-3*M],ce=A[N-2*M],he=A[N-M],pe=A[N+0],Ce=A[N+M],Be=A[N+2*M],tt=A[N+3*M];return 4*Ss[255+he-pe]+Ss[255+ce-Ce]>G?0:Ss[255+A[N-4*M]-le]<=re&&Ss[255+le-ce]<=re&&Ss[255+ce-he]<=re&&Ss[255+tt-Be]<=re&&Ss[255+Be-Ce]<=re&&Ss[255+Ce-pe]<=re}function ou(A,N,M,G){var re=2*G+1;for(G=0;16>G;++G)au(A,N+G,M,re)&&jo(A,N+G,M)}function nc(A,N,M,G){var re=2*G+1;for(G=0;16>G;++G)au(A,N+G*M,1,re)&&jo(A,N+G*M,1)}function Rh(A,N,M,G){var re;for(re=3;0<re;--re)ou(A,N+=4*M,M,G)}function Lh(A,N,M,G){var re;for(re=3;0<re;--re)nc(A,N+=4,M,G)}function Hr(A,N,M,G,re,le,ce,he){for(le=2*le+1;0<re--;){if(rc(A,N,M,le,ce))if(oi(A,N,M,he))jo(A,N,M);else{var pe=A,Ce=N,Be=M,tt=pe[Ce-2*Be],Te=pe[Ce-Be],Ue=pe[Ce+0],Xe=pe[Ce+Be],dt=pe[Ce+2*Be],et=27*(bt=Ny[1020+3*(Ue-Te)+Ny[1020+tt-Xe]])+63>>7,mt=18*bt+63>>7,bt=9*bt+63>>7;pe[Ce-3*Be]=Bo[255+pe[Ce-3*Be]+bt],pe[Ce-2*Be]=Bo[255+tt+mt],pe[Ce-Be]=Bo[255+Te+et],pe[Ce+0]=Bo[255+Ue-et],pe[Ce+Be]=Bo[255+Xe-mt],pe[Ce+2*Be]=Bo[255+dt-bt]}N+=G}}function _s(A,N,M,G,re,le,ce,he){for(le=2*le+1;0<re--;){if(rc(A,N,M,le,ce))if(oi(A,N,M,he))jo(A,N,M);else{var pe=A,Ce=N,Be=M,tt=pe[Ce-Be],Te=pe[Ce+0],Ue=pe[Ce+Be],Xe=wg[112+(4+(dt=3*(Te-tt))>>3)],dt=wg[112+(dt+3>>3)],et=Xe+1>>1;pe[Ce-2*Be]=Bo[255+pe[Ce-2*Be]+et],pe[Ce-Be]=Bo[255+tt+dt],pe[Ce+0]=Bo[255+Te-Xe],pe[Ce+Be]=Bo[255+Ue-et]}N+=G}}function ic(A,N,M,G,re,le){Hr(A,N,M,1,16,G,re,le)}function Mo(A,N,M,G,re,le){Hr(A,N,1,M,16,G,re,le)}function ac(A,N,M,G,re,le){var ce;for(ce=3;0<ce;--ce)_s(A,N+=4*M,M,1,16,G,re,le)}function it(A,N,M,G,re,le){var ce;for(ce=3;0<ce;--ce)_s(A,N+=4,1,M,16,G,re,le)}function I(A,N,M,G,re,le,ce,he){Hr(A,N,re,1,8,le,ce,he),Hr(M,G,re,1,8,le,ce,he)}function Q(A,N,M,G,re,le,ce,he){Hr(A,N,1,re,8,le,ce,he),Hr(M,G,1,re,8,le,ce,he)}function Se(A,N,M,G,re,le,ce,he){_s(A,N+4*re,re,1,8,le,ce,he),_s(M,G+4*re,re,1,8,le,ce,he)}function De(A,N,M,G,re,le,ce,he){_s(A,N+4,1,re,8,le,ce,he),_s(M,G+4,1,re,8,le,ce,he)}function He(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function At(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gt(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new K}function Ft(){this.xb=this.a=0,this.l=new Ci,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gt,this.ab=0,this.gc=o(4,At),this.Oc=0}function Er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ci,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kt(A,N,M,G,re,le,ce){for(A=A==null?0:A[N+0],N=0;N<ce;++N)re[le+N]=A+M[G+N]&255,A=re[le+N]}function Kr(A,N,M,G,re,le,ce){var he;if(A==null)Kt(null,null,M,G,re,le,ce);else for(he=0;he<ce;++he)re[le+he]=A[N+he]+M[G+he]&255}function an(A,N,M,G,re,le,ce){if(A==null)Kt(null,null,M,G,re,le,ce);else{var he,pe=A[N+0],Ce=pe,Be=pe;for(he=0;he<ce;++he)Ce=Be+(pe=A[N+he])-Ce,Be=M[G+he]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=pe,re[le+he]=Be}}function Sr(A,N,M,G){var re=N.width,le=N.o;if(t(A!=null&&N!=null),0>M||0>=G||M+G>le)return null;if(!A.Cc){if(A.ga==null){var ce;if(A.ga=new Er,(ce=A.ga==null)||(ce=N.width*N.o,t(A.Gb.length==0),A.Gb=a(ce),A.Uc=0,A.Gb==null?ce=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,ce=1),ce=!ce),!ce){ce=A.ga;var he=A.Fa,pe=A.P,Ce=A.qc,Be=A.mb,tt=A.nb,Te=pe+1,Ue=Ce-1,Xe=ce.l;if(t(he!=null&&Be!=null&&N!=null),lu[0]=null,lu[1]=Kt,lu[2]=Kr,lu[3]=an,ce.ca=Be,ce.tb=tt,ce.c=N.width,ce.i=N.height,t(0<ce.c&&0<ce.i),1>=Ce)N=0;else if(ce.$a=3&he[pe+0],ce.Z=he[pe+0]>>2&3,ce.Lc=he[pe+0]>>4&3,pe=he[pe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||pe)N=0;else if(Xe.put=Vt,Xe.ac=kn,Xe.bc=_n,Xe.ma=ce,Xe.width=N.width,Xe.height=N.height,Xe.Da=N.Da,Xe.v=N.v,Xe.va=N.va,Xe.j=N.j,Xe.o=N.o,ce.$a)e:{t(ce.$a==1),N=Ge();t:for(;;){if(N==null){N=0;break e}if(t(ce!=null),ce.mc=N,N.c=ce.c,N.i=ce.i,N.l=ce.l,N.l.ma=ce,N.l.width=ce.c,N.l.height=ce.i,N.a=0,_e(N.m,he,Te,Ue),!Ye(ce.c,ce.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&ge(N.s)?(ce.ic=1,he=N.c*N.i,N.Ta=null,N.Ua=0,N.V=a(he),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ce.ic=0,N=qe(N,ce.c)),!N))break t;N=1;break e}ce.mc=null,N=0}else N=Ue>=ce.c*ce.i;ce=!N}if(ce)return null;A.ga.Lc!=1?A.Ga=0:G=le-M}t(A.ga!=null),t(M+G<=le);e:{if(N=(he=A.ga).c,le=he.l.o,he.$a==0){if(Te=A.rc,Ue=A.Vc,Xe=A.Fa,pe=A.P+1+M*N,Ce=A.mb,Be=A.nb+M*N,t(pe<=A.P+A.qc),he.Z!=0)for(t(lu[he.Z]!=null),ce=0;ce<G;++ce)lu[he.Z](Te,Ue,Xe,pe,Ce,Be,N),Te=Ce,Ue=Be,Be+=N,pe+=N;else for(ce=0;ce<G;++ce)n(Ce,Be,Xe,pe,N),Te=Ce,Ue=Be,Be+=N,pe+=N;A.rc=Te,A.Vc=Ue}else{if(t(he.mc!=null),N=M+G,t((ce=he.mc)!=null),t(N<=ce.i),ce.C>=N)N=1;else if(he.ic||Ui(),he.ic){he=ce.V,Te=ce.Ba,Ue=ce.c;var dt=ce.i,et=(Xe=1,pe=ce.$/Ue,Ce=ce.$%Ue,Be=ce.m,tt=ce.s,ce.$),mt=Ue*dt,bt=Ue*N,Nt=tt.wc,Tt=et<bt?ie(tt,Ce,pe):null;t(et<=mt),t(N<=dt),t(ge(tt));t:for(;;){for(;!Be.h&&et<bt;){if(Ce&Nt||(Tt=ie(tt,Ce,pe)),t(Tt!=null),Oe(Be),256>(dt=Mr(Tt.G[0],Tt.H[0],Be)))he[Te+et]=dt,++et,++Ce>=Ue&&(Ce=0,++pe<=N&&!(pe%16)&&Ae(ce,pe));else{if(!(280>dt)){Xe=0;break t}dt=Vr(dt-256,Be);var ur,Qt=Mr(Tt.G[4],Tt.H[4],Be);if(Oe(Be),!(et>=(Qt=Ai(Ue,Qt=Vr(Qt,Be)))&&mt-et>=dt)){Xe=0;break t}for(ur=0;ur<dt;++ur)he[Te+et+ur]=he[Te+et+ur-Qt];for(et+=dt,Ce+=dt;Ce>=Ue;)Ce-=Ue,++pe<=N&&!(pe%16)&&Ae(ce,pe);et<bt&&Ce&Nt&&(Tt=ie(tt,Ce,pe))}t(Be.h==X(Be))}Ae(ce,pe>N?N:pe);break t}!Xe||Be.h&&et<mt?(Xe=0,ce.a=Be.h?5:3):ce.$=et,N=Xe}else N=Ke(ce,ce.V,ce.Ba,ce.c,ce.i,N,pt);if(!N){G=0;break e}}M+G>=le&&(A.Cc=1),G=1}if(!G)return null;if(A.Cc&&((G=A.ga)!=null&&(G.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+M*re}function Wt(A,N,M,G,re,le){for(;0<re--;){var ce,he=A,pe=N+(M?1:0),Ce=A,Be=N+(M?0:3);for(ce=0;ce<G;++ce){var tt=Ce[Be+4*ce];tt!=255&&(tt*=32897,he[pe+4*ce+0]=he[pe+4*ce+0]*tt>>23,he[pe+4*ce+1]=he[pe+4*ce+1]*tt>>23,he[pe+4*ce+2]=he[pe+4*ce+2]*tt>>23)}N+=le}}function gi(A,N,M,G,re){for(;0<G--;){var le;for(le=0;le<M;++le){var ce=A[N+2*le+0],he=15&(Ce=A[N+2*le+1]),pe=4369*he,Ce=(240&Ce|Ce>>4)*pe>>16;A[N+2*le+0]=(240&ce|ce>>4)*pe>>16&240|(15&ce|ce<<4)*pe>>16>>4&15,A[N+2*le+1]=240&Ce|he}N+=re}}function Tr(A,N,M,G,re,le,ce,he){var pe,Ce,Be=255;for(Ce=0;Ce<re;++Ce){for(pe=0;pe<G;++pe){var tt=A[N+pe];le[ce+4*pe]=tt,Be&=tt}N+=M,ce+=he}return Be!=255}function Dn(A,N,M,G,re){var le;for(le=0;le<re;++le)M[G+le]=A[N+le]>>8}function Ui(){_f=Wt,kA=gi,NA=Tr,PA=Dn}function Da(A,N,M){B[A]=function(G,re,le,ce,he,pe,Ce,Be,tt,Te,Ue,Xe,dt,et,mt,bt,Nt){var Tt,ur=Nt-1>>1,Qt=he[pe+0]|Ce[Be+0]<<16,Br=tt[Te+0]|Ue[Xe+0]<<16;t(G!=null);var or=3*Qt+Br+131074>>2;for(N(G[re+0],255&or,or>>16,dt,et),le!=null&&(or=3*Br+Qt+131074>>2,N(le[ce+0],255&or,or>>16,mt,bt)),Tt=1;Tt<=ur;++Tt){var Xr=he[pe+Tt]|Ce[Be+Tt]<<16,zi=tt[Te+Tt]|Ue[Xe+Tt]<<16,Ur=Qt+Xr+Br+zi+524296,sr=Ur+2*(Xr+Br)>>3;or=sr+Qt>>1,Qt=(Ur=Ur+2*(Qt+zi)>>3)+Xr>>1,N(G[re+2*Tt-1],255&or,or>>16,dt,et+(2*Tt-1)*M),N(G[re+2*Tt-0],255&Qt,Qt>>16,dt,et+(2*Tt-0)*M),le!=null&&(or=Ur+Br>>1,Qt=sr+zi>>1,N(le[ce+2*Tt-1],255&or,or>>16,mt,bt+(2*Tt-1)*M),N(le[ce+2*Tt+0],255&Qt,Qt>>16,mt,bt+(2*Tt+0)*M)),Qt=Xr,Br=zi}1&Nt||(or=3*Qt+Br+131074>>2,N(G[re+Nt-1],255&or,or>>16,dt,et+(Nt-1)*M),le!=null&&(or=3*Br+Qt+131074>>2,N(le[ce+Nt-1],255&or,or>>16,mt,bt+(Nt-1)*M)))}}function Za(){As[bg]=ZU,As[_g]=WA,As[MA]=JU,As[Eg]=zA,As[Sg]=HA,As[Py]=VA,As[FA]=QU,As[Iy]=WA,As[Ry]=zA,As[Ag]=HA,As[Ly]=VA}function Cl(A){return A&-16384?0>A?0:255:A>>e$}function Tl(A,N){return Cl((19077*A>>8)+(26149*N>>8)-14234)}function Es(A,N,M){return Cl((19077*A>>8)-(6419*N>>8)-(13320*M>>8)+8708)}function Ol(A,N){return Cl((19077*A>>8)+(33050*N>>8)-17685)}function kl(A,N,M,G,re){G[re+0]=Tl(A,M),G[re+1]=Es(A,N,M),G[re+2]=Ol(A,N)}function oc(A,N,M,G,re){G[re+0]=Ol(A,N),G[re+1]=Es(A,N,M),G[re+2]=Tl(A,M)}function Qn(A,N,M,G,re){var le=Es(A,N,M);N=le<<3&224|Ol(A,N)>>3,G[re+0]=248&Tl(A,M)|le>>5,G[re+1]=N}function Zs(A,N,M,G,re){var le=240&Ol(A,N)|15;G[re+0]=240&Tl(A,M)|Es(A,N,M)>>4,G[re+1]=le}function sc(A,N,M,G,re){G[re+0]=255,kl(A,N,M,G,re+1)}function Js(A,N,M,G,re){oc(A,N,M,G,re),G[re+3]=255}function yf(A,N,M,G,re){kl(A,N,M,G,re),G[re+3]=255}function on(A,N){return 0>A?0:A>N?N:A}function po(A,N,M){B[A]=function(G,re,le,ce,he,pe,Ce,Be,tt){for(var Te=Be+(-2&tt)*M;Be!=Te;)N(G[re+0],le[ce+0],he[pe+0],Ce,Be),N(G[re+1],le[ce+0],he[pe+0],Ce,Be+M),re+=2,++ce,++pe,Be+=2*M;1&tt&&N(G[re+0],le[ce+0],he[pe+0],Ce,Be)}}function $i(A,N,M){return M==0?A==0?N==0?6:5:N==0?4:0:M}function wf(A,N,M,G,re){switch(A>>>30){case 3:je(N,M,G,re,0);break;case 2:Ve(N,M,G,re);break;case 1:vt(N,M,G,re)}}function ei(A,N){var M,G,re=N.M,le=N.Nb,ce=A.oc,he=A.pc+40,pe=A.oc,Ce=A.pc+584,Be=A.oc,tt=A.pc+600;for(M=0;16>M;++M)ce[he+32*M-1]=129;for(M=0;8>M;++M)pe[Ce+32*M-1]=129,Be[tt+32*M-1]=129;for(0<re?ce[he-1-32]=pe[Ce-1-32]=Be[tt-1-32]=129:(i(ce,he-32-1,127,21),i(pe,Ce-32-1,127,9),i(Be,tt-32-1,127,9)),G=0;G<A.za;++G){var Te=N.ya[N.aa+G];if(0<G){for(M=-1;16>M;++M)n(ce,he+32*M-4,ce,he+32*M+12,4);for(M=-1;8>M;++M)n(pe,Ce+32*M-4,pe,Ce+32*M+4,4),n(Be,tt+32*M-4,Be,tt+32*M+4,4)}var Ue=A.Gd,Xe=A.Hd+G,dt=Te.ad,et=Te.Hc;if(0<re&&(n(ce,he-32,Ue[Xe].y,0,16),n(pe,Ce-32,Ue[Xe].f,0,8),n(Be,tt-32,Ue[Xe].ea,0,8)),Te.Za){var mt=ce,bt=he-32+16;for(0<re&&(G>=A.za-1?i(mt,bt,Ue[Xe].y[15],4):n(mt,bt,Ue[Xe+1].y,0,4)),M=0;4>M;M++)mt[bt+128+M]=mt[bt+256+M]=mt[bt+384+M]=mt[bt+0+M];for(M=0;16>M;++M,et<<=2)mt=ce,bt=he+GA[M],el[Te.Ob[M]](mt,bt),wf(et,dt,16*+M,mt,bt)}else if(mt=$i(G,re,Te.Ob[0]),su[mt](ce,he),et!=0)for(M=0;16>M;++M,et<<=2)wf(et,dt,16*+M,ce,he+GA[M]);for(M=Te.Gc,mt=$i(G,re,Te.Dd),hc[mt](pe,Ce),hc[mt](Be,tt),et=dt,mt=pe,bt=Ce,255&(Te=0|M)&&(170&Te?rt(et,256,mt,bt):_t(et,256,mt,bt)),Te=Be,et=tt,255&(M>>=8)&&(170&M?rt(dt,320,Te,et):_t(dt,320,Te,et)),re<A.Ub-1&&(n(Ue[Xe].y,0,ce,he+480,16),n(Ue[Xe].f,0,pe,Ce+224,8),n(Ue[Xe].ea,0,Be,tt+224,8)),M=8*le*A.B,Ue=A.sa,Xe=A.ta+16*G+16*le*A.R,dt=A.qa,Te=A.ra+8*G+M,et=A.Ha,mt=A.Ia+8*G+M,M=0;16>M;++M)n(Ue,Xe+M*A.R,ce,he+32*M,16);for(M=0;8>M;++M)n(dt,Te+M*A.B,pe,Ce+32*M,8),n(et,mt+M*A.B,Be,tt+32*M,8)}}function lc(A,N,M,G,re,le,ce,he,pe){var Ce=[0],Be=[0],tt=0,Te=pe!=null?pe.kd:0,Ue=pe??new gt;if(A==null||12>M)return 7;Ue.data=A,Ue.w=N,Ue.ha=M,N=[N],M=[M],Ue.gb=[Ue.gb];e:{var Xe=N,dt=M,et=Ue.gb;if(t(A!=null),t(dt!=null),t(et!=null),et[0]=0,12<=dt[0]&&!r(A,Xe[0],"RIFF")){if(r(A,Xe[0]+8,"WEBP")){et=3;break e}var mt=Fe(A,Xe[0]+4);if(12>mt||4294967286<mt){et=3;break e}if(Te&&mt>dt[0]-8){et=7;break e}et[0]=mt,Xe[0]+=12,dt[0]-=12}et=0}if(et!=0)return et;for(mt=0<Ue.gb[0],M=M[0];;){e:{var bt=A;dt=N,et=M;var Nt=Ce,Tt=Be,ur=Xe=[0];if((or=tt=[tt])[0]=0,8>et[0])et=7;else{if(!r(bt,dt[0],"VP8X")){if(Fe(bt,dt[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Qt=Fe(bt,dt[0]+8),Br=1+st(bt,dt[0]+12);if(2147483648<=Br*(bt=1+st(bt,dt[0]+15))){et=3;break e}ur!=null&&(ur[0]=Qt),Nt!=null&&(Nt[0]=Br),Tt!=null&&(Tt[0]=bt),dt[0]+=18,et[0]-=18,or[0]=1}et=0}}if(tt=tt[0],Xe=Xe[0],et!=0)return et;if(dt=!!(2&Xe),!mt&&tt)return 3;if(le!=null&&(le[0]=!!(16&Xe)),ce!=null&&(ce[0]=dt),he!=null&&(he[0]=0),ce=Ce[0],Xe=Be[0],tt&&dt&&pe==null){et=0;break}if(4>M){et=7;break}if(mt&&tt||!mt&&!tt&&!r(A,N[0],"ALPH")){M=[M],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Qt=A,et=N,mt=M;var or=Ue.gb;Nt=Ue.na,Tt=Ue.P,ur=Ue.Sa,Br=22,t(Qt!=null),t(mt!=null),bt=et[0];var Xr=mt[0];for(t(Nt!=null),t(ur!=null),Nt[0]=null,Tt[0]=null,ur[0]=0;;){if(et[0]=bt,mt[0]=Xr,8>Xr){et=7;break e}var zi=Fe(Qt,bt+4);if(4294967286<zi){et=3;break e}var Ur=8+zi+1&-2;if(Br+=Ur,0<or&&Br>or){et=3;break e}if(!r(Qt,bt,"VP8 ")||!r(Qt,bt,"VP8L")){et=0;break e}if(Xr[0]<Ur){et=7;break e}r(Qt,bt,"ALPH")||(Nt[0]=Qt,Tt[0]=bt+8,ur[0]=zi),bt+=Ur,Xr-=Ur}}if(M=M[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],et!=0)break}M=[M],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(or=A,et=N,mt=M,Nt=Ue.gb[0],Tt=Ue.Ja,ur=Ue.xa,Qt=et[0],bt=!r(or,Qt,"VP8 "),Br=!r(or,Qt,"VP8L"),t(or!=null),t(mt!=null),t(Tt!=null),t(ur!=null),8>mt[0])et=7;else{if(bt||Br){if(or=Fe(or,Qt+4),12<=Nt&&or>Nt-12){et=3;break e}if(Te&&or>mt[0]-8){et=7;break e}Tt[0]=or,et[0]+=8,mt[0]-=8,ur[0]=Br}else ur[0]=5<=mt[0]&&or[Qt+0]==47&&!(or[Qt+4]>>5),Tt[0]=mt[0];et=0}if(M=M[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],N=N[0],et!=0)break;if(4294967286<Ue.Ja)return 3;if(he==null||dt||(he[0]=Ue.xa?2:1),ce=[ce],Xe=[Xe],Ue.xa){if(5>M){et=7;break}he=ce,Te=Xe,dt=le,A==null||5>M?A=0:5<=M&&A[N+0]==47&&!(A[N+4]>>5)?(mt=[0],or=[0],Nt=[0],_e(Tt=new Y,A,N,M),Bi(Tt,mt,or,Nt)?(he!=null&&(he[0]=mt[0]),Te!=null&&(Te[0]=or[0]),dt!=null&&(dt[0]=Nt[0]),A=1):A=0):A=0}else{if(10>M){et=7;break}he=Xe,A==null||10>M||!Vn(A,N+3,M-3)?A=0:(Te=A[N+0]|A[N+1]<<8|A[N+2]<<16,dt=16383&(A[N+7]<<8|A[N+6]),A=16383&(A[N+9]<<8|A[N+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ue.Ja||!dt||!A?A=0:(ce&&(ce[0]=dt),he&&(he[0]=A),A=1))}if(!A||(ce=ce[0],Xe=Xe[0],tt&&(Ce[0]!=ce||Be[0]!=Xe)))return 3;pe!=null&&(pe[0]=Ue,pe.offset=N-pe.w,t(4294967286>N-pe.w),t(pe.offset==pe.ha-M));break}return et==0||et==7&&tt&&pe==null?(le!=null&&(le[0]|=Ue.na!=null&&0<Ue.na.length),G!=null&&(G[0]=ce),re!=null&&(re[0]=Xe),0):et}function cc(A,N,M){var G=N.width,re=N.height,le=0,ce=0,he=G,pe=re;if(N.Da=A!=null&&0<A.Da,N.Da&&(he=A.cd,pe=A.bd,le=A.v,ce=A.j,11>M||(le&=-2,ce&=-2),0>le||0>ce||0>=he||0>=pe||le+he>G||ce+pe>re))return 0;if(N.v=le,N.j=ce,N.va=le+he,N.o=ce+pe,N.U=he,N.T=pe,N.da=A!=null&&0<A.da,N.da){if(!Ot(he,pe,M=[A.ib],le=[A.hb]))return 0;N.ib=M[0],N.hb=le[0]}return N.ob=A!=null&&A.ob,N.Kb=A==null||!A.Sd,N.da&&(N.ob=N.ib<3*G/4&&N.hb<3*re/4,N.Kb=0),1}function bf(A){if(A==null)return 2;if(11>A.S){var N=A.f.RGBA;N.fb+=(A.height-1)*N.A,N.A=-N.A}else N=A.f.kb,A=A.height,N.O+=(A-1)*N.fa,N.fa=-N.fa,N.N+=(A-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(A-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(A-1)*N.lb,N.lb=-N.lb);return 0}function Qs(A,N,M,G){if(G==null||0>=A||0>=N)return 2;if(M!=null){if(M.Da){var re=M.cd,le=M.bd,ce=-2&M.v,he=-2&M.j;if(0>ce||0>he||0>=re||0>=le||ce+re>A||he+le>N)return 2;A=re,N=le}if(M.da){if(!Ot(A,N,re=[M.ib],le=[M.hb]))return 2;A=re[0],N=le[0]}}G.width=A,G.height=N;e:{var pe=G.width,Ce=G.height;if(A=G.S,0>=pe||0>=Ce||!(A>=bg&&13>A))A=2;else{if(0>=G.Rd&&G.sd==null){ce=le=re=N=0;var Be=(he=pe*KA[A])*Ce;if(11>A||(le=(Ce+1)/2*(N=(pe+1)/2),A==12&&(ce=(re=pe)*Ce)),(Ce=a(Be+2*le+ce))==null){A=1;break e}G.sd=Ce,11>A?((pe=G.f.RGBA).eb=Ce,pe.fb=0,pe.A=he,pe.size=Be):((pe=G.f.kb).y=Ce,pe.O=0,pe.fa=he,pe.Fd=Be,pe.f=Ce,pe.N=0+Be,pe.Ab=N,pe.Cd=le,pe.ea=Ce,pe.W=0+Be+le,pe.Db=N,pe.Ed=le,A==12&&(pe.F=Ce,pe.J=0+Be+2*le),pe.Tc=ce,pe.lb=re)}if(N=1,re=G.S,le=G.width,ce=G.height,re>=bg&&13>re)if(11>re)A=G.f.RGBA,N&=(he=Math.abs(A.A))*(ce-1)+le<=A.size,N&=he>=le*KA[re],N&=A.eb!=null;else{A=G.f.kb,he=(le+1)/2,Be=(ce+1)/2,pe=Math.abs(A.fa),Ce=Math.abs(A.Ab);var tt=Math.abs(A.Db),Te=Math.abs(A.lb),Ue=Te*(ce-1)+le;N&=pe*(ce-1)+le<=A.Fd,N&=Ce*(Be-1)+he<=A.Cd,N=(N&=tt*(Be-1)+he<=A.Ed)&pe>=le&Ce>=he&tt>=he,N&=A.y!=null,N&=A.f!=null,N&=A.ea!=null,re==12&&(N&=Te>=le,N&=Ue<=A.Tc,N&=A.F!=null)}else N=0;A=N?0:2}}return A!=0||M!=null&&M.fd&&(A=bf(G)),A}var ra=64,Ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ma=24,go=32,Lr=8,Fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(A){return A},B.Predictor2=function(A,N,M){return N[M+0]},B.Predictor3=function(A,N,M){return N[M+1]},B.Predictor4=function(A,N,M){return N[M-1]},B.Predictor5=function(A,N,M){return Ht(Ht(A,N[M+1]),N[M+0])},B.Predictor6=function(A,N,M){return Ht(A,N[M-1])},B.Predictor7=function(A,N,M){return Ht(A,N[M+0])},B.Predictor8=function(A,N,M){return Ht(N[M-1],N[M+0])},B.Predictor9=function(A,N,M){return Ht(N[M+0],N[M+1])},B.Predictor10=function(A,N,M){return Ht(Ht(A,N[M-1]),Ht(N[M+0],N[M+1]))},B.Predictor11=function(A,N,M){var G=N[M+0];return 0>=Jt(G>>24&255,A>>24&255,(N=N[M-1])>>24&255)+Jt(G>>16&255,A>>16&255,N>>16&255)+Jt(G>>8&255,A>>8&255,N>>8&255)+Jt(255&G,255&A,255&N)?G:A},B.Predictor12=function(A,N,M){var G=N[M+0];return(cr((A>>24&255)+(G>>24&255)-((N=N[M-1])>>24&255))<<24|cr((A>>16&255)+(G>>16&255)-(N>>16&255))<<16|cr((A>>8&255)+(G>>8&255)-(N>>8&255))<<8|cr((255&A)+(255&G)-(255&N)))>>>0},B.Predictor13=function(A,N,M){var G=N[M-1];return(lr((A=Ht(A,N[M+0]))>>24&255,G>>24&255)<<24|lr(A>>16&255,G>>16&255)<<16|lr(A>>8&255,G>>8&255)<<8|lr(255&A,255&G))>>>0};var Z=B.PredictorAdd0;B.PredictorAdd1=te,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var l=B.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var f,d=B.ColorIndexInverseTransform,m=B.MapARGB,x=B.VP8LColorIndexInverseTransformAlpha,w=B.MapAlpha,C=B.VP8LPredictorsAdd=[];C.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var P,R,V,J,se,Ee,Le,je,Ve,rt,vt,_t,yt,dr,wr,ki,na,Wi,cn,Ni,ja,uc,fc,yg,_f,kA,NA,PA,IA=a(511),RA=a(2041),LA=a(225),DA=a(767),jA=0,Ny=RA,wg=LA,Bo=DA,Ss=IA,bg=0,_g=1,MA=2,Eg=3,Sg=4,Py=5,FA=6,Iy=7,Ry=8,Ag=9,Ly=10,MU=[2,3,7],FU=[3,3,11],BA=[280,256,256,256,40],BU=[0,1,1,1,0],UU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$U=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WU=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zU=8,Dy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Md=null,HU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VU=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],UA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],GU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],su=[],el=[],hc=[],YU=1,$A=2,lu=[],As=[];Da("UpsampleRgbLinePair",kl,3),Da("UpsampleBgrLinePair",oc,3),Da("UpsampleRgbaLinePair",yf,4),Da("UpsampleBgraLinePair",Js,4),Da("UpsampleArgbLinePair",sc,4),Da("UpsampleRgba4444LinePair",Zs,2),Da("UpsampleRgb565LinePair",Qn,2);var ZU=B.UpsampleRgbLinePair,JU=B.UpsampleBgrLinePair,WA=B.UpsampleRgbaLinePair,zA=B.UpsampleBgraLinePair,HA=B.UpsampleArgbLinePair,VA=B.UpsampleRgba4444LinePair,QU=B.UpsampleRgb565LinePair,Cg=16,Tg=1<<Cg-1,Fd=-227,My=482,e$=6,qA=0,t$=a(256),r$=a(256),n$=a(256),i$=a(256),a$=a(My-Fd),o$=a(My-Fd);po("YuvToRgbRow",kl,3),po("YuvToBgrRow",oc,3),po("YuvToRgbaRow",yf,4),po("YuvToBgraRow",Js,4),po("YuvToArgbRow",sc,4),po("YuvToRgba4444Row",Zs,2),po("YuvToRgb565Row",Qn,2);var GA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Og=[0,2,8],s$=[8,7,6,4,4,2,2,2,1,1,1,1],l$=1;this.WebPDecodeRGBA=function(A,N,M,G,re){var le=_g,ce=new He,he=new mr;ce.ba=he,he.S=le,he.width=[he.width],he.height=[he.height];var pe=he.width,Ce=he.height,Be=new nr;if(Be==null||A==null)var tt=2;else t(Be!=null),tt=lc(A,N,M,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(tt!=0?pe=0:(pe!=null&&(pe[0]=Be.width[0]),Ce!=null&&(Ce[0]=Be.height[0]),pe=1),pe){he.width=he.width[0],he.height=he.height[0],G!=null&&(G[0]=he.width),re!=null&&(re[0]=he.height);e:{if(G=new Ci,(re=new gt).data=A,re.w=N,re.ha=M,re.kd=1,N=[0],t(re!=null),((A=lc(re.data,re.w,re.ha,null,null,null,N,null,re))==0||A==7)&&N[0]&&(A=4),(N=A)==0){if(t(ce!=null),G.data=re.data,G.w=re.w+re.offset,G.ha=re.ha-re.offset,G.put=Vt,G.ac=kn,G.bc=_n,G.ma=ce,re.xa){if((A=Ge())==null){ce=1;break e}if(function(Te,Ue){var Xe=[0],dt=[0],et=[0];t:for(;;){if(Te==null)return 0;if(Ue==null)return Te.a=2,0;if(Te.l=Ue,Te.a=0,_e(Te.m,Ue.data,Ue.w,Ue.ha),!Bi(Te.m,Xe,dt,et)){Te.a=3;break t}if(Te.xb=$A,Ue.width=Xe[0],Ue.height=dt[0],!Ye(Xe[0],dt[0],1,Te,null))break t;return 1}return t(Te.a!=0),0}(A,G)){if(G=(N=Qs(G.width,G.height,ce.Oa,ce.ba))==0){t:{G=A;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((M=G.l)!=null),t((re=M.ma)!=null),G.xb!=0){if(G.ca=re.ba,G.tb=re.tb,t(G.ca!=null),!cc(re.Oa,M,Eg)){G.a=2;break r}if(!qe(G,M.width)||M.da)break r;if((M.da||$t(G.ca.S))&&Ui(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Ui()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!me(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Ke(G,G.V,G.Ba,G.c,G.i,M.o,de))break r;re.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(N=A.a)}else N=A.a}else{if((A=new mf)==null){ce=1;break e}if(A.Fa=re.na,A.P=re.P,A.qc=re.Sa,Lo(A,G)){if((N=Qs(G.width,G.height,ce.Oa,ce.ba))==0){if(A.Aa=0,M=ce.Oa,t((re=A)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(Ce=Be=0;4>Ce;++Ce)12>(tt=re.pb[Ce]).lc&&(tt.ia=pe*s$[0>tt.lc?0:tt.lc]>>3),Be|=tt.ia;Be&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=M.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(Te,Ue){if(Te==null)return 0;if(Ue==null)return Hn(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!Lo(Te,Ue))return 0;if(t(Te.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(Te.L=0);var Xe=Og[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Ue.v-Xe>>4,Te.zb=Ue.j-Xe>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Ue.o+15+Xe>>4,Te.Hb=Ue.va+15+Xe>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var dt=Te.ed;for(Xe=0;4>Xe;++Xe){var et;if(Te.Qa.Cb){var mt=Te.Qa.Lb[Xe];Te.Qa.Fb||(mt+=dt.Tb)}else mt=dt.Tb;for(et=0;1>=et;++et){var bt=Te.gd[Xe][et],Nt=mt;if(dt.Pc&&(Nt+=dt.vd[0],et&&(Nt+=dt.od[0])),0<(Nt=0>Nt?0:63<Nt?63:Nt)){var Tt=Nt;0<dt.wb&&(Tt=4<dt.wb?Tt>>2:Tt>>1)>9-dt.wb&&(Tt=9-dt.wb),1>Tt&&(Tt=1),bt.dd=Tt,bt.tc=2*Nt+Tt,bt.ld=40<=Nt?2:15<=Nt?1:0}else bt.tc=0;bt.La=et}}}Xe=0}else Hn(Te,6,"Frame setup failed"),Xe=Te.a;if(Xe=Xe==0){if(Xe){Te.$c=0,0<Te.Aa||(Te.Ic=l$);t:{Xe=Te.Ic,dt=4*(Tt=Te.za);var ur=32*Tt,Qt=Tt+1,Br=0<Te.L?Tt*(0<Te.Aa?2:1):0,or=(Te.Aa==2?2:1)*Tt;if((bt=dt+832+(et=3*(16*Xe+Og[Te.L])/2*ur)+(mt=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=bt)Xe=0;else{if(bt>Te.Vb){if(Te.Vb=0,Te.Ec=a(bt),Te.Fc=0,Te.Ec==null){Xe=Hn(Te,1,"no memory during frame initialization.");break t}Te.Vb=bt}bt=Te.Ec,Nt=Te.Fc,Te.Ac=bt,Te.Bc=Nt,Nt+=dt,Te.Gd=o(ur,kr),Te.Hd=0,Te.rb=o(Qt+1,Or),Te.sb=1,Te.wa=Br?o(Br,zr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=Tt),t(!0),Te.oc=bt,Te.pc=Nt,Nt+=832,Te.ya=o(or,Ro),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=Tt),Te.R=16*Tt,Te.B=8*Tt,Tt=(ur=Og[Te.L])*Te.R,ur=ur/2*Te.B,Te.sa=bt,Te.ta=Nt+Tt,Te.qa=Te.sa,Te.ra=Te.ta+16*Xe*Te.R+ur,Te.Ha=Te.qa,Te.Ia=Te.ra+8*Xe*Te.B+ur,Te.$c=0,Nt+=et,Te.mb=mt?bt:null,Te.nb=mt?Nt:null,t(Nt+mt<=Te.Fc+Te.Vb),un(Te),i(Te.Ac,Te.Bc,0,dt),Xe=1}}if(Xe){if(Ue.ka=0,Ue.y=Te.sa,Ue.O=Te.ta,Ue.f=Te.qa,Ue.N=Te.ra,Ue.ea=Te.Ha,Ue.Vd=Te.Ia,Ue.fa=Te.R,Ue.Rc=Te.B,Ue.F=null,Ue.J=0,!jA){for(Xe=-255;255>=Xe;++Xe)IA[255+Xe]=0>Xe?-Xe:Xe;for(Xe=-1020;1020>=Xe;++Xe)RA[1020+Xe]=-128>Xe?-128:127<Xe?127:Xe;for(Xe=-112;112>=Xe;++Xe)LA[112+Xe]=-16>Xe?-16:15<Xe?15:Xe;for(Xe=-255;510>=Xe;++Xe)DA[255+Xe]=0>Xe?0:255<Xe?255:Xe;jA=1}Le=ga,je=Je,rt=ve,vt=qt,_t=Jn,Ve=Oi,yt=ic,dr=Mo,wr=I,ki=Q,na=ac,Wi=it,cn=Se,Ni=De,ja=ou,uc=nc,fc=Rh,yg=Lh,el[0]=xr,el[1]=Yl,el[2]=Jl,el[3]=ys,el[4]=Dd,el[5]=Sn,el[6]=_r,el[7]=jd,el[8]=Ql,el[9]=xf,su[0]=xs,su[1]=hr,su[2]=En,su[3]=ru,su[4]=nu,su[5]=Xs,su[6]=vf,hc[0]=bs,hc[1]=La,hc[2]=Do,hc[3]=ec,hc[4]=iu,hc[5]=tc,hc[6]=Ys,Xe=1}else Xe=0}Xe&&(Xe=function(Xr,zi){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Ur,sr=Xr.Jc[Xr.M&Xr.Xb],Bt=Xr.m,mi=Xr;for(Ur=0;Ur<mi.za;++Ur){var Dr=Bt,Yr=mi,jn=Yr.Ac,va=Yr.Bc+4*Ur,Qa=Yr.zc,si=Yr.ya[Yr.aa+Ur];if(Yr.Qa.Bb?si.$b=Pe(Dr,Yr.Pa.jb[0])?2+Pe(Dr,Yr.Pa.jb[2]):Pe(Dr,Yr.Pa.jb[1]):si.$b=0,Yr.kc&&(si.Ad=Pe(Dr,Yr.Bd)),si.Za=!Pe(Dr,145)+0,si.Za){var Ma=si.Ob,eo=0;for(Yr=0;4>Yr;++Yr){var Hi,Jr=Qa[0+Yr];for(Hi=0;4>Hi;++Hi){Jr=GU[jn[va+Hi]][Jr];for(var fn=UA[Pe(Dr,Jr[0])];0<fn;)fn=UA[2*fn+Pe(Dr,Jr[fn])];Jr=-fn,jn[va+Hi]=Jr}n(Ma,eo,jn,va,4),eo+=4,Qa[0+Yr]=Jr}}else Jr=Pe(Dr,156)?Pe(Dr,128)?1:3:Pe(Dr,163)?2:0,si.Ob[0]=Jr,i(jn,va,Jr,4),i(Qa,0,Jr,4);si.Dd=Pe(Dr,142)?Pe(Dr,114)?Pe(Dr,183)?1:3:2:0}if(mi.m.Ka)return Hn(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(mi=sr,Dr=(Bt=Xr).rb[Bt.sb-1],jn=Bt.rb[Bt.sb+Bt.ja],Ur=Bt.ya[Bt.aa+Bt.ja],va=Bt.kc?Ur.Ad:0)Dr.la=jn.la=0,Ur.Za||(Dr.Na=jn.Na=0),Ur.Hc=0,Ur.Gc=0,Ur.ia=0;else{var li,hn;if(Dr=jn,jn=mi,va=Bt.Pa.Xc,Qa=Bt.ya[Bt.aa+Bt.ja],si=Bt.pb[Qa.$b],Yr=Qa.ad,Ma=0,eo=Bt.rb[Bt.sb-1],Jr=Hi=0,i(Yr,Ma,0,384),Qa.Za)var xa=0,tl=va[3];else{fn=a(16);var vi=Dr.Na+eo.Na;if(vi=Md(jn,va[1],vi,si.Eb,0,fn,0),Dr.Na=eo.Na=(0<vi)+0,1<vi)Le(fn,0,Yr,Ma);else{var mo=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Yr[Ma+fn]=mo}xa=1,tl=va[0]}var An=15&Dr.la,Vi=15&eo.la;for(fn=0;4>fn;++fn){var Uo=1&Vi;for(mo=hn=0;4>mo;++mo)An=An>>1|(Uo=(vi=Md(jn,tl,vi=Uo+(1&An),si.Sc,xa,Yr,Ma))>xa)<<7,hn=hn<<2|(3<vi?3:1<vi?2:Yr[Ma+0]!=0),Ma+=16;An>>=4,Vi=Vi>>1|Uo<<7,Hi=(Hi<<8|hn)>>>0}for(tl=An,xa=Vi>>4,li=0;4>li;li+=2){for(hn=0,An=Dr.la>>4+li,Vi=eo.la>>4+li,fn=0;2>fn;++fn){for(Uo=1&Vi,mo=0;2>mo;++mo)vi=Uo+(1&An),An=An>>1|(Uo=0<(vi=Md(jn,va[2],vi,si.Qc,0,Yr,Ma)))<<3,hn=hn<<2|(3<vi?3:1<vi?2:Yr[Ma+0]!=0),Ma+=16;An>>=2,Vi=Vi>>1|Uo<<5}Jr|=hn<<4*li,tl|=An<<4<<li,xa|=(240&Vi)<<li}Dr.la=tl,eo.la=xa,Qa.Hc=Hi,Qa.Gc=Jr,Qa.ia=43690&Jr?0:si.ia,va=!(Hi|Jr)}if(0<Bt.L&&(Bt.wa[Bt.Y+Bt.ja]=Bt.gd[Ur.$b][Ur.Za],Bt.wa[Bt.Y+Bt.ja].La|=!va),mi.Ka)return Hn(Xr,7,"Premature end-of-file encountered.")}if(un(Xr),Bt=zi,mi=1,Ur=(sr=Xr).D,Dr=0<sr.L&&sr.M>=sr.zb&&sr.M<=sr.Va,sr.Aa==0)t:{if(Ur.M=sr.M,Ur.uc=Dr,ei(sr,Ur),mi=1,Ur=(hn=sr.D).Nb,Dr=(Jr=Og[sr.L])*sr.R,jn=Jr/2*sr.B,fn=16*Ur*sr.R,mo=8*Ur*sr.B,va=sr.sa,Qa=sr.ta-Dr+fn,si=sr.qa,Yr=sr.ra-jn+mo,Ma=sr.Ha,eo=sr.Ia-jn+mo,Vi=(An=hn.M)==0,Hi=An>=sr.Va-1,sr.Aa==2&&ei(sr,hn),hn.uc)for(Uo=(vi=sr).D.M,t(vi.D.uc),hn=vi.yb;hn<vi.Hb;++hn){xa=hn,tl=Uo;var to=($o=(ya=vi).D).Nb;li=ya.R;var $o=$o.wa[$o.Y+xa],Wo=ya.sa,vo=ya.ta+16*to*li+16*xa,zo=$o.dd,Nn=$o.tc;if(Nn!=0)if(t(3<=Nn),ya.L==1)0<xa&&uc(Wo,vo,li,Nn+4),$o.La&&yg(Wo,vo,li,Nn),0<tl&&ja(Wo,vo,li,Nn+4),$o.La&&fc(Wo,vo,li,Nn);else{var Ho=ya.B,rl=ya.qa,Ef=ya.ra+8*to*Ho+8*xa,dc=ya.Ha,ya=ya.Ia+8*to*Ho+8*xa;to=$o.ld,0<xa&&(dr(Wo,vo,li,Nn+4,zo,to),ki(rl,Ef,dc,ya,Ho,Nn+4,zo,to)),$o.La&&(Wi(Wo,vo,li,Nn,zo,to),Ni(rl,Ef,dc,ya,Ho,Nn,zo,to)),0<tl&&(yt(Wo,vo,li,Nn+4,zo,to),wr(rl,Ef,dc,ya,Ho,Nn+4,zo,to)),$o.La&&(na(Wo,vo,li,Nn,zo,to),cn(rl,Ef,dc,ya,Ho,Nn,zo,to))}}if(sr.ia&&alert("todo:DitherRow"),Bt.put!=null){if(hn=16*An,An=16*(An+1),Vi?(Bt.y=sr.sa,Bt.O=sr.ta+fn,Bt.f=sr.qa,Bt.N=sr.ra+mo,Bt.ea=sr.Ha,Bt.W=sr.Ia+mo):(hn-=Jr,Bt.y=va,Bt.O=Qa,Bt.f=si,Bt.N=Yr,Bt.ea=Ma,Bt.W=eo),Hi||(An-=Jr),An>Bt.o&&(An=Bt.o),Bt.F=null,Bt.J=null,sr.Fa!=null&&0<sr.Fa.length&&hn<An&&(Bt.J=Sr(sr,Bt,hn,An-hn),Bt.F=sr.mb,Bt.F==null&&Bt.F.length==0)){mi=Hn(sr,3,"Could not decode alpha data.");break t}hn<Bt.j&&(Jr=Bt.j-hn,hn=Bt.j,t(!(1&Jr)),Bt.O+=sr.R*Jr,Bt.N+=sr.B*(Jr>>1),Bt.W+=sr.B*(Jr>>1),Bt.F!=null&&(Bt.J+=Bt.width*Jr)),hn<An&&(Bt.O+=Bt.v,Bt.N+=Bt.v>>1,Bt.W+=Bt.v>>1,Bt.F!=null&&(Bt.J+=Bt.v),Bt.ka=hn-Bt.j,Bt.U=Bt.va-Bt.v,Bt.T=An-hn,mi=Bt.put(Bt))}Ur+1!=sr.Ic||Hi||(n(sr.sa,sr.ta-Dr,va,Qa+16*sr.R,Dr),n(sr.qa,sr.ra-jn,si,Yr+8*sr.B,jn),n(sr.Ha,sr.Ia-jn,Ma,eo+8*sr.B,jn))}if(!mi)return Hn(Xr,6,"Output aborted.")}return 1}(Te,Ue)),Ue.bc!=null&&Ue.bc(Ue),Xe&=1}return Xe?(Te.cb=0,Xe):0})(A,G)||(N=A.a)}}else N=A.a}N==0&&ce.Oa!=null&&ce.Oa.fd&&(N=bf(ce.ba))}ce=N}le=ce!=0?null:11>le?he.f.RGBA.eb:he.f.kb.y}else le=null;return le};var KA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,ee){for(var W="",U=0;U<4;U++)W+=String.fromCharCode(B[ee++]);return W}function h(B,ee){return B[ee+0]|B[ee+1]<<8}function p(B,ee){return(B[ee+0]|B[ee+1]<<8|B[ee+2]<<16)>>>0}function v(B,ee){return(B[ee+0]|B[ee+1]<<8|B[ee+2]<<16|B[ee+3]<<24)>>>0}new c;var g=[0],_=[0],b=[],E=new c,S=e,T=function(B,ee){var W={},U=0,K=!1,oe=0,ae=0;if(W.frames=[],!function(j,Y){for(var H=0;H<4;H++)if(j[Y+H]!="RIFF".charCodeAt(H))return!0;return!1}(B,ee)){for(v(B,ee+=4),ee+=8;ee<B.length;){var Re=u(B,ee),ke=v(B,ee+=4);ee+=4;var we=ke+(1&ke);switch(Re){case"VP8 ":case"VP8L":W.frames[U]===void 0&&(W.frames[U]={}),(We=W.frames[U]).src_off=K?ae:ee-8,We.src_size=oe+ke+8,U++,K&&(K=!1,oe=0,ae=0);break;case"VP8X":(We=W.header={}).feature_flags=B[ee];var _e=ee+4;We.canvas_width=1+p(B,_e),_e+=3,We.canvas_height=1+p(B,_e),_e+=3;break;case"ALPH":K=!0,oe=we+8,ae=ee-8;break;case"ANIM":(We=W.header).bgcolor=v(B,ee),_e=ee+4,We.loop_count=h(B,_e),_e+=2;break;case"ANMF":var $e,We;(We=W.frames[U]={}).offset_x=2*p(B,ee),ee+=3,We.offset_y=2*p(B,ee),ee+=3,We.width=1+p(B,ee),ee+=3,We.height=1+p(B,ee),ee+=3,We.duration=p(B,ee),ee+=3,$e=B[ee++],We.dispose=1&$e,We.blend=$e>>1&1}Re!="ANMF"&&(ee+=we)}return W}}(S,0);T.response=S,T.rgbaoutput=!0,T.dataurl=!1;var O=T.header?T.header:null,k=T.frames?T.frames:null;if(O){O.loop_counter=O.loop_count,g=[O.canvas_height],_=[O.canvas_width];for(var D=0;D<k.length&&k[D].blend!=0;D++);}var z=k[0],F=E.WebPDecodeRGBA(S,z.src_off,z.src_size,_,g);z.rgba=F,z.imgwidth=_[0],z.imgheight=g[0];for(var q=0;q<_[0]*g[0]*4;q++)b[q]=F[q];return this.width=_,this.height=g,this.data=b,this}(function(e){var t,r,n,i,a,o,s,c,u,h=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var p=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=j;Object.defineProperty(this,"pdf",{get:function(){return Y}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Fe){H=!!Fe}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Fe){X=!!Fe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Fe){isNaN(Fe)||(ne=Fe)}});var Oe=0;Object.defineProperty(this,"posY",{get:function(){return Oe},set:function(Fe){isNaN(Fe)||(Oe=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Fe){var me;typeof Fe=="number"?me=[Fe,Fe,Fe,Fe]:((me=new Array(4))[0]=Fe[0],me[1]=Fe.length>=2?Fe[1]:me[0],me[2]=Fe.length>=3?Fe[2]:me[0],me[3]=Fe.length>=4?Fe[3]:me[1]),u.margin=me}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(Fe){Ie=Fe}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(Fe){be=Fe}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Fe){Pe=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Fe){Fe instanceof h&&(u=Fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Fe){u.path=Fe}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Fe){ze=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var me;me=v(Fe),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var me=v(Fe);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var Me=null,st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Fe){Me=null,st=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var me;if(this.ctx.font=Fe,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var Dt=me[1];me[2];var lt=me[3],Ot=me[4];me[5];var ot=me[6],Ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ot)[2];Ot=Math.floor(Ut==="px"?parseFloat(Ot)*this.pdf.internal.scaleFactor:Ut==="em"?parseFloat(Ot)*this.pdf.getFontSize():parseFloat(Ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ot);var at=function(Et){var zt,Ne,xe=[],fe=Et.trim();if(fe==="")return Vw;if(fe in U6)return[U6[fe]];for(;fe!=="";){switch(Ne=null,zt=(fe=W6(fe)).charAt(0)){case'"':case"'":Ne=lY(fe.substring(1),zt);break;default:Ne=cY(fe)}if(Ne===null||(xe.push(Ne[0]),(fe=W6(Ne[1]))!==""&&fe.charAt(0)!==","))return Vw;fe=fe.replace(/^,/,"")}return xe}(ot);if(this.fontFaces){var gr=function(Et,zt){if(Me===null){var Ne=function(xe){var fe=[];return Object.keys(xe).forEach(function(Qe){xe[Qe].forEach(function(ft){var Ze=null;switch(ft){case"bold":Ze={family:Qe,weight:"bold"};break;case"italic":Ze={family:Qe,style:"italic"};break;case"bolditalic":Ze={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Qe}}Ze!==null&&(Ze.ref={name:Qe,style:ft},fe.push(Ze))})}),fe}(Et.getFontList());Me=function(xe){for(var fe={},Qe=0;Qe<xe.length;++Qe){var ft=Hw(xe[Qe]),Ze=ft.family,Rt=ft.stretch,$t=ft.style,fr=ft.weight;fe[Ze]=fe[Ze]||{},fe[Ze][Rt]=fe[Ze][Rt]||{},fe[Ze][Rt][$t]=fe[Ze][Rt][$t]||{},fe[Ze][Rt][$t][fr]=ft}return fe}(Ne.concat(zt))}return Me}(this.pdf,this.fontFaces),Ht=at.map(function(Et){return{family:Et,stretch:"normal",weight:lt,style:Dt}}),cr=function(Et,zt,Ne){for(var xe=(Ne=Ne||{}).defaultFontFamily||"times",fe=Object.assign({},sY,Ne.genericFontFamilies||{}),Qe=null,ft=null,Ze=0;Ze<zt.length;++Ze)if(fe[(Qe=Hw(zt[Ze])).family]&&(Qe.family=fe[Qe.family]),Et.hasOwnProperty(Qe.family)){ft=Et[Qe.family];break}if(!(ft=ft||Et[xe]))throw new Error("Could not find a font-family for the rule '"+$6(Qe)+"' and default family '"+xe+"'.");if(ft=function(Rt,$t){if($t[Rt])return $t[Rt];var fr=e_[Rt],er=fr<=e_.normal?-1:1,mr=B6($t,ZR,fr,er);if(!mr)throw new Error("Could not find a matching font-stretch value for "+Rt);return mr}(Qe.stretch,ft),ft=function(Rt,$t){if($t[Rt])return $t[Rt];for(var fr=YR[Rt],er=0;er<fr.length;++er)if($t[fr[er]])return $t[fr[er]];throw new Error("Could not find a matching font-style for "+Rt)}(Qe.style,ft),!(ft=function(Rt,$t){if($t[Rt])return $t[Rt];if(Rt===400&&$t[500])return $t[500];if(Rt===500&&$t[400])return $t[400];var fr=oY[Rt],er=B6($t,JR,fr,Rt<400?-1:1);if(!er)throw new Error("Could not find a matching font-weight for value "+Rt);return er}(Qe.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+$6(Qe)+"'.");return ft}(gr,Ht);this.pdf.setFont(cr.ref.name,cr.ref.style)}else{var lr="";(lt==="bold"||parseInt(lt,10)>=700||Dt==="bold")&&(lr="bold"),Dt==="italic"&&(lr+="italic"),lr.length===0&&(lr="normal");for(var Jt="",te={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<at.length;xt++){if(this.pdf.internal.getFont(at[xt],lr,{noFallback:!0,disableWarning:!0})!==void 0){Jt=at[xt];break}if(lr==="bolditalic"&&this.pdf.internal.getFont(at[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=at[xt],lr="bold";else if(this.pdf.internal.getFont(at[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=at[xt],lr="normal";break}}if(Jt===""){for(var wt=0;wt<at.length;wt++)if(te[at[wt]]){Jt=te[at[wt]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,lr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,We.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,We.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};p.prototype.setLineDash=function(j){this.lineDash=j},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){k.call(this,"fill",!1)},p.prototype.stroke=function(){k.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(j,Y){if(isNaN(j)||isNaN(Y))throw Cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(j,Y));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(j,Y)},p.prototype.closePath=function(){var j=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&mn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){j=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},p.prototype.lineTo=function(j,Y){if(isNaN(j)||isNaN(Y))throw Cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(j,Y));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},p.prototype.quadraticCurveTo=function(j,Y,H,X){if(isNaN(H)||isNaN(X)||isNaN(j)||isNaN(Y))throw Cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(H,X)),Oe=this.ctx.transform.applyToPoint(new o(j,Y));this.path.push({type:"qct",x1:Oe.x,y1:Oe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.bezierCurveTo=function(j,Y,H,X,ne,Oe){if(isNaN(ne)||isNaN(Oe)||isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X))throw Cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new o(ne,Oe)),be=this.ctx.transform.applyToPoint(new o(j,Y)),Pe=this.ctx.transform.applyToPoint(new o(H,X));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Pe.x,y2:Pe.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new o(Ie.x,Ie.y)},p.prototype.arc=function(j,Y,H,X,ne,Oe){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X)||isNaN(ne))throw Cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Oe=!!Oe,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new o(j,Y));j=Ie.x,Y=Ie.y;var be=this.ctx.transform.applyToPoint(new o(0,H)),Pe=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(be.x-Pe.x,2)+Math.pow(be.y-Pe.y,2))}Math.abs(ne-X)>=2*Math.PI&&(X=0,ne=2*Math.PI),this.path.push({type:"arc",x:j,y:Y,radius:H,startAngle:X,endAngle:ne,counterclockwise:Oe})},p.prototype.arcTo=function(j,Y,H,X,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(j,Y,H,X){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X))throw Cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,Y),this.lineTo(j+H,Y),this.lineTo(j+H,Y+X),this.lineTo(j,Y+X),this.lineTo(j,Y),this.lineTo(j+H,Y),this.lineTo(j,Y)},p.prototype.fillRect=function(j,Y,H,X){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X))throw Cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,Y,H,X),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(j,Y,H,X){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X))throw Cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(j,Y,H,X),this.stroke())},p.prototype.clearRect=function(j,Y,H,X){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X))throw Cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,Y,H,X))},p.prototype.save=function(j){j=typeof j!="boolean"||j;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},p.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(j){var Y,H,X,ne;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))Y=0,H=0,X=0,ne=0;else{var Oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Oe!==null)Y=parseInt(Oe[1]),H=parseInt(Oe[2]),X=parseInt(Oe[3]),ne=1;else if((Oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)Y=parseInt(Oe[1]),H=parseInt(Oe[2]),X=parseInt(Oe[3]),ne=parseFloat(Oe[4]);else{if(ne=1,typeof j=="string"&&j.charAt(0)!=="#"){var Ie=new zR(j);j=Ie.ok?Ie.toHex():"#000000"}j.length===4?(Y=j.substring(1,2),Y+=Y,H=j.substring(2,3),H+=H,X=j.substring(3,4),X+=X):(Y=j.substring(1,3),H=j.substring(3,5),X=j.substring(5,7)),Y=parseInt(Y,16),H=parseInt(H,16),X=parseInt(X,16)}}return{r:Y,g:H,b:X,a:ne,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(j,Y,H,X){if(isNaN(Y)||isNaN(H)||typeof j!="string")throw Cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!g.call(this)){var ne=we(this.ctx.transform.rotation),Oe=this.ctx.transform.scaleX;U.call(this,{text:j,x:Y,y:H,scale:Oe,angle:ne,align:this.textAlign,maxWidth:X})}},p.prototype.strokeText=function(j,Y,H,X){if(isNaN(Y)||isNaN(H)||typeof j!="string")throw Cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){X=isNaN(X)?void 0:X;var ne=we(this.ctx.transform.rotation),Oe=this.ctx.transform.scaleX;U.call(this,{text:j,x:Y,y:H,scale:Oe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:X})}},p.prototype.measureText=function(j){if(typeof j!="string")throw Cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,H=this.pdf.internal.scaleFactor,X=Y.internal.getFontSize(),ne=Y.getStringUnitWidth(j)*X/Y.internal.scaleFactor;return new function(Oe){var Ie=(Oe=Oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this}({width:ne*=Math.round(96*H/72*1e4)/1e4})},p.prototype.scale=function(j,Y){if(isNaN(j)||isNaN(Y))throw Cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(j,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.rotate=function(j){if(isNaN(j))throw Cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.translate=function(j,Y){if(isNaN(j)||isNaN(Y))throw Cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,j,Y);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.transform=function(j,Y,H,X,ne,Oe){if(isNaN(j)||isNaN(Y)||isNaN(H)||isNaN(X)||isNaN(ne)||isNaN(Oe))throw Cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new c(j,Y,H,X,ne,Oe);this.ctx.transform=this.ctx.transform.multiply(Ie)},p.prototype.setTransform=function(j,Y,H,X,ne,Oe){j=isNaN(j)?1:j,Y=isNaN(Y)?0:Y,H=isNaN(H)?0:H,X=isNaN(X)?1:X,ne=isNaN(ne)?0:ne,Oe=isNaN(Oe)?0:Oe,this.ctx.transform=new c(j,Y,H,X,ne,Oe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(j,Y,H,X,ne,Oe,Ie,be,Pe){var ze=this.pdf.getImageProperties(j),Me=1,st=1,Fe=1,me=1;X!==void 0&&be!==void 0&&(Fe=be/X,me=Pe/ne,Me=ze.width/X*be/X,st=ze.height/ne*Pe/ne),Oe===void 0&&(Oe=Y,Ie=H,Y=0,H=0),X!==void 0&&be===void 0&&(be=X,Pe=ne),X===void 0&&be===void 0&&(be=ze.width,Pe=ze.height);for(var Dt,lt=this.ctx.transform.decompose(),Ot=we(lt.rotate.shx),ot=new c,Ut=(ot=(ot=(ot=ot.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new s(Oe-Y*Fe,Ie-H*me,X*Me,ne*st)),at=E.call(this,Ut),gr=[],Ht=0;Ht<at.length;Ht+=1)gr.indexOf(at[Ht])===-1&&gr.push(at[Ht]);if(O(gr),this.autoPaging)for(var cr=gr[0],lr=gr[gr.length-1],Jt=cr;Jt<lr+1;Jt++){this.pdf.setPage(Jt);var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Jt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Jt===1?0:wt+(Jt-2)*Et;if(this.ctx.clip_path.length!==0){var Ne=this.path;Dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Dt,this.posX+this.margin[3],-zt+xt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Ne}var xe=JSON.parse(JSON.stringify(Ut));xe=T([xe],this.posX+this.margin[3],-zt+xt+this.ctx.prevPageLastElemOffset)[0];var fe=(Jt>cr||Jt<lr)&&b.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,Et,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,Ot),fe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Ot)};var E=function(j,Y,H){var X=[];Y=Y||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":X.push(Math.floor((j.y+ne)/H)+1);break;case"arc":X.push(Math.floor((j.y+ne-j.radius)/H)+1),X.push(Math.floor((j.y+ne+j.radius)/H)+1);break;case"qct":var Oe=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);X.push(Math.floor((Oe.y+ne)/H)+1),X.push(Math.floor((Oe.y+Oe.h+ne)/H)+1);break;case"bct":var Ie=$e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);X.push(Math.floor((Ie.y+ne)/H)+1),X.push(Math.floor((Ie.y+Ie.h+ne)/H)+1);break;case"rect":X.push(Math.floor((j.y+ne)/H)+1),X.push(Math.floor((j.y+j.h+ne)/H)+1)}for(var be=0;be<X.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<X[be];)S.call(this);return X},S=function(){var j=this.fillStyle,Y=this.strokeStyle,H=this.font,X=this.lineCap,ne=this.lineWidth,Oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=Y,this.font=H,this.lineCap=X,this.lineWidth=ne,this.lineJoin=Oe},T=function(j,Y,H){for(var X=0;X<j.length;X++)switch(j[X].type){case"bct":j[X].x2+=Y,j[X].y2+=H;case"qct":j[X].x1+=Y,j[X].y1+=H;default:j[X].x+=Y,j[X].y+=H}return j},O=function(j){return j.sort(function(Y,H){return Y-H})},k=function(j,Y){for(var H,X,ne=this.fillStyle,Oe=this.strokeStyle,Ie=this.lineCap,be=this.lineWidth,Pe=Math.abs(be*this.ctx.transform.scaleX),ze=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),Fe=[],me=0;me<st.length;me++)if(st[me].x!==void 0)for(var Dt=E.call(this,st[me]),lt=0;lt<Dt.length;lt+=1)Fe.indexOf(Dt[lt])===-1&&Fe.push(Dt[lt]);for(var Ot=0;Ot<Fe.length;Ot++)for(;this.pdf.internal.getNumberOfPages()<Fe[Ot];)S.call(this);if(O(Fe),this.autoPaging)for(var ot=Fe[0],Ut=Fe[Fe.length-1],at=ot;at<Ut+1;at++){this.pdf.setPage(at),this.fillStyle=ne,this.strokeStyle=Oe,this.lineCap=Ie,this.lineWidth=Pe,this.lineJoin=ze;var gr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=at===1?this.posY+this.margin[0]:this.margin[0],cr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=at===1?0:cr+(at-2)*lr;if(this.ctx.clip_path.length!==0){var te=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(H,this.posX+this.margin[3],-Jt+Ht+this.ctx.prevPageLastElemOffset),D.call(this,j,!0),this.path=te}if(X=JSON.parse(JSON.stringify(Me)),this.path=T(X,this.posX+this.margin[3],-Jt+Ht+this.ctx.prevPageLastElemOffset),Y===!1||at===0){var xt=(at>ot||at<Ut)&&b.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gr,lr,null).clip().discardPath()),D.call(this,j,Y),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=Pe,D.call(this,j,Y),this.lineWidth=be;this.path=Me},D=function(j,Y){if((j!=="stroke"||Y||!_.call(this))&&(j==="stroke"||Y||!g.call(this))){for(var H,X,ne=[],Oe=this.path,Ie=0;Ie<Oe.length;Ie++){var be=Oe[Ie];switch(be.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:be,deltas:[],abs:[]});break;case"lt":var Pe=ne.length;if(Oe[Ie-1]&&!isNaN(Oe[Ie-1].x)&&(H=[be.x-Oe[Ie-1].x,be.y-Oe[Ie-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ne[Pe-1].close!==!0&&ne[Pe-1].begin!==!0){ne[Pe-1].deltas.push(H),ne[Pe-1].abs.push(be);break}}break;case"bct":H=[be.x1-Oe[Ie-1].x,be.y1-Oe[Ie-1].y,be.x2-Oe[Ie-1].x,be.y2-Oe[Ie-1].y,be.x-Oe[Ie-1].x,be.y-Oe[Ie-1].y],ne[ne.length-1].deltas.push(H);break;case"qct":var ze=Oe[Ie-1].x+2/3*(be.x1-Oe[Ie-1].x),Me=Oe[Ie-1].y+2/3*(be.y1-Oe[Ie-1].y),st=be.x+2/3*(be.x1-be.x),Fe=be.y+2/3*(be.y1-be.y),me=be.x,Dt=be.y;H=[ze-Oe[Ie-1].x,Me-Oe[Ie-1].y,st-Oe[Ie-1].x,Fe-Oe[Ie-1].y,me-Oe[Ie-1].x,Dt-Oe[Ie-1].y],ne[ne.length-1].deltas.push(H);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(be)}}X=Y?null:j==="stroke"?"stroke":"fill";for(var lt=!1,Ot=0;Ot<ne.length;Ot++)if(ne[Ot].arc)for(var ot=ne[Ot].abs,Ut=0;Ut<ot.length;Ut++){var at=ot[Ut];at.type==="arc"?q.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Y,!lt):K.call(this,at.x,at.y),lt=!0}else if(ne[Ot].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ne[Ot].begin!==!0){var gr=ne[Ot].start.x,Ht=ne[Ot].start.y;oe.call(this,ne[Ot].deltas,gr,Ht),lt=!0}X&&B.call(this,X),Y&&ee.call(this)}},z=function(j){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-H;case"top":return j+Y-H;case"hanging":return j+Y-2*H;case"middle":return j+Y/2-H;default:return j}},F=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(Y,H){this.colorStops.push([Y,H])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(j,Y,H,X,ne,Oe,Ie,be,Pe){for(var ze=Re.call(this,H,X,ne,Oe),Me=0;Me<ze.length;Me++){var st=ze[Me];Me===0&&(Pe?W.call(this,st.x1+j,st.y1+Y):K.call(this,st.x1+j,st.y1+Y)),ae.call(this,j,Y,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}be?ee.call(this):B.call(this,Ie)},B=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(j,Y){this.pdf.internal.out(r(j)+" "+n(Y)+" m")},U=function(j){var Y;switch(j.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var H=this.pdf.getTextDimensions(j.text),X=z.call(this,j.y),ne=F.call(this,X)-H.h,Oe=this.ctx.transform.applyToPoint(new o(j.x,X)),Ie=this.ctx.transform.decompose(),be=new c;be=(be=(be=be.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var Pe,ze,Me,st=this.ctx.transform.applyToRectangle(new s(j.x,X,H.w,H.h)),Fe=be.applyToRectangle(new s(j.x,ne,H.w,H.h)),me=E.call(this,Fe),Dt=[],lt=0;lt<me.length;lt+=1)Dt.indexOf(me[lt])===-1&&Dt.push(me[lt]);if(O(Dt),this.autoPaging)for(var Ot=Dt[0],ot=Dt[Dt.length-1],Ut=Ot;Ut<ot+1;Ut++){this.pdf.setPage(Ut);var at=Ut===1?this.posY+this.margin[0]:this.margin[0],gr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[2],cr=Ht-this.margin[0],lr=this.pdf.internal.pageSize.width-this.margin[1],Jt=lr-this.margin[3],te=Ut===1?0:gr+(Ut-2)*cr;if(this.ctx.clip_path.length!==0){var xt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Pe,this.posX+this.margin[3],-1*te+at),D.call(this,"fill",!0),this.path=xt}var wt=T([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-te+at+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*j.scale),Me=this.lineWidth,this.lineWidth=Me*j.scale);var Et=this.autoPaging!=="text";if(Et||wt.y+wt.h<=Ht){if(Et||wt.y>=at&&wt.x<=lr){var zt=Et?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||lr-wt.x)[0],Ne=T([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-te+at+this.ctx.prevPageLastElemOffset)[0],xe=Et&&(Ut>Ot||Ut<ot)&&b.call(this);xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,cr,null).clip().discardPath()),this.pdf.text(zt,Ne.x,Ne.y,{angle:j.angle,align:Y,renderingMode:j.renderingMode}),xe&&this.pdf.restoreGraphicsState()}}else wt.y<Ht&&(this.ctx.prevPageLastElemOffset+=Ht-wt.y);j.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Me)}else j.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*j.scale),Me=this.lineWidth,this.lineWidth=Me*j.scale),this.pdf.text(j.text,Oe.x+this.posX,Oe.y+this.posY,{angle:j.angle,align:Y,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Me)},K=function(j,Y,H,X){H=H||0,X=X||0,this.pdf.internal.out(r(j+H)+" "+n(Y+X)+" l")},oe=function(j,Y,H){return this.pdf.lines(j,Y,H,null,null)},ae=function(j,Y,H,X,ne,Oe,Ie,be){this.pdf.internal.out([t(i(H+j)),t(a(X+Y)),t(i(ne+j)),t(a(Oe+Y)),t(i(Ie+j)),t(a(be+Y)),"c"].join(" "))},Re=function(j,Y,H,X){for(var ne=2*Math.PI,Oe=Math.PI/2;Y>H;)Y-=ne;var Ie=Math.abs(H-Y);Ie<ne&&X&&(Ie=ne-Ie);for(var be=[],Pe=X?-1:1,ze=Y;Ie>1e-5;){var Me=ze+Pe*Math.min(Ie,Oe);be.push(ke.call(this,j,ze,Me)),Ie-=Math.abs(Me-ze),ze=Me}return be},ke=function(j,Y,H){var X=(H-Y)/2,ne=j*Math.cos(X),Oe=j*Math.sin(X),Ie=ne,be=-Oe,Pe=Ie*Ie+be*be,ze=Pe+Ie*ne+be*Oe,Me=4/3*(Math.sqrt(2*Pe*ze)-ze)/(Ie*Oe-be*ne),st=Ie-Me*be,Fe=be+Me*Ie,me=st,Dt=-Fe,lt=X+Y,Ot=Math.cos(lt),ot=Math.sin(lt);return{x1:j*Math.cos(Y),y1:j*Math.sin(Y),x2:st*Ot-Fe*ot,y2:st*ot+Fe*Ot,x3:me*Ot-Dt*ot,y3:me*ot+Dt*Ot,x4:j*Math.cos(H),y4:j*Math.sin(H)}},we=function(j){return 180*j/Math.PI},_e=function(j,Y,H,X,ne,Oe){var Ie=j+.5*(H-j),be=Y+.5*(X-Y),Pe=ne+.5*(H-ne),ze=Oe+.5*(X-Oe),Me=Math.min(j,ne,Ie,Pe),st=Math.max(j,ne,Ie,Pe),Fe=Math.min(Y,Oe,be,ze),me=Math.max(Y,Oe,be,ze);return new s(Me,Fe,st-Me,me-Fe)},$e=function(j,Y,H,X,ne,Oe,Ie,be){var Pe,ze,Me,st,Fe,me,Dt,lt,Ot,ot,Ut,at,gr,Ht,cr=H-j,lr=X-Y,Jt=ne-H,te=Oe-X,xt=Ie-ne,wt=be-Oe;for(ze=0;ze<41;ze++)Ot=(Dt=(Me=j+(Pe=ze/40)*cr)+Pe*((Fe=H+Pe*Jt)-Me))+Pe*(Fe+Pe*(ne+Pe*xt-Fe)-Dt),ot=(lt=(st=Y+Pe*lr)+Pe*((me=X+Pe*te)-st))+Pe*(me+Pe*(Oe+Pe*wt-me)-lt),ze==0?(Ut=Ot,at=ot,gr=Ot,Ht=ot):(Ut=Math.min(Ut,Ot),at=Math.min(at,ot),gr=Math.max(gr,Ot),Ht=Math.max(Ht,ot));return new s(Math.round(Ut),Math.round(at),Math.round(gr-Ut),Math.round(Ht-at))},We=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,Y,H=(j=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:Y}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(ir.API),function(e){var t=function(o){var s,c,u,h,p,v,g,_,b,E;for(c=[],u=0,h=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(p=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(p=((p=((p=((p=(p-(E=p%85))/85)-(b=p%85))/85)-(_=p%85))/85)-(g=p%85))/85)%85,c.push(v+33,g+33,_+33,b+33,E+33)):c.push(122);return function(S,T){for(var O=T;O>0;O--)S.pop()}(c,s.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var s,c,u,h,p,v=String,g="length",_=255,b="charCodeAt",E="slice",S="replace";for(o[E](-2),o=o[E](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),u=[],h=0,p=(o+=s="uuuuu"[E](o[g]%5||5))[g];p>h;h+=5)c=52200625*(o[b](h)-33)+614125*(o[b](h+1)-33)+7225*(o[b](h+2)-33)+85*(o[b](h+3)-33)+(o[b](h+4)-33),u.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(T,O){for(var k=O;k>0;k--)T.pop()}(u,s[g]),v.fromCharCode.apply(v,u)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var s=new Uint8Array(o.length),c=o.length;c--;)s[c]=o.charCodeAt(c);return(s=G5(s)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,s){var c=0,u=o||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),c=0;c<s.length;c+=1)switch(s[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(ir.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,u,h){var p=new XMLHttpRequest,v=0,g=function(_){var b=_.length,E=[],S=String.fromCharCode;for(v=0;v<b;v+=1)E.push(S(255&_.charCodeAt(v)));return E.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(g(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return g(p.responseText)}(i,a,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(ir.API),function(e){function t(){return(Ar.html2canvas?Promise.resolve(Ar.html2canvas):Wu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ar.DOMPurify?Promise.resolve(Ar.DOMPurify):Wu(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var c=mn(s);return c==="undefined"?"undefined":c==="string"||s instanceof String?"string":c==="number"||s instanceof Number?"number":c==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(s,c){var u=document.createElement(s);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},a=function s(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(s(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function s(c){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),u);return(h=h.setProgress(1,s,1,[s])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,c){return s.__proto__=c||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var _=h[g],b=_.src.find(function(E){return E.format==="truetype"});b&&u.addFont(b.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,c):this.outputPdf(s,c)},o.prototype.outputPdf=function(s,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,c)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var c=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(s,c){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return c?c(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(s=s||ir.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:c(s.inner.width,s.k),height:c(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,c,u,h){return s!=null&&(this.progress.val=s),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,c,u,h){return this.setProgress(s?this.progress.val+s:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(s,c){var u=this;return this.thenCore(s,c,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,h),v}).then(h,p).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(s,c,u){u=u||Promise.prototype.then;var h=this;s&&(s=s.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),v=u.call(p,s,c);return o.convert(v,h.__proto__)},o.prototype.thenExternal=function(s,c){return Promise.prototype.then.call(this,s,c)},o.prototype.thenList=function(s){var c=this;return s.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(s){s&&(s=s.bind(this));var c=Promise.prototype.catch.call(this,s);return o.convert(c,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ir.getPageSize=function(s,c,u){if(mn(s)==="object"){var h=s;s=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var p,v=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var _,b=0,E=0;if(g.hasOwnProperty(v))b=g[v][1]/p,E=g[v][0]/p;else try{b=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",E>b&&(_=E,E=b,b=_);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",b>E&&(_=E,E=b,b=_)}return{width:E,height:b,unit:c,k:p,orientation:s}},e.html=function(s,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Hw):null;var u=new o(c);return c.worker?u:u.from(s).doCallback()}}(ir.API),ir.API.addJS=function(e){return H6=e,this.internal.events.subscribe("postPutResources",function(){cm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cm!==void 0&&z6!==void 0&&this.internal.out("/Names <</JavaScript "+cm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var p=r.internal.newObject();h.push(p);var v=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(ir.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,s){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(p){for(var v,g=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,b={width:0,height:0,numcomponents:1},E=4;E<_;E+=2){if(E+=g,t.indexOf(p.charCodeAt(E+1))!==-1){v=256*p.charCodeAt(E+5)+p.charCodeAt(E+6),b={width:256*p.charCodeAt(E+7)+p.charCodeAt(E+8),height:v,numcomponents:p.charCodeAt(E+9)};break}g=256*p.charCodeAt(E+2)+p.charCodeAt(E+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(ir.API),ir.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=qX(e,{checkCrc:!0}),o=a.width,s=a.height,c=a.channels,u=a.palette,h=a.depth;i=u&&c===1?function(q){for(var B=q.width,ee=q.height,W=q.data,U=q.palette,K=q.depth,oe=!1,ae=[],Re=[],ke=void 0,we=!1,_e=0,$e=0;$e<U.length;$e++){var We=K8(U[$e],4),j=We[0],Y=We[1],H=We[2],X=We[3];ae.push(j,Y,H),X!=null&&(X===0?(_e++,Re.length<1&&Re.push($e)):X<255&&(we=!0))}if(we||_e>1){oe=!0,Re=void 0;var ne=B*ee;ke=new Uint8Array(ne);for(var Oe=new DataView(W.buffer),Ie=0;Ie<ne;Ie++){var be=qw(Oe,Ie,K),Pe=K8(U[be],4)[3];ke[Ie]=Pe}}else _e===0&&(Re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:W,alphaBytes:ke,needSMask:oe,palette:ae,mask:Re}}(a):c===2||c===4?function(q){for(var B=q.data,ee=q.width,W=q.height,U=q.channels,K=q.depth,oe=U===2?"DeviceGray":"DeviceRGB",ae=U-1,Re=ee*W,ke=ae,we=Re*ke,_e=1*Re,$e=Math.ceil(we*K/8),We=Math.ceil(_e*K/8),j=new Uint8Array($e),Y=new Uint8Array(We),H=new DataView(B.buffer),X=new DataView(j.buffer),ne=new DataView(Y.buffer),Oe=!1,Ie=0;Ie<Re;Ie++){for(var be=Ie*U,Pe=0;Pe<ke;Pe++)Q6(X,qw(H,be+Pe,K),Ie*ke+Pe,K);var ze=qw(H,be+ke,K);ze<(1<<K)-1&&(Oe=!0),Q6(ne,ze,1*Ie,K)}return{colorSpace:oe,colorsPerPixel:ae,sMaskBitsPerComponent:Oe?K:void 0,colorBytes:j,alphaBytes:Y,needSMask:Oe}}(a):function(q){var B=q.data,ee=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(W){for(var U=W.length,K=new Uint8Array(2*U),oe=new DataView(K.buffer,K.byteOffset,K.byteLength),ae=0;ae<U;ae++)oe.setUint16(2*ae,W[ae],!1);return K}(B):B,needSMask:!1}}(a);var p,v,g,_=i,b=_.colorSpace,E=_.colorsPerPixel,S=_.sMaskBitsPerComponent,T=_.colorBytes,O=_.alphaBytes,k=_.needSMask,D=_.palette,z=_.mask,F=null;return n!==ir.API.image_compression.NONE&&typeof G5=="function"?(F=function(q){var B;switch(q){case ir.API.image_compression.FAST:B=11;break;case ir.API.image_compression.MEDIUM:B=13;break;case ir.API.image_compression.SLOW:B=14;break;default:B=12}return B}(n),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(F," /Colors ").concat(E," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=K6(T,Math.ceil(o*E*h/8),E,h,n),k&&(g=K6(O,Math.ceil(o*S/8),1,S,n))):(p=void 0,v=void 0,e=T,k&&(g=O)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:p,decodeParameters:v,transparency:z,palette:D,sMask:g,predictor:F,width:o,height:s,bitsPerComponent:h,sMaskBitsPerComponent:S,colorSpace:b}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new dY(t),o=a.width,s=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:s},h=new Gw(100).encode(u,100);return e.processJPEG.call(this,h,r,n,i)},e.processGIF87A=e.processGIF89A}(ir.API),il.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},il.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Cn.log("bit decode error:"+r)}},il.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[a>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},il.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,c=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},il.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},il.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},il.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=s,this.data[h+3]=255}this.pos+=e}},il.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},il.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},il.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new il(t,!1),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},u=new Gw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ir.API),tT.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new tT(t),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},u=new Gw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ir.API),ir.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,c=0,u=0;u<i;u+=4){var h=n[u],p=n[u+1],v=n[u+2],g=n[u+3];a[s++]=h,a[s++]=p,a[s++]=v,o[c++]=g}var _=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ir.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vh=ir.API,um=Vh.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=t.doKerning!==!1,v=0,g=e.length,_=0,b=s[0]||c,E=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(v=p&&mn(u[n])==="object"&&!isNaN(parseInt(u[n][_],10))?u[n][_]/h:0,E.push((s[n]||b)/c+v)),_=n;return E},V6=Vh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Vh.processArabic&&(e=Vh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:um.apply(this,arguments).reduce(function(a,o){return a+o},0)},q6=function(e,t,r,n){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<r;)s+=t[a],a++;i.push(e.slice(0,a));var c=a;for(s=0;a!==o;)s+t[a]>n&&(i.push(e.slice(c,a)),s=0,c=a),s+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},G6=function(e,t,r){r||(r={});var n,i,a,o,s,c,u,h=[],p=[h],v=r.textIndent||0,g=0,_=0,b=e.split(" "),E=um.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var S=Array(c).join(" "),T=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?T=T.concat(k.map(function(D,z){return(z&&D.length?`
`:"")+D})):T.push(k[0])}),b=T,c=V6.apply(this,[S,r])}for(a=0,o=b.length;a<o;a++){var O=0;if(n=b[a],c&&n[0]==`
`&&(n=n.substr(1),O=1),v+g+(_=(i=um.apply(this,[n,r])).reduce(function(k,D){return k+D},0))>t||O){if(_>t){for(s=q6.apply(this,[n,i,t-(v+g),t]),h.push(s.shift()),h=[s.pop()];s.length;)p.push([s.shift()]);_=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(k,D){return k+D},0)}else h=[n];p.push(h),v=_+c,g=E}else h.push(n),v+=g+_,g=E}return u=c?function(k,D){return(D?S:"")+k.join(" ")}:function(k){return k.join(" ")},p.map(u)},Vh.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,c,u=[];for(s=0,c=n.length;s<c;s++)u=u.concat(G6.apply(this,[n[s],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(v){return"0x"+parseInt(v,10).toString(16)},s=e.__fontmetrics__.compress=function(v){var g,_,b,E,S=["{"];for(var T in v){if(g=v[T],isNaN(parseInt(T,10))?_="'"+T+"'":(T=parseInt(T,10),_=(_=o(T).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof g=="number")g<0?(b=o(g).slice(3),E="-"):(b=o(g).slice(2),E=""),b=E+b.slice(0,-1)+i[b.slice(-1)];else{if(mn(g)!=="object")throw new Error("Don't know what to do with value type "+mn(g)+".");b=s(g)}S.push(_+b)}return S.push("}"),S.join("")},c=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,_,b,E,S={},T=1,O=S,k=[],D="",z="",F=v.length-1,q=1;q<F;q+=1)(E=v[q])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(E):E=="{"?(k.push([O,b]),O={},b=void 0):E=="}"?((_=k.pop())[0][_[1]]=O,b=void 0,O=_[0]):E=="-"?T=-1:b===void 0?n.hasOwnProperty(E)?(D+=n[E],b=parseInt(D,16)*T,T=1,D=""):D+=E:n.hasOwnProperty(E)?(z+=n[E],O[b]=parseInt(z,16)*T,T=1,b=void 0,z=""):z+=E;return S},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var g=v.font,_=p.Unicode[g.postScriptName];_&&(g.metadata.Unicode={},g.metadata.Unicode.widths=_.widths,g.metadata.Unicode.kerning=_.kerning);var b=h.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(ir.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Qm(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(ir),ir.API.addSvgAsImage=function(e,t,r,n,i,a,o,s){if(isNaN(t)||isNaN(r))throw Cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Ar.canvg?Promise.resolve(Ar.canvg):Wu(()=>import("./index.es-CQ5UHhOj.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,s)})},ir.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},ir.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],u=0,h=0,p=0;function v(_,b){var E,S=!1;for(E=0;E<_.length;E+=1)_[E]===b&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=s.length;for(p=0;p<g;p+=1)r[s[p]].value=r[s[p]].defaultValue,r[s[p]].explicitSet=!1}if(mn(e)==="object"){for(i in e)if(a=e[i],v(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&v(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,b=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?b.push("/"+_+" /"+r[_].value):b.push("/"+_+" "+r[_].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ir.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var s,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,v=a.length;p<v;++p){if(s=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(p),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(u[4-s.length],s)}return h.join("")},n=function(a){var o,s,c,u,h,p,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,v=(s=Object.keys(a).sort(function(g,_){return g-_})).length;p<v;p++)o=s[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,u=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var p=s.metadata.Unicode.widths,v=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),g="",_=0;_<v.length;_++)g+=String.fromCharCode(v[_]);var b=u();h({data:g,addLength1:!0,objectId:b}),c("endobj");var E=u();h({data:n(s.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var S=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+r0(s.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var T=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+r0(s.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+r0(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+T+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,u=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var p=s.metadata.rawData,v="",g=0;g<p.length;g++)v+=String.fromCharCode(p[g]);var _=u();h({data:v,addLength1:!0,objectId:_}),c("endobj");var b=u();h({data:n(s.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var E=u();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+r0(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=u();for(var S=0;S<s.metadata.hmtx.widths.length;S++)s.metadata.hmtx.widths[S]=parseInt(s.metadata.hmtx.widths[S]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+r0(s.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",c=a.x,u=a.y,h=a.options||{},p=a.mutex||{},v=p.pdfEscape,g=p.activeFontKey,_=p.fonts,b=g,E="",S=0,T="",O=_[b].encoding;if(_[b].encoding!=="Identity-H")return{text:s,x:c,y:u,options:h,mutex:p};for(T=s,b=g,Array.isArray(s)&&(T=s[0]),S=0;S<T.length;S+=1)_[b].metadata.hasOwnProperty("cmap")&&(o=_[b].metadata.cmap.unicode.codeMap[T[S].charCodeAt(0)]),o||T[S].charCodeAt(0)<256&&_[b].metadata.hasOwnProperty("Unicode")?E+=T[S]:E+="";var k="";return parseInt(b.slice(1))<14||O==="WinAnsiEncoding"?k=v(E,b).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(k=r(E,_[b])),p.isHex=!0,{text:k,x:c,y:u,options:h,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},c,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},c,{text:o})).text}])}(ir),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ir.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,s,c,u,h,p=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,O=0;this.__bidiEngine__={};var k=function(W){var U=W.charCodeAt(),K=U>>8,oe=b[K];return oe!==void 0?p[256*oe+(255&U)]:K===252||K===253?"AL":S.test(K)?"L":K===8?"R":"N"},D=function(W){for(var U,K=0;K<W.length;K++){if((U=k(W.charAt(K)))==="L")return!1;if(U==="R")return!0}return!1},z=function(W,U,K,oe){var ae,Re,ke,we,_e=U[oe];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(_e="AN");break;case"AL":T=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":oe<1||oe+1>=U.length||(ae=K[oe-1])!=="EN"&&ae!=="AN"||(Re=U[oe+1])!=="EN"&&Re!=="AN"?_e="N":T&&(Re="AN"),_e=Re===ae?Re:"N";break;case"ES":_e=(ae=oe>0?K[oe-1]:"B")==="EN"&&oe+1<U.length&&U[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&K[oe-1]==="EN"){_e="EN";break}if(T){_e="N";break}for(ke=oe+1,we=U.length;ke<we&&U[ke]==="ET";)ke++;_e=ke<we&&U[ke]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(we=U.length,ke=oe+1;ke<we&&U[ke]==="NSM";)ke++;if(ke<we){var $e=W[oe],We=$e>=1425&&$e<=2303||$e===64286;if(ae=U[ke],We&&(ae==="R"||ae==="AL")){_e="R";break}}}_e=oe<1||(ae=U[oe-1])==="B"?"N":K[oe-1];break;case"B":T=!1,i=!0,_e=O;break;case"S":a=!0,_e="N"}return _e},F=function(W,U,K){var oe=W.split("");return K&&q(oe,K,{hiLevel:O}),oe.reverse(),U&&U.reverse(),oe.join("")},q=function(W,U,K){var oe,ae,Re,ke,we,_e=-1,$e=W.length,We=0,j=[],Y=O?g:v,H=[];for(T=!1,i=!1,a=!1,ae=0;ae<$e;ae++)H[ae]=k(W[ae]);for(Re=0;Re<$e;Re++){if(we=We,j[Re]=z(W,H,j,Re),oe=240&(We=Y[we][_[j[Re]]]),We&=15,U[Re]=ke=Y[We][5],oe>0)if(oe===16){for(ae=_e;ae<Re;ae++)U[ae]=1;_e=-1}else _e=-1;if(Y[We][6])_e===-1&&(_e=Re);else if(_e>-1){for(ae=_e;ae<Re;ae++)U[ae]=ke;_e=-1}H[Re]==="B"&&(U[Re]=0),K.hiLevel|=ke}a&&function(X,ne,Oe){for(var Ie=0;Ie<Oe;Ie++)if(X[Ie]==="S"){ne[Ie]=O;for(var be=Ie-1;be>=0&&X[be]==="WS";be--)ne[be]=O}}(H,U,$e)},B=function(W,U,K,oe,ae){if(!(ae.hiLevel<W)){if(W===1&&O===1&&!i)return U.reverse(),void(K&&K.reverse());for(var Re,ke,we,_e,$e=U.length,We=0;We<$e;){if(oe[We]>=W){for(we=We+1;we<$e&&oe[we]>=W;)we++;for(_e=We,ke=we-1;_e<ke;_e++,ke--)Re=U[_e],U[_e]=U[ke],U[ke]=Re,K&&(Re=K[_e],K[_e]=K[ke],K[ke]=Re);We=we}We++}}},ee=function(W,U,K){var oe=W.split(""),ae={hiLevel:O};return K||(K=[]),q(oe,K,ae),function(Re,ke,we){if(we.hiLevel!==0&&h)for(var _e,$e=0;$e<Re.length;$e++)ke[$e]===1&&(_e=E.indexOf(Re[$e]))>=0&&(Re[$e]=E[_e+1])}(oe,K,ae),B(2,oe,U,K,ae),B(1,oe,U,K,ae),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(W,U,K){if(function(ae,Re){if(Re)for(var ke=0;ke<ae.length;ke++)Re[ke]=ke;s===void 0&&(s=D(ae)),u===void 0&&(u=D(ae))}(W,U),o||!c||u)if(o&&c&&s^u)O=s?1:0,W=F(W,U,K);else if(!o&&c&&u)O=s?1:0,W=ee(W,U,K),W=F(W,U);else if(!o||s||c||u){if(o&&!c&&s^u)W=F(W,U),s?(O=0,W=ee(W,U,K)):(O=1,W=ee(W,U,K),W=F(W,U));else if(o&&s&&!c&&u)O=1,W=ee(W,U,K),W=F(W,U);else if(!o&&!c&&s^u){var oe=h;s?(O=1,W=ee(W,U,K),O=0,h=!1,W=ee(W,U,K),h=oe):(O=0,W=ee(W,U,K),W=F(W,U),O=1,h=!1,W=ee(W,U,K),h=oe,W=F(W,U))}}else O=0,W=ee(W,U,K);else O=s?1:0,W=ee(W,U,K);return W},this.__bidiEngine__.setOptions=function(W){W&&(o=W.isInputVisual,c=W.isOutputVisual,s=W.isInputRtl,u=W.isOutputRtl,h=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ir),ir.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ku(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new OY(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new pY(this.contents),this.head=new mY(this),this.name=new bY(this),this.cmap=new eL(this),this.toUnicode={},this.hhea=new vY(this),this.maxp=new _Y(this),this.hmtx=new EY(this),this.post=new yY(this),this.os2=new xY(this),this.loca=new TY(this),this.glyf=new SY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,u;for(u=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var El,Ku=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,s,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),pY=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,s,c,u,h,p,v,g,_,b;for(b in g=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(g)/c),o=Math.floor(p/c),h=16*g-p,(i=new Ku).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(h),a=16*g,u=i.pos+a,s=null,_=[],r)for(v=r[b],i.writeString(b),i.writeInt(e(v)),i.writeInt(u),i.writeInt(v.length),_=_.concat(v),b==="head"&&(s=u),u+=v.length;u%4;)_.push(0),u++;return i.write(_),n=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=tL.call(r);r.length%4;)r.push(0);for(a=new Ku(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),gY={}.hasOwnProperty,Gl=function(e,t){for(var r in t)gY.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};El=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var mY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ku).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),rT=function(){function e(t,r){var n,i,a,o,s,c,u,h,p,v,g,_,b,E,S,T,O;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),v=g/2,t.pos+=6,a=function(){var k,D;for(D=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)D.push(t.readUInt16());return D}(),t.pos+=2,b=function(){var k,D;for(D=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)D.push(t.readUInt16());return D}(),u=function(){var k,D;for(D=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)D.push(t.readUInt16());return D}(),h=function(){var k,D;for(D=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)D.push(t.readUInt16());return D}(),i=(this.length-t.pos+this.offset)/2,s=function(){var k,D;for(D=[],c=k=0;0<=i?k<i:k>i;c=0<=i?++k:--k)D.push(t.readUInt16());return D}(),c=S=0,O=a.length;S<O;c=++S)for(E=a[c],n=T=_=b[c];_<=E?T<=E:T>=E;n=_<=E?++T:--T)h[c]===0?o=n+u[c]:(o=s[h[c]/2+(n-_)-(v-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=p}return e.encode=function(t,r){var n,i,a,o,s,c,u,h,p,v,g,_,b,E,S,T,O,k,D,z,F,q,B,ee,W,U,K,oe,ae,Re,ke,we,_e,$e,We,j,Y,H,X,ne,Oe,Ie,be,Pe,ze,Me;switch(oe=new Ku,o=Object.keys(t).sort(function(st,Fe){return st-Fe}),r){case"macroman":for(b=0,E=function(){var st=[];for(_=0;_<256;++_)st.push(0);return st}(),T={0:0},a={},ae=0,_e=o.length;ae<_e;ae++)T[be=t[i=o[ae]]]==null&&(T[be]=++b),a[i]={old:t[i],new:T[t[i]]},E[i]=T[t[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(E),{charMap:a,subtable:oe.data,maxGlyphID:b+1};case"unicode":for(U=[],p=[],O=0,T={},n={},S=u=null,Re=0,$e=o.length;Re<$e;Re++)T[D=t[i=o[Re]]]==null&&(T[D]=++O),n[i]={old:D,new:T[D]},s=T[D]-i,S!=null&&s===u||(S&&p.push(S),U.push(i),u=s),S=i;for(S&&p.push(S),p.push(65535),U.push(65535),ee=2*(B=U.length),q=2*Math.pow(Math.log(B)/Math.LN2,2),v=Math.log(q/2)/Math.LN2,F=2*B-q,c=[],z=[],g=[],_=ke=0,We=U.length;ke<We;_=++ke){if(W=U[_],h=p[_],W===65535){c.push(0),z.push(0);break}if(W-(K=n[W].new)>=32768)for(c.push(0),z.push(2*(g.length+B-_)),i=we=W;W<=h?we<=h:we>=h;i=W<=h?++we:--we)g.push(n[i].new);else c.push(K-W),z.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*B+2*g.length),oe.writeUInt16(0),oe.writeUInt16(ee),oe.writeUInt16(q),oe.writeUInt16(v),oe.writeUInt16(F),Oe=0,j=p.length;Oe<j;Oe++)i=p[Oe],oe.writeUInt16(i);for(oe.writeUInt16(0),Ie=0,Y=U.length;Ie<Y;Ie++)i=U[Ie],oe.writeUInt16(i);for(Pe=0,H=c.length;Pe<H;Pe++)s=c[Pe],oe.writeUInt16(s);for(ze=0,X=z.length;ze<X;ze++)k=z[ze],oe.writeUInt16(k);for(Me=0,ne=g.length;Me<ne;Me++)b=g[Me],oe.writeUInt16(b);return{charMap:n,subtable:oe.data,maxGlyphID:O+1}}},e}(),eL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new rT(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=rT.encode(t,r),(i=new Ku).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),vY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),xY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),yY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,s,c;for(c=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),wY=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},bY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,s,c,u,h,p,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),s=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(c={},a=h=0,p=n.length;h<p;a=++h)i=n[a],t.pos=i.offset,u=t.readString(i.length),o=new wY(u,i),c[v=i.nameID]==null&&(c[v]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),_Y=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),EY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,s,c;for(t.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,p,v;for(v=[],u=0,h=(p=this.metrics).length;u<h;u++)a=p[u],v.push(a.advance);return v}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),tL=[].slice,SY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,s,c,u,h,p;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(s=new Ku(r.read(i))).readShort(),u=s.readShort(),p=s.readShort(),c=s.readShort(),h=s.readShort(),this.cache[t]=o===-1?new CY(s,u,p,c,h):new AY(s,o,u,p,c,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,s,c;for(o=[],a=[],s=0,c=r.length;s<c;s++)i=t[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),AY=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),CY=function(){function e(t,r,n,i,a){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ku(tL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),TY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,El),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],c=this.offsets[o+1]-s;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),OY=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,s,c;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,s,c,u,h,p,v,g,_,b,E,S;for(i in n=eL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},S=n.charMap)g[(c=S[i]).old]=c.new;for(_ in v=n.maxGlyphID,o)_ in g||(g[_]=v++);return h=function(T){var O,k;for(O in k={},T)k[T[O]]=O;return k}(g),p=Object.keys(h).sort(function(T,O){return T-O}),b=function(){var T,O,k;for(k=[],T=0,O=p.length;T<O;T++)s=p[T],k.push(h[s]);return k}(),a=this.font.glyf.encode(o,b,g),u=this.font.loca.encode(a.offsets,b),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e}();ir.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,c,u;for(u=[],s=0,c=r.length;s<c;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function rL(e,t,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=s*c,h=/\r\n|\r|\n/g,p="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(h):e,v=p.length||1),r+=s*(2-a),n.valign==="middle"?r-=v/2*u:n.valign==="bottom"&&(r-=v*u),n.halign==="center"||n.halign==="right"){var g=s;if(n.halign==="center"&&(g*=.5),p&&v>=1){for(var _=0;_<p.length;_++)i.text(p[_],t-i.getStringUnitWidth(p[_])*g,r),r+=u;return i}t-=i.getStringUnitWidth(e)*g}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var nT={},P0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:nT=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){s=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(c,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return nT||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),t_=function(e,t){return t_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t_(e,t)};function nL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");t_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var iL=function(e){nL(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function kY(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function NY(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function W2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function aL(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=oL(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function oL(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function vx(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function sL(e,t){var r=vx(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function PY(e,t,r,n,i){var a={},o=1.3333333333333333,s=Kw(t,function(O){return i.getComputedStyle(O).backgroundColor});s!=null&&(a.fillColor=s);var c=Kw(t,function(O){return i.getComputedStyle(O).color});c!=null&&(a.textColor=c);var u=RY(n,r);u&&(a.cellPadding=u);var h="borderTopColor",p=o*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var g=(parseFloat(v)||0)/p;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var _=Kw(t,function(O){return i.getComputedStyle(O)[h]});_!=null&&(a.lineColor=_);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var E=parseInt(n.fontSize||"");isNaN(E)||(a.fontSize=E/o);var S=IY(n);S&&(a.fontStyle=S);var T=(n.fontFamily||"").toLowerCase();return e.indexOf(T)!==-1&&(a.font=T),a}function IY(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Kw(e,t){var r=lL(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function lL(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:lL(e.parentElement,t):r}function RY(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(s){return parseInt(s||"0")/n}),o=vx(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function cL(e,t,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var s;typeof t=="string"?s=r.document.querySelector(t):s=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),h=[],p=[],v=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:v};for(var g=0;g<s.rows.length;g++){var _=s.rows[g],b=(o=(a=_==null?void 0:_.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),E=LY(c,u,r,_,n,i);E&&(b==="thead"?h.push(E):b==="tfoot"?v.push(E):p.push(E))}return{head:h,body:p,foot:v}}function LY(e,t,r,n,i,a){for(var o=new iL(n),s=0;s<n.cells.length;s++){var c=n.cells[s],u=r.getComputedStyle(c);if(i||u.display!=="none"){var h=void 0;a&&(h=PY(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:DY(c)})}}var p=r.getComputedStyle(n);if(o.length>0&&(i||p.display!=="none"))return o}function DY(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function jY(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Cc(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a}function uL(e,t){var r=new P0(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();jY(i,n,t);var a=Cc({},i,n,t),o;typeof window<"u"&&(o=window);var s=MY(i,n,t),c=FY(i,n,t),u=BY(r,a),h=$Y(r,a,o);return{id:t.tableId,content:h,hooks:c,styles:s,settings:u}}function MY(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=e[c],h=t[c],p=r[c];n.columnStyles=Cc({},u,h,p)}else{var v=[e,t,r],g=v.map(function(_){return _[c]||{}});n[c]=Cc({},g[0],g[1],g[2])}},a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];i(s)}return n}function FY(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function BY(e,t){var r,n,i,a,o,s,c,u,h,p,v,g,_=vx(t.margin,40/e.scaleFactor()),b=(r=UY(e,t.startY))!==null&&r!==void 0?r:_.top,E;t.showFoot===!0?E="everyPage":t.showFoot===!1?E="never":E=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var T=(a=t.useCss)!==null&&a!==void 0?a:!1,O=t.theme||(T?"plain":"striped"),k=!!t.horizontalPageBreak,D=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:T,theme:O,startY:b,margin:_,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:S,showFoot:E,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=t.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:k,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function UY(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function $Y(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var s=cL(e,t.html,r,o,t.useCss)||{};n=s.head||n,i=s.body||n,a=s.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||WY(n,i,a);return{columns:c,head:n,body:i,foot:a}}function WY(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(n)?s=n[parseInt(a)]:s=n[a],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(c>0?"_".concat(c):"");var h={dataKey:u};i.push(h)}}),i}var r_=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),zY=function(e){nL(t,e);function t(r,n,i,a,o,s){var c=e.call(this,r,n,s)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return t}(r_),HY=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,o){for(var s=0,c=r;s<c.length;s++){var u=c[s],h=new zY(t,this,n,i,a,o),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new r_(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new r_(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),fL=function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof iL&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var s=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+s;return u>i?u:i},0)},e}(),hL=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=vx(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),VY=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function qY(e,t){GY(e,t);var r=[],n=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=n_(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=n_(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),XY(t),YY(t,e),KY(t)}function GY(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=sL(e,t);t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var c=s[o],u=a.cells[c.index];if(u){var h=t.hooks.didParseCell;t.callCellHooks(e,h,u,a,c,null);var p=u.padding("horizontal");u.contentWidth=W2(u.text,u.styles,e)+p;var v=W2(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var c=s[o],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function n_(e,t,r){for(var n=t,i=e.reduce(function(g,_){return g+_.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],s=o.wrappedWidth/i,c=n*s,u=o.width+c,h=r(o),p=u<h?h:u;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var v=e.filter(function(g){return t<0?g.width>r(g):!0});v.length&&(t=n_(v,t,r))}return t}function KY(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,s=e.columns;o<s.length;o++){var c=s[o],u=t[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var h=a.cells[c.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=n.length-i,v=h.rowSpan>p?p:h.rowSpan;t[c.index]={cell:h,left:v,row:a}}}}}function XY(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,o=0,s=0;s<e.columns.length;s++){var c=e.columns[s];if(o-=1,o>1&&e.columns[s+1])a+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function YY(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],o=0,s=e.columns;o<s.length;o++){var c=s[o],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,h+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=iT(u.text,h,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=iT(u.text,h,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<v*u.rowSpan?r={height:v,count:u.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>a.height&&(a.height=v)}}r.count--}}function iT(e,t,r,n,i){return e.map(function(a){return ZY(a,t,r,n,i)})}function ZY(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=W2(e,r,n))return e;for(;t<W2(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function dL(e,t){var r=new P0(e),n=JY(t,r.scaleFactor()),i=new HY(t,n);return qY(r,i),r.applyStyles(r.userStyles),i}function JY(e,t){var r=e.content,n=eZ(r.columns);if(r.head.length===0){var i=aT(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=aT(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:n,head:Xw("head",r.head,n,o,a,t),body:Xw("body",r.body,n,o,a,t),foot:Xw("foot",r.foot,n,o,a,t)}}function Xw(e,t,r,n,i,a){var o={},s=t.map(function(c,u){for(var h=0,p={},v=0,g=0,_=0,b=r;_<b.length;_++){var E=b[_];if(o[E.index]==null||o[E.index].left===0)if(g===0){var S=void 0;Array.isArray(c)?S=c[E.index-v-h]:S=c[E.dataKey];var T={};typeof S=="object"&&!Array.isArray(S)&&(T=(S==null?void 0:S.styles)||{});var O=tZ(e,E,u,i,n,a,T),k=new hL(S,O,e);p[E.dataKey]=k,p[E.index]=k,g=k.colSpan-1,o[E.index]={left:k.rowSpan-1,times:g}}else g--,v++;else o[E.index].left--,g=o[E.index].times,h++}return new fL(c,u,e,p)});return s}function aT(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=QY(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function QY(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function eZ(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new VY(i,t,r)})}function tZ(e,t,r,n,i,a,o){var s=NY(n),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var u=Cc({},s.table,s[e],i.styles,c),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},p=e==="body"?h:{},v=e==="body"&&r%2===0?Cc({},s.alternateRow,i.alternateRowStyles):{},g=kY(a),_=Cc({},g,u,v,p);return Cc(_,o)}function rZ(e,t,r){var n;r===void 0&&(r={});var i=sL(e,t),a=new Map,o=[],s=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(v){var g=t.columns.find(function(_){return _.dataKey===v||_.index===v});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),s.push(t.columns[g.index]),i-=g.wrappedWidth)});for(var u=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(a.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(u||i>=p)u=!1,o.push(h),s.push(t.columns[h]),i-=p;else break;h++}return{colIndexes:o,columns:s,lastIndex:h-1}}function nZ(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=rZ(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function pL(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(v,g){return v+g.height},0);s+=u}var h=new P0(e);(r.pageBreak==="always"||r.startY!=null&&s>h.pageSize().height)&&(mL(h),a.y=i.top),t.callWillDrawPageHooks(h,a);var p=Cc({},a);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?iZ(h,t,p,a):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(v){return Uc(h,t,v,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(v,g){var _=g===t.body.length-1;z2(h,t,v,_,p,a,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(v){return Uc(h,t,v,a,t.columns)})),aL(h,t,p,a),t.callEndPageHooks(h,a),t.finalY=a.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function iZ(e,t,r,n){var i=nZ(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){e.applyStyles(e.userStyles),h>0?M1(e,t,r,n,u.columns,!0):oT(e,t,n,u.columns),aZ(e,t,r,n,u.columns),Yw(e,t,n,u.columns)});else for(var o=-1,s=i[0],c=function(){var u=o;if(s){e.applyStyles(e.userStyles);var h=s.columns;o>=0?M1(e,t,r,n,h,!0):oT(e,t,n,h),u=sT(e,t,o+1,n,h),Yw(e,t,n,h)}var p=u-o;i.slice(1).forEach(function(v){e.applyStyles(e.userStyles),M1(e,t,r,n,v.columns,!0),sT(e,t,o+1,n,v.columns,p),Yw(e,t,n,v.columns)}),o=u};o<t.body.length-1;)c()}function oT(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Uc(e,t,a,r,n)})}function aZ(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var s=o===t.body.length-1;z2(e,t,a,s,r,n,i)})}function sT(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(r+a,t.body.length),s=-1;return t.body.slice(r,o).forEach(function(c,u){var h=r+u===t.body.length-1,p=gL(e,t,h,n);c.canEntireRowFit(p,i)&&(Uc(e,t,c,n,i),s=r+u)}),s}function Yw(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Uc(e,t,a,r,n)})}function oZ(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function sZ(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,s=r.columns;o<s.length;o++){var c=s[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new hL(u.raw,u.styles,u.section);h=Cc(h,u),h.text=[];var p=oZ(u,t,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var v=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,g),u.contentHeight>=t&&(u.contentHeight=t,h.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),h.contentHeight=h.getContentHeight(v,g),h.contentHeight>a&&(a=h.contentHeight),i[c.index]=h}}var _=new fL(e.raw,-1,e.section,i,!0);_.height=a;for(var b=0,E=r.columns;b<E.length;b++){var c=E[b],h=_.cells[c.index];h&&(h.height=_.height);var u=e.cells[c.index];u&&(u.height=e.height)}return _}function lZ(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,s=i-o;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>s;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function z2(e,t,r,n,i,a,o){var s=gL(e,t,n,a);if(r.canEntireRowFit(s,o))Uc(e,t,r,a,o);else if(lZ(e,r,s,t)){var c=sZ(r,s,t,e);Uc(e,t,r,a,o),M1(e,t,i,a,o),z2(e,t,c,n,i,a,o)}else M1(e,t,i,a,o),z2(e,t,r,n,i,a,o)}function Uc(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],c=r.cells[s.index];if(!c){n.x+=s.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,s,n);if(u===!1){n.x+=s.width;continue}cZ(e,c,n);var h=c.getTextPos();rL(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,s,n),n.x+=s.width}n.y+=r.height}function cZ(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=oL(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),uZ(e,t,r,n.lineWidth))}function uZ(e,t,r,n){var i,a,o,s;n.top&&(i=r.x,a=r.y,o=r.x+t.width,s=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,o,s)),n.bottom&&(i=r.x,a=r.y+t.height,o=r.x+t.width,s=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,o,s)),n.left&&(i=r.x,a=r.y,o=r.x,s=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),c(n.left,i,a,o,s)),n.right&&(i=r.x+t.width,a=r.y,o=r.x+t.width,s=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),c(n.right,i,a,o,s));function c(u,h,p,v,g){e.getDocument().setLineWidth(u),e.getDocument().line(h,p,v,g,"S")}}function gL(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function M1(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(s){return Uc(e,t,s,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;aL(e,t,r,n),mL(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return Uc(e,t,s,n,i)}),e.applyStyles(e.userStyles))}function mL(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function fZ(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=uL(this,n),a=dL(this,i);return pL(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){rL(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return P0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){P0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new P0(this),a=cL(i,t,window,r,!1),o=a.head,s=a.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:s,data:s}}}var Zw;function v4(e,t){var r=uL(e,t),n=dL(e,r);pL(e,n)}try{if(typeof window<"u"&&window){var lT=window,cT=lT.jsPDF||((Zw=lT.jspdf)===null||Zw===void 0?void 0:Zw.jsPDF);cT&&fZ(cT)}}catch(e){console.error("Could not apply autoTable plugin",e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var H2={};H2.version="0.18.5";var vL=1252,hZ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xL=function(e){hZ.indexOf(e)!=-1&&(vL=e)};function dZ(){xL(1252)}var gp=function(e){xL(e)};function pZ(){gp(1200),dZ()}var fm=function(t){return String.fromCharCode(t)},uT=function(t){return String.fromCharCode(t)},V2,Pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mp(e){for(var t="",r=0,n=0,i=0,a=0,o=0,s=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,i=e.charCodeAt(u++),s=(n&15)<<2|i>>6,c=i&63,isNaN(n)?s=c=64:isNaN(i)&&(c=64),t+=Pu.charAt(a)+Pu.charAt(o)+Pu.charAt(s)+Pu.charAt(c);return t}function $c(e){var t="",r=0,n=0,i=0,a=0,o=0,s=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Pu.indexOf(e.charAt(u++)),o=Pu.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),s=Pu.indexOf(e.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),c=Pu.indexOf(e.charAt(u++)),i=(s&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var ln=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Xc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function lh(e){return ln?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function fT(e){return ln?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hl=function(t){return ln?Xc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function xx(e){if(typeof ArrayBuffer>"u")return hl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Wp(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function gZ(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ca=ln?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Xc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function mZ(e){for(var t=[],r=0,n=e.length+250,i=lh(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|s>>6&15|(o&3)<<4,i[r++]=128|s&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(t.push(i.slice(0,r)),r=0,i=lh(65535),n=65530)}return t.push(i.slice(0,r)),Ca(t)}var F1=/\u0000/g,hm=/[\u0001-\u0006]/g;function I0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gl(e,t){var r=""+e;return r.length>=t?r:hi("0",t-r.length)+r}function x4(e,t){var r=""+e;return r.length>=t?r:hi(" ",t-r.length)+r}function q2(e,t){var r=""+e;return r.length>=t?r:r+hi(" ",t-r.length)}function vZ(e,t){var r=""+Math.round(e);return r.length>=t?r:hi("0",t-r.length)+r}function xZ(e,t){var r=""+e;return r.length>=t?r:hi("0",t-r.length)+r}var hT=Math.pow(2,32);function qh(e,t){if(e>hT||e<-hT)return vZ(e,t);var r=Math.round(e);return xZ(r,t)}function G2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yZ(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var pi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},pT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wZ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K2(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,o=1,s=0,c=1,u=0,h=0,p=Math.floor(i);u<t&&(p=Math.floor(i),s=p*o+a,h=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=o,o=s,c=u,u=h;if(h>t&&(u>t?(h=c,s=a):(h=u,s=o)),!r)return[0,n*s,h];var v=Math.floor(n*s/h);return[v,n*s-v*h,h]}function dm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,o=[],s={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=TZ(c,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var yL=new Date(1899,11,31,0,0,0),bZ=yL.getTime(),_Z=new Date(1900,2,1,0,0,0);function wL(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=_Z&&(r+=24*60*60*1e3),(r-(bZ+(e.getTimezoneOffset()-yL.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function y4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function EZ(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SZ(e){var t=e<0?12:11,r=y4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function AZ(e){var t=y4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function CZ(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=SZ(e):t===10?r=e.toFixed(10).substr(0,12):r=AZ(e),y4(EZ(r.toUpperCase()))}function i_(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):CZ(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xu(14,wL(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function TZ(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function OZ(e,t,r,n){var i="",a=0,o=0,s=r.y,c,u=0;switch(e){case 98:s=r.y+543;case 121:switch(t.length){case 1:case 2:c=s%100,u=2;break;default:c=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Jw[r.m-1][1];case 5:return Jw[r.m-1][0];default:return Jw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return dT[r.q][0];default:return dT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gl(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=gl(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=s,u=1;break}var h=u>0?gl(c,u):"";return h}function Iu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var bL=/%/g;function kZ(e,t,r){var n=t.replace(bL,""),i=t.length-n.length;return Nc(e,n,r*Math.pow(10,2*i))+hi("%",i)}function NZ(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Nc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _L(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_L(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var EL=/# (\?+)( ?)\/( ?)(\d+)/;function PZ(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),o=i-a*n,s=n;return r+(a===0?"":""+a)+" "+(o===0?hi(" ",e[1].length+1+e[4].length):x4(o,e[1].length)+e[2]+"/"+e[3]+gl(s,e[4].length))}function IZ(e,t,r){return r+(t===0?"":""+t)+hi(" ",e[1].length+2+e[4].length)}var SL=/^#*0*\.([0#]+)/,AL=/\).*[0#]/,CL=/\(###\) ###\\?-####/;function io(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function gT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function mT(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function RZ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function LZ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ks(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AL)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ks("n",n,r):"("+ks("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NZ(e,t,r);if(t.indexOf("%")!==-1)return kZ(e,t,r);if(t.indexOf("E")!==-1)return _L(t,r);if(t.charCodeAt(0)===36)return"$"+ks(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,s,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+qh(c,t.length);if(t.match(/^[#?]+$/))return i=qh(r,0),i==="0"&&(i=""),i.length>t.length?i:io(t.substr(0,t.length-i.length))+i;if(a=t.match(EL))return PZ(a,c,u);if(t.match(/^#+0+$/))return u+qh(c,t.length-t.indexOf("0"));if(a=t.match(SL))return i=gT(r,a[1].length).replace(/^([^\.]+)$/,"$1."+io(a[1])).replace(/\.$/,"."+io(a[1])).replace(/\.(\d*)$/,function(_,b){return"."+b+hi("0",io(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+gT(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Iu(qh(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ks(e,t,-r):Iu(""+(Math.floor(r)+RZ(r,a[1].length)))+"."+gl(mT(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ks(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=I0(ks(e,t.replace(/[\\-]/g,""),r)),o=0,I0(I0(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(t.match(CL))return i=ks(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=K2(c,Math.pow(10,o)-1,!1),i=""+u,h=Nc("n",a[1],s[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=q2(s[2],o),h.length<a[4].length&&(h=io(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=K2(c,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?x4(s[1],o)+a[2]+"/"+a[3]+q2(s[2],o):hi(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=qh(r,0),t.length<=i.length?i:io(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var p=t.indexOf(".")-o,v=t.length-i.length-p;return io(t.substr(0,p)+i+t.substr(t.length-v))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=mT(r,a[1].length),r<0?"-"+ks(e,t,-r):Iu(LZ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?gl(0,3-_.length):"")+_})+"."+gl(o,a[1].length);switch(t){case"###,##0.00":return ks(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Iu(qh(c,0));return g!=="0"?u+g:"";case"###,###.00":return ks(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ks(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function DZ(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Nc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function jZ(e,t,r){var n=t.replace(bL,""),i=t.length-n.length;return Nc(e,n,r*Math.pow(10,2*i))+hi("%",i)}function TL(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+TL(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Rl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AL)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rl("n",n,r):"("+Rl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return DZ(e,t,r);if(t.indexOf("%")!==-1)return jZ(e,t,r);if(t.indexOf("E")!==-1)return TL(t,r);if(t.charCodeAt(0)===36)return"$"+Rl(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,s,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+gl(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:io(t.substr(0,t.length-i.length))+i;if(a=t.match(EL))return IZ(a,c,u);if(t.match(/^#+0+$/))return u+gl(c,t.length-t.indexOf("0"));if(a=t.match(SL))return i=(""+r).replace(/^([^\.]+)$/,"$1."+io(a[1])).replace(/\.$/,"."+io(a[1])),i=i.replace(/\.(\d*)$/,function(_,b){return"."+b+hi("0",io(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Iu(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rl(e,t,-r):Iu(""+r)+"."+hi("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Rl(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=I0(Rl(e,t.replace(/[\\-]/g,""),r)),o=0,I0(I0(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(t.match(CL))return i=Rl(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=K2(c,Math.pow(10,o)-1,!1),i=""+u,h=Nc("n",a[1],s[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=q2(s[2],o),h.length<a[4].length&&(h=io(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=K2(c,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?x4(s[1],o)+a[2]+"/"+a[3]+q2(s[2],o):hi(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:io(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var p=t.indexOf(".")-o,v=t.length-i.length-p;return io(t.substr(0,p)+i+t.substr(t.length-v))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Rl(e,t,-r):Iu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?gl(0,3-_.length):"")+_})+"."+gl(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Iu(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return Rl(e,t.slice(0,t.lastIndexOf(".")),r)+io(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Nc(e,t,r){return(r|0)===r?Rl(e,t,r):ks(e,t,r)}function MZ(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var OL=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function kL(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":G2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(OL))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function FZ(e,t,r,n){for(var i=[],a="",o=0,s="",c="t",u,h,p,v="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!G2(e,o))throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(p=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++o;break;case"\\":var g=e.charAt(++o),_=g==="("||g===")"?g:"t";i[i.length]={t:_,v:g},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=dm(t,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=dm(t,r),u==null))return"";for(a=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&c.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=v),i[i.length]={t:s,v:a},c=s;break;case"A":case"a":case"":var b={t:s,v:s};if(u==null&&(u=dm(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",v="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",o+=5,v="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",o+=5,v="h"):(b.t="t",++o),u==null&&b.t==="T")return"";i[i.length]=b,c=s;break;case"[":for(a=s;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(OL)){if(u==null&&(u=dm(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",kL(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=s;++o<e.length&&(s=e.charAt(o))==="0";)a+=s;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)a+=s;i[i.length]={t:"n",v:a};break;case"?":for(a=s;e.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},c=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:s,v:s},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"t",v:s},++o;break}var E=0,S=0,T;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=v,c="h",E<1&&(E=1);break;case"s":(T=i[o].v.match(/\.0+$/))&&(S=Math.max(S,T[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[o].v.match(/[Hh]/)&&(E=1),E<2&&i[o].v.match(/[Mm]/)&&(E=2),E<3&&i[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var O="",k;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=OZ(i[o].t.charCodeAt(0),i[o].v,u,S),i[o].t="t";break;case"n":case"?":for(k=o+1;i[k]!=null&&((s=i[k].t)==="?"||s==="D"||(s===" "||s==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[o].v+=i[k].v,i[k]={v:"",t:";"},++k;O+=i[o].v,o=k-1;break;case"G":i[o].t="t",i[o].v=i_(t,r);break}var D="",z,F;if(O.length>0){O.charCodeAt(0)==40?(z=t<0&&O.charCodeAt(0)===45?-t:t,F=Nc("n",O,z)):(z=t<0&&n>1?-t:t,F=Nc("n",O,z),z<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),k=F.length-1;var q=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){q=o;break}var B=i.length;if(q===i.length&&F.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(k>=i[o].v.length-1?(k-=i[o].v.length,i[o].v=F.substr(k+1,i[o].v.length)):k<0?i[o].v="":(i[o].v=F.substr(0,k+1),k=-1),i[o].t="t",B=o);k>=0&&B<i.length&&(i[B].v=F.substr(0,k+1)+i[B].v)}else if(q!==i.length&&F.indexOf("E")===-1){for(k=F.indexOf(".")-1,o=q;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(h=i[o].v.indexOf(".")>-1&&o===q?i[o].v.indexOf(".")-1:i[o].v.length-1,D=i[o].v.substr(h+1);h>=0;--h)k>=0&&(i[o].v.charAt(h)==="0"||i[o].v.charAt(h)==="#")&&(D=F.charAt(k--)+D);i[o].v=D,i[o].t="t",B=o}for(k>=0&&B<i.length&&(i[B].v=F.substr(0,k+1)+i[B].v),k=F.indexOf(".")+1,o=q;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==q)){for(h=i[o].v.indexOf(".")>-1&&o===q?i[o].v.indexOf(".")+1:0,D=i[o].v.substr(0,h);h<i[o].v.length;++h)k<F.length&&(D+=F.charAt(k++));i[o].v=D,i[o].t="t",B=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(z=n>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Nc(i[o].t,i[o].v,z),i[o].t="t");var ee="";for(o=0;o!==i.length;++o)i[o]!=null&&(ee+=i[o].v);return ee}var vT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xT(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function BZ(e,t){var r=MZ(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(vT),s=r[1].match(vT);return xT(t,o)?[n,r[0]]:xT(t,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,a]}function Xu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:pi)[e],n==null&&(n=r.table&&r.table[pT[e]]||pi[pT[e]]),n==null&&(n=wZ[e]||"General");break}if(G2(n,0))return i_(t,r);t instanceof Date&&(t=wL(t,r.date1904));var i=BZ(n,t);if(G2(i[1]))return i_(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return FZ(i[1],t,r,i[0])}function NL(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(pi[r]==null){t<0&&(t=r);continue}if(pi[r]==e){t=r;break}}t<0&&(t=391)}return pi[t]=e,t}function yx(e){for(var t=0;t!=392;++t)e[t]!==void 0&&NL(e[t],t)}function wx(){pi=yZ()}var PL=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UZ(e){var t=typeof e=="number"?pi[e]:e;return t=t.replace(PL,"(\\d+)"),new RegExp("^"+t+"$")}function $Z(e,t,r){var n=-1,i=-1,a=-1,o=-1,s=-1,c=-1;(t.match(PL)||[]).forEach(function(p,v){var g=parseInt(r[v+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=g;break;case"d":a=g;break;case"h":o=g;break;case"s":c=g;break;case"m":o>=0?s=g:i=g;break}}),c>=0&&s==-1&&i>=0&&(s=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&s==-1&&c==-1?u:n==-1&&i==-1&&a==-1?h:u+"T"+h}var WZ=function(){var e={};e.version="1.2.0";function t(){for(var F=0,q=new Array(256),B=0;B!=256;++B)F=B,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,q[B]=F;return typeof Int32Array<"u"?new Int32Array(q):q}var r=t();function n(F){var q=0,B=0,ee=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)W[ee]=F[ee];for(ee=0;ee!=256;++ee)for(B=F[ee],q=256+ee;q<4096;q+=256)B=W[q]=B>>>8^F[B&255];var U=[];for(ee=1;ee!=16;++ee)U[ee-1]=typeof Int32Array<"u"?W.subarray(ee*256,ee*256+256):W.slice(ee*256,ee*256+256);return U}var i=n(r),a=i[0],o=i[1],s=i[2],c=i[3],u=i[4],h=i[5],p=i[6],v=i[7],g=i[8],_=i[9],b=i[10],E=i[11],S=i[12],T=i[13],O=i[14];function k(F,q){for(var B=q^-1,ee=0,W=F.length;ee<W;)B=B>>>8^r[(B^F.charCodeAt(ee++))&255];return~B}function D(F,q){for(var B=q^-1,ee=F.length-15,W=0;W<ee;)B=O[F[W++]^B&255]^T[F[W++]^B>>8&255]^S[F[W++]^B>>16&255]^E[F[W++]^B>>>24]^b[F[W++]]^_[F[W++]]^g[F[W++]]^v[F[W++]]^p[F[W++]]^h[F[W++]]^u[F[W++]]^c[F[W++]]^s[F[W++]]^o[F[W++]]^a[F[W++]]^r[F[W++]];for(ee+=15;W<ee;)B=B>>>8^r[(B^F[W++])&255];return~B}function z(F,q){for(var B=q^-1,ee=0,W=F.length,U=0,K=0;ee<W;)U=F.charCodeAt(ee++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,K=F.charCodeAt(ee++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|K>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|K&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=k,e.buf=D,e.str=z,e}(),bn=function(){var t={};t.version="1.2.1";function r(ie,ue){for(var de=ie.split("/"),ge=ue.split("/"),ye=0,Ae=0,Ke=Math.min(de.length,ge.length);ye<Ke;++ye){if(Ae=de[ye].length-ge[ye].length)return Ae;if(de[ye]!=ge[ye])return de[ye]<ge[ye]?-1:1}return de.length-ge.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var ue=ie.lastIndexOf("/");return ue===-1?ie:ie.slice(0,ue+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var ue=ie.lastIndexOf("/");return ue===-1?ie:ie.slice(ue+1)}function a(ie,ue){typeof ue=="string"&&(ue=new Date(ue));var de=ue.getHours();de=de<<6|ue.getMinutes(),de=de<<5|ue.getSeconds()>>>1,ie.write_shift(2,de);var ge=ue.getFullYear()-1980;ge=ge<<4|ue.getMonth()+1,ge=ge<<5|ue.getDate(),ie.write_shift(2,ge)}function o(ie){var ue=ie.read_shift(2)&65535,de=ie.read_shift(2)&65535,ge=new Date,ye=de&31;de>>>=5;var Ae=de&15;de>>>=4,ge.setMilliseconds(0),ge.setFullYear(de+1980),ge.setMonth(Ae-1),ge.setDate(ye);var Ke=ue&31;ue>>>=5;var ct=ue&63;return ue>>>=6,ge.setHours(ue),ge.setMinutes(ct),ge.setSeconds(Ke<<1),ge}function s(ie){Qo(ie,0);for(var ue={},de=0;ie.l<=ie.length-4;){var ge=ie.read_shift(2),ye=ie.read_shift(2),Ae=ie.l+ye,Ke={};switch(ge){case 21589:de=ie.read_shift(1),de&1&&(Ke.mtime=ie.read_shift(4)),ye>5&&(de&2&&(Ke.atime=ie.read_shift(4)),de&4&&(Ke.ctime=ie.read_shift(4))),Ke.mtime&&(Ke.mt=new Date(Ke.mtime*1e3));break}ie.l=Ae,ue[ge]=Ke}return ue}var c;function u(){return c||(c={})}function h(ie,ue){if(ie[0]==80&&ie[1]==75)return fr(ie,ue);if((ie[0]|32)==109&&(ie[1]|32)==105)return Vt(ie,ue);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var de=3,ge=512,ye=0,Ae=0,Ke=0,ct=0,Ge=0,Ye=[],qe=ie.slice(0,512);Qo(qe,0);var pt=p(qe);switch(de=pt[0],de){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(pt[1]==0)return fr(ie,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}ge!==512&&(qe=ie.slice(0,ge),Qo(qe,28));var St=ie.slice(0,ge);v(qe,de);var kt=qe.read_shift(4,"i");if(de===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);qe.l+=4,Ke=qe.read_shift(4,"i"),qe.l+=4,qe.chk("00100000","Mini Stream Cutoff Size: "),ct=qe.read_shift(4,"i"),ye=qe.read_shift(4,"i"),Ge=qe.read_shift(4,"i"),Ae=qe.read_shift(4,"i");for(var Pt=-1,Lt=0;Lt<109&&(Pt=qe.read_shift(4,"i"),!(Pt<0));++Lt)Ye[Lt]=Pt;var yr=g(ie,ge);E(Ge,Ae,yr,ge,Ye);var ut=T(yr,Ke,Ye,ge);ut[Ke].name="!Directory",ye>0&&ct!==K&&(ut[ct].name="!MiniFAT"),ut[Ye[0]].name="!FAT",ut.fat_addrs=Ye,ut.ssz=ge;var zr={},Or=[],pa=[],Ro=[];O(Ke,ut,yr,Or,ye,zr,pa,ct),_(pa,Ro,Or),Or.shift();var Fr={FileIndex:pa,FullPaths:Ro};return ue&&ue.raw&&(Fr.raw={header:St,sectors:yr}),Fr}function p(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(oe,"Header Signature: "),ie.l+=16;var ue=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ue]}function v(ie,ue){var de=9;switch(ie.l+=2,de=ie.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function g(ie,ue){for(var de=Math.ceil(ie.length/ue)-1,ge=[],ye=1;ye<de;++ye)ge[ye-1]=ie.slice(ye*ue,(ye+1)*ue);return ge[de-1]=ie.slice(de*ue),ge}function _(ie,ue,de){for(var ge=0,ye=0,Ae=0,Ke=0,ct=0,Ge=de.length,Ye=[],qe=[];ge<Ge;++ge)Ye[ge]=qe[ge]=ge,ue[ge]=de[ge];for(;ct<qe.length;++ct)ge=qe[ct],ye=ie[ge].L,Ae=ie[ge].R,Ke=ie[ge].C,Ye[ge]===ge&&(ye!==-1&&Ye[ye]!==ye&&(Ye[ge]=Ye[ye]),Ae!==-1&&Ye[Ae]!==Ae&&(Ye[ge]=Ye[Ae])),Ke!==-1&&(Ye[Ke]=ge),ye!==-1&&ge!=Ye[ge]&&(Ye[ye]=Ye[ge],qe.lastIndexOf(ye)<ct&&qe.push(ye)),Ae!==-1&&ge!=Ye[ge]&&(Ye[Ae]=Ye[ge],qe.lastIndexOf(Ae)<ct&&qe.push(Ae));for(ge=1;ge<Ge;++ge)Ye[ge]===ge&&(Ae!==-1&&Ye[Ae]!==Ae?Ye[ge]=Ye[Ae]:ye!==-1&&Ye[ye]!==ye&&(Ye[ge]=Ye[ye]));for(ge=1;ge<Ge;++ge)if(ie[ge].type!==0){if(ct=ge,ct!=Ye[ct])do ct=Ye[ct],ue[ge]=ue[ct]+"/"+ue[ge];while(ct!==0&&Ye[ct]!==-1&&ct!=Ye[ct]);Ye[ge]=-1}for(ue[0]+="/",ge=1;ge<Ge;++ge)ie[ge].type!==2&&(ue[ge]+="/")}function b(ie,ue,de){for(var ge=ie.start,ye=ie.size,Ae=[],Ke=ge;de&&ye>0&&Ke>=0;)Ae.push(ue.slice(Ke*U,Ke*U+U)),ye-=U,Ke=Mf(de,Ke*4);return Ae.length===0?ht(0):Ca(Ae).slice(0,ie.size)}function E(ie,ue,de,ge,ye){var Ae=K;if(ie===K){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Ke=de[ie],ct=(ge>>>2)-1;if(!Ke)return;for(var Ge=0;Ge<ct&&(Ae=Mf(Ke,Ge*4))!==K;++Ge)ye.push(Ae);E(Mf(Ke,ge-4),ue-1,de,ge,ye)}}function S(ie,ue,de,ge,ye){var Ae=[],Ke=[];ye||(ye=[]);var ct=ge-1,Ge=0,Ye=0;for(Ge=ue;Ge>=0;){ye[Ge]=!0,Ae[Ae.length]=Ge,Ke.push(ie[Ge]);var qe=de[Math.floor(Ge*4/ge)];if(Ye=Ge*4&ct,ge<4+Ye)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ge);if(!ie[qe])break;Ge=Mf(ie[qe],Ye)}return{nodes:Ae,data:CT([Ke])}}function T(ie,ue,de,ge){var ye=ie.length,Ae=[],Ke=[],ct=[],Ge=[],Ye=ge-1,qe=0,pt=0,St=0,kt=0;for(qe=0;qe<ye;++qe)if(ct=[],St=qe+ue,St>=ye&&(St-=ye),!Ke[St]){Ge=[];var Pt=[];for(pt=St;pt>=0;){Pt[pt]=!0,Ke[pt]=!0,ct[ct.length]=pt,Ge.push(ie[pt]);var Lt=de[Math.floor(pt*4/ge)];if(kt=pt*4&Ye,ge<4+kt)throw new Error("FAT boundary crossed: "+pt+" 4 "+ge);if(!ie[Lt]||(pt=Mf(ie[Lt],kt),Pt[pt]))break}Ae[St]={nodes:ct,data:CT([Ge])}}return Ae}function O(ie,ue,de,ge,ye,Ae,Ke,ct){for(var Ge=0,Ye=ge.length?2:0,qe=ue[ie].data,pt=0,St=0,kt;pt<qe.length;pt+=128){var Pt=qe.slice(pt,pt+128);Qo(Pt,64),St=Pt.read_shift(2),kt=S4(Pt,0,St-Ye),ge.push(kt);var Lt={name:kt,type:Pt.read_shift(1),color:Pt.read_shift(1),L:Pt.read_shift(4,"i"),R:Pt.read_shift(4,"i"),C:Pt.read_shift(4,"i"),clsid:Pt.read_shift(16),state:Pt.read_shift(4,"i"),start:0,size:0},yr=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);yr!==0&&(Lt.ct=k(Pt,Pt.l-8));var ut=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);ut!==0&&(Lt.mt=k(Pt,Pt.l-8)),Lt.start=Pt.read_shift(4,"i"),Lt.size=Pt.read_shift(4,"i"),Lt.size<0&&Lt.start<0&&(Lt.size=Lt.type=0,Lt.start=K,Lt.name=""),Lt.type===5?(Ge=Lt.start,ye>0&&Ge!==K&&(ue[Ge].name="!StreamData")):Lt.size>=4096?(Lt.storage="fat",ue[Lt.start]===void 0&&(ue[Lt.start]=S(de,Lt.start,ue.fat_addrs,ue.ssz)),ue[Lt.start].name=Lt.name,Lt.content=ue[Lt.start].data.slice(0,Lt.size)):(Lt.storage="minifat",Lt.size<0?Lt.size=0:Ge!==K&&Lt.start!==K&&ue[Ge]&&(Lt.content=b(Lt,ue[Ge].data,(ue[ct]||{}).data))),Lt.content&&Qo(Lt.content,0),Ae[kt]=Lt,Ke.push(Lt)}}function k(ie,ue){return new Date((rs(ie,ue+4)/1e7*Math.pow(2,32)+rs(ie,ue)/1e7-11644473600)*1e3)}function D(ie,ue){return u(),h(c.readFileSync(ie),ue)}function z(ie,ue){var de=ue&&ue.type;switch(de||ln&&Buffer.isBuffer(ie)&&(de="buffer"),de||"base64"){case"file":return D(ie,ue);case"base64":return h(hl($c(ie)),ue);case"binary":return h(hl(ie),ue)}return h(ie,ue)}function F(ie,ue){var de=ue||{},ge=de.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ge+"/",ie.FileIndex[0]={name:ge,type:5}),de.CLSID&&(ie.FileIndex[0].clsid=de.CLSID),q(ie)}function q(ie){var ue="Sh33tJ5";if(!bn.find(ie,"/"+ue)){var de=ht(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ie.FileIndex.push({name:ue,type:2,content:de,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ue),B(ie)}}function B(ie,ue){F(ie);for(var de=!1,ge=!1,ye=ie.FullPaths.length-1;ye>=0;--ye){var Ae=ie.FileIndex[ye];switch(Ae.type){case 0:ge?de=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Ae.R*Ae.L*Ae.C)&&(de=!0),Ae.R>-1&&Ae.L>-1&&Ae.R==Ae.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!ue)){var Ke=new Date(1987,1,19),ct=0,Ge=Object.create?Object.create(null):{},Ye=[];for(ye=0;ye<ie.FullPaths.length;++ye)Ge[ie.FullPaths[ye]]=!0,ie.FileIndex[ye].type!==0&&Ye.push([ie.FullPaths[ye],ie.FileIndex[ye]]);for(ye=0;ye<Ye.length;++ye){var qe=n(Ye[ye][0]);ge=Ge[qe],ge||(Ye.push([qe,{name:i(qe).replace("/",""),type:1,clsid:Re,ct:Ke,mt:Ke,content:null}]),Ge[qe]=!0)}for(Ye.sort(function(kt,Pt){return r(kt[0],Pt[0])}),ie.FullPaths=[],ie.FileIndex=[],ye=0;ye<Ye.length;++ye)ie.FullPaths[ye]=Ye[ye][0],ie.FileIndex[ye]=Ye[ye][1];for(ye=0;ye<Ye.length;++ye){var pt=ie.FileIndex[ye],St=ie.FullPaths[ye];if(pt.name=i(St).replace("/",""),pt.L=pt.R=pt.C=-(pt.color=1),pt.size=pt.content?pt.content.length:0,pt.start=0,pt.clsid=pt.clsid||Re,ye===0)pt.C=Ye.length>1?1:-1,pt.size=0,pt.type=5;else if(St.slice(-1)=="/"){for(ct=ye+1;ct<Ye.length&&n(ie.FullPaths[ct])!=St;++ct);for(pt.C=ct>=Ye.length?-1:ct,ct=ye+1;ct<Ye.length&&n(ie.FullPaths[ct])!=n(St);++ct);pt.R=ct>=Ye.length?-1:ct,pt.type=1}else n(ie.FullPaths[ye+1]||"")==n(St)&&(pt.R=ye+1),pt.type=2}}}function ee(ie,ue){var de=ue||{};if(de.fileType=="mad")return _n(ie,de);switch(B(ie),de.fileType){case"zip":return mr(ie,de)}var ge=function(kt){for(var Pt=0,Lt=0,yr=0;yr<kt.FileIndex.length;++yr){var ut=kt.FileIndex[yr];if(ut.content){var zr=ut.content.length;zr>0&&(zr<4096?Pt+=zr+63>>6:Lt+=zr+511>>9)}}for(var Or=kt.FullPaths.length+3>>2,pa=Pt+7>>3,Ro=Pt+127>>7,Fr=pa+Lt+Or+Ro,kr=Fr+127>>7,Nr=kr<=109?0:Math.ceil((kr-109)/127);Fr+kr+Nr+127>>7>kr;)Nr=++kr<=109?0:Math.ceil((kr-109)/127);var Ci=[1,Nr,kr,Ro,Or,Lt,Pt,0];return kt.FileIndex[0].size=Pt<<6,Ci[7]=(kt.FileIndex[0].start=Ci[0]+Ci[1]+Ci[2]+Ci[3]+Ci[4]+Ci[5])+(Ci[6]+7>>3),Ci}(ie),ye=ht(ge[7]<<9),Ae=0,Ke=0;{for(Ae=0;Ae<8;++Ae)ye.write_shift(1,ae[Ae]);for(Ae=0;Ae<8;++Ae)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),Ae=0;Ae<3;++Ae)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,ge[2]),ye.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:K),ye.write_shift(4,ge[3]),ye.write_shift(-4,ge[1]?ge[0]-1:K),ye.write_shift(4,ge[1]),Ae=0;Ae<109;++Ae)ye.write_shift(-4,Ae<ge[2]?ge[1]+Ae:-1)}if(ge[1])for(Ke=0;Ke<ge[1];++Ke){for(;Ae<236+Ke*127;++Ae)ye.write_shift(-4,Ae<ge[2]?ge[1]+Ae:-1);ye.write_shift(-4,Ke===ge[1]-1?K:Ke+1)}var ct=function(kt){for(Ke+=kt;Ae<Ke-1;++Ae)ye.write_shift(-4,Ae+1);kt&&(++Ae,ye.write_shift(-4,K))};for(Ke=Ae=0,Ke+=ge[1];Ae<Ke;++Ae)ye.write_shift(-4,ke.DIFSECT);for(Ke+=ge[2];Ae<Ke;++Ae)ye.write_shift(-4,ke.FATSECT);ct(ge[3]),ct(ge[4]);for(var Ge=0,Ye=0,qe=ie.FileIndex[0];Ge<ie.FileIndex.length;++Ge)qe=ie.FileIndex[Ge],qe.content&&(Ye=qe.content.length,!(Ye<4096)&&(qe.start=Ke,ct(Ye+511>>9)));for(ct(ge[6]+7>>3);ye.l&511;)ye.write_shift(-4,ke.ENDOFCHAIN);for(Ke=Ae=0,Ge=0;Ge<ie.FileIndex.length;++Ge)qe=ie.FileIndex[Ge],qe.content&&(Ye=qe.content.length,!(!Ye||Ye>=4096)&&(qe.start=Ke,ct(Ye+63>>6)));for(;ye.l&511;)ye.write_shift(-4,ke.ENDOFCHAIN);for(Ae=0;Ae<ge[4]<<2;++Ae){var pt=ie.FullPaths[Ae];if(!pt||pt.length===0){for(Ge=0;Ge<17;++Ge)ye.write_shift(4,0);for(Ge=0;Ge<3;++Ge)ye.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)ye.write_shift(4,0);continue}qe=ie.FileIndex[Ae],Ae===0&&(qe.start=qe.size?qe.start-1:K);var St=Ae===0&&de.root||qe.name;if(Ye=2*(St.length+1),ye.write_shift(64,St,"utf16le"),ye.write_shift(2,Ye),ye.write_shift(1,qe.type),ye.write_shift(1,qe.color),ye.write_shift(-4,qe.L),ye.write_shift(-4,qe.R),ye.write_shift(-4,qe.C),qe.clsid)ye.write_shift(16,qe.clsid,"hex");else for(Ge=0;Ge<4;++Ge)ye.write_shift(4,0);ye.write_shift(4,qe.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,qe.start),ye.write_shift(4,qe.size),ye.write_shift(4,0)}for(Ae=1;Ae<ie.FileIndex.length;++Ae)if(qe=ie.FileIndex[Ae],qe.size>=4096)if(ye.l=qe.start+1<<9,ln&&Buffer.isBuffer(qe.content))qe.content.copy(ye,ye.l,0,qe.size),ye.l+=qe.size+511&-512;else{for(Ge=0;Ge<qe.size;++Ge)ye.write_shift(1,qe.content[Ge]);for(;Ge&511;++Ge)ye.write_shift(1,0)}for(Ae=1;Ae<ie.FileIndex.length;++Ae)if(qe=ie.FileIndex[Ae],qe.size>0&&qe.size<4096)if(ln&&Buffer.isBuffer(qe.content))qe.content.copy(ye,ye.l,0,qe.size),ye.l+=qe.size+63&-64;else{for(Ge=0;Ge<qe.size;++Ge)ye.write_shift(1,qe.content[Ge]);for(;Ge&63;++Ge)ye.write_shift(1,0)}if(ln)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function W(ie,ue){var de=ie.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ge=de.map(function(Ge){var Ye=Ge.split("/");return Ye[Ye.length-(Ge.slice(-1)=="/"?2:1)]}),ye=!1;ue.charCodeAt(0)===47?(ye=!0,ue=de[0].slice(0,-1)+ue):ye=ue.indexOf("/")!==-1;var Ae=ue.toUpperCase(),Ke=ye===!0?de.indexOf(Ae):ge.indexOf(Ae);if(Ke!==-1)return ie.FileIndex[Ke];var ct=!Ae.match(hm);for(Ae=Ae.replace(F1,""),ct&&(Ae=Ae.replace(hm,"!")),Ke=0;Ke<de.length;++Ke)if((ct?de[Ke].replace(hm,"!"):de[Ke]).replace(F1,"")==Ae||(ct?ge[Ke].replace(hm,"!"):ge[Ke]).replace(F1,"")==Ae)return ie.FileIndex[Ke];return null}var U=64,K=-2,oe="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],Re="00000000000000000000000000000000",ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function we(ie,ue,de){u();var ge=ee(ie,de);c.writeFileSync(ue,ge)}function _e(ie){for(var ue=new Array(ie.length),de=0;de<ie.length;++de)ue[de]=String.fromCharCode(ie[de]);return ue.join("")}function $e(ie,ue){var de=ee(ie,ue);switch(ue&&ue.type||"buffer"){case"file":return u(),c.writeFileSync(ue.filename,de),de;case"binary":return typeof de=="string"?de:_e(de);case"base64":return mp(typeof de=="string"?de:_e(de));case"buffer":if(ln)return Buffer.isBuffer(de)?de:Xc(de);case"array":return typeof de=="string"?hl(de):de}return de}var We;function j(ie){try{var ue=ie.InflateRaw,de=new ue;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)We=ie;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function Y(ie,ue){if(!We)return Rt(ie,ue);var de=We.InflateRaw,ge=new de,ye=ge._processChunk(ie.slice(ie.l),ge._finishFlushFlag);return ie.l+=ge.bytesRead,ye}function H(ie){return We?We.deflateRawSync(ie):Et(ie)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(ie){var ue=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var be=typeof Uint8Array<"u",Pe=be?new Uint8Array(256):[],ze=0;ze<256;++ze)Pe[ze]=Ie(ze);function Me(ie,ue){var de=Pe[ie&255];return ue<=8?de>>>8-ue:(de=de<<8|Pe[ie>>8&255],ue<=16?de>>>16-ue:(de=de<<8|Pe[ie>>16&255],de>>>24-ue))}function st(ie,ue){var de=ue&7,ge=ue>>>3;return(ie[ge]|(de<=6?0:ie[ge+1]<<8))>>>de&3}function Fe(ie,ue){var de=ue&7,ge=ue>>>3;return(ie[ge]|(de<=5?0:ie[ge+1]<<8))>>>de&7}function me(ie,ue){var de=ue&7,ge=ue>>>3;return(ie[ge]|(de<=4?0:ie[ge+1]<<8))>>>de&15}function Dt(ie,ue){var de=ue&7,ge=ue>>>3;return(ie[ge]|(de<=3?0:ie[ge+1]<<8))>>>de&31}function lt(ie,ue){var de=ue&7,ge=ue>>>3;return(ie[ge]|(de<=1?0:ie[ge+1]<<8))>>>de&127}function Ot(ie,ue,de){var ge=ue&7,ye=ue>>>3,Ae=(1<<de)-1,Ke=ie[ye]>>>ge;return de<8-ge||(Ke|=ie[ye+1]<<8-ge,de<16-ge)||(Ke|=ie[ye+2]<<16-ge,de<24-ge)||(Ke|=ie[ye+3]<<24-ge),Ke&Ae}function ot(ie,ue,de){var ge=ue&7,ye=ue>>>3;return ge<=5?ie[ye]|=(de&7)<<ge:(ie[ye]|=de<<ge&255,ie[ye+1]=(de&7)>>8-ge),ue+3}function Ut(ie,ue,de){var ge=ue&7,ye=ue>>>3;return de=(de&1)<<ge,ie[ye]|=de,ue+1}function at(ie,ue,de){var ge=ue&7,ye=ue>>>3;return de<<=ge,ie[ye]|=de&255,de>>>=8,ie[ye+1]=de,ue+8}function gr(ie,ue,de){var ge=ue&7,ye=ue>>>3;return de<<=ge,ie[ye]|=de&255,de>>>=8,ie[ye+1]=de&255,ie[ye+2]=de>>>8,ue+16}function Ht(ie,ue){var de=ie.length,ge=2*de>ue?2*de:ue+5,ye=0;if(de>=ue)return ie;if(ln){var Ae=fT(ge);if(ie.copy)ie.copy(Ae);else for(;ye<ie.length;++ye)Ae[ye]=ie[ye];return Ae}else if(be){var Ke=new Uint8Array(ge);if(Ke.set)Ke.set(ie);else for(;ye<de;++ye)Ke[ye]=ie[ye];return Ke}return ie.length=ge,ie}function cr(ie){for(var ue=new Array(ie),de=0;de<ie;++de)ue[de]=0;return ue}function lr(ie,ue,de){var ge=1,ye=0,Ae=0,Ke=0,ct=0,Ge=ie.length,Ye=be?new Uint16Array(32):cr(32);for(Ae=0;Ae<32;++Ae)Ye[Ae]=0;for(Ae=Ge;Ae<de;++Ae)ie[Ae]=0;Ge=ie.length;var qe=be?new Uint16Array(Ge):cr(Ge);for(Ae=0;Ae<Ge;++Ae)Ye[ye=ie[Ae]]++,ge<ye&&(ge=ye),qe[Ae]=0;for(Ye[0]=0,Ae=1;Ae<=ge;++Ae)Ye[Ae+16]=ct=ct+Ye[Ae-1]<<1;for(Ae=0;Ae<Ge;++Ae)ct=ie[Ae],ct!=0&&(qe[Ae]=Ye[ct+16]++);var pt=0;for(Ae=0;Ae<Ge;++Ae)if(pt=ie[Ae],pt!=0)for(ct=Me(qe[Ae],ge)>>ge-pt,Ke=(1<<ge+4-pt)-1;Ke>=0;--Ke)ue[ct|Ke<<pt]=pt&15|Ae<<4;return ge}var Jt=be?new Uint16Array(512):cr(512),te=be?new Uint16Array(32):cr(32);if(!be){for(var xt=0;xt<512;++xt)Jt[xt]=0;for(xt=0;xt<32;++xt)te[xt]=0}(function(){for(var ie=[],ue=0;ue<32;ue++)ie.push(5);lr(ie,te,32);var de=[];for(ue=0;ue<=143;ue++)de.push(8);for(;ue<=255;ue++)de.push(9);for(;ue<=279;ue++)de.push(7);for(;ue<=287;ue++)de.push(8);lr(de,Jt,288)})();var wt=function(){for(var ue=be?new Uint8Array(32768):[],de=0,ge=0;de<Oe.length-1;++de)for(;ge<Oe[de+1];++ge)ue[ge]=de;for(;ge<32768;++ge)ue[ge]=29;var ye=be?new Uint8Array(259):[];for(de=0,ge=0;de<ne.length-1;++de)for(;ge<ne[de+1];++ge)ye[ge]=de;function Ae(ct,Ge){for(var Ye=0;Ye<ct.length;){var qe=Math.min(65535,ct.length-Ye),pt=Ye+qe==ct.length;for(Ge.write_shift(1,+pt),Ge.write_shift(2,qe),Ge.write_shift(2,~qe&65535);qe-- >0;)Ge[Ge.l++]=ct[Ye++]}return Ge.l}function Ke(ct,Ge){for(var Ye=0,qe=0,pt=be?new Uint16Array(32768):[];qe<ct.length;){var St=Math.min(65535,ct.length-qe);if(St<10){for(Ye=ot(Ge,Ye,+(qe+St==ct.length)),Ye&7&&(Ye+=8-(Ye&7)),Ge.l=Ye/8|0,Ge.write_shift(2,St),Ge.write_shift(2,~St&65535);St-- >0;)Ge[Ge.l++]=ct[qe++];Ye=Ge.l*8;continue}Ye=ot(Ge,Ye,+(qe+St==ct.length)+2);for(var kt=0;St-- >0;){var Pt=ct[qe];kt=(kt<<5^Pt)&32767;var Lt=-1,yr=0;if((Lt=pt[kt])&&(Lt|=qe&-32768,Lt>qe&&(Lt-=32768),Lt<qe))for(;ct[Lt+yr]==ct[qe+yr]&&yr<250;)++yr;if(yr>2){Pt=ye[yr],Pt<=22?Ye=at(Ge,Ye,Pe[Pt+1]>>1)-1:(at(Ge,Ye,3),Ye+=5,at(Ge,Ye,Pe[Pt-23]>>5),Ye+=3);var ut=Pt<8?0:Pt-4>>2;ut>0&&(gr(Ge,Ye,yr-ne[Pt]),Ye+=ut),Pt=ue[qe-Lt],Ye=at(Ge,Ye,Pe[Pt]>>3),Ye-=3;var zr=Pt<4?0:Pt-2>>1;zr>0&&(gr(Ge,Ye,qe-Lt-Oe[Pt]),Ye+=zr);for(var Or=0;Or<yr;++Or)pt[kt]=qe&32767,kt=(kt<<5^ct[qe])&32767,++qe;St-=yr-1}else Pt<=143?Pt=Pt+48:Ye=Ut(Ge,Ye,1),Ye=at(Ge,Ye,Pe[Pt]),pt[kt]=qe&32767,++qe}Ye=at(Ge,Ye,0)-1}return Ge.l=(Ye+7)/8|0,Ge.l}return function(Ge,Ye){return Ge.length<8?Ae(Ge,Ye):Ke(Ge,Ye)}}();function Et(ie){var ue=ht(50+Math.floor(ie.length*1.1)),de=wt(ie,ue);return ue.slice(0,de)}var zt=be?new Uint16Array(32768):cr(32768),Ne=be?new Uint16Array(32768):cr(32768),xe=be?new Uint16Array(128):cr(128),fe=1,Qe=1;function ft(ie,ue){var de=Dt(ie,ue)+257;ue+=5;var ge=Dt(ie,ue)+1;ue+=5;var ye=me(ie,ue)+4;ue+=4;for(var Ae=0,Ke=be?new Uint8Array(19):cr(19),ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Ye=be?new Uint8Array(8):cr(8),qe=be?new Uint8Array(8):cr(8),pt=Ke.length,St=0;St<ye;++St)Ke[X[St]]=Ae=Fe(ie,ue),Ge<Ae&&(Ge=Ae),Ye[Ae]++,ue+=3;var kt=0;for(Ye[0]=0,St=1;St<=Ge;++St)qe[St]=kt=kt+Ye[St-1]<<1;for(St=0;St<pt;++St)(kt=Ke[St])!=0&&(ct[St]=qe[kt]++);var Pt=0;for(St=0;St<pt;++St)if(Pt=Ke[St],Pt!=0){kt=Pe[ct[St]]>>8-Pt;for(var Lt=(1<<7-Pt)-1;Lt>=0;--Lt)xe[kt|Lt<<Pt]=Pt&7|St<<3}var yr=[];for(Ge=1;yr.length<de+ge;)switch(kt=xe[lt(ie,ue)],ue+=kt&7,kt>>>=3){case 16:for(Ae=3+st(ie,ue),ue+=2,kt=yr[yr.length-1];Ae-- >0;)yr.push(kt);break;case 17:for(Ae=3+Fe(ie,ue),ue+=3;Ae-- >0;)yr.push(0);break;case 18:for(Ae=11+lt(ie,ue),ue+=7;Ae-- >0;)yr.push(0);break;default:yr.push(kt),Ge<kt&&(Ge=kt);break}var ut=yr.slice(0,de),zr=yr.slice(de);for(St=de;St<286;++St)ut[St]=0;for(St=ge;St<30;++St)zr[St]=0;return fe=lr(ut,zt,286),Qe=lr(zr,Ne,30),ue}function Ze(ie,ue){if(ie[0]==3&&!(ie[1]&3))return[lh(ue),2];for(var de=0,ge=0,ye=fT(ue||1<<18),Ae=0,Ke=ye.length>>>0,ct=0,Ge=0;!(ge&1);){if(ge=Fe(ie,de),de+=3,ge>>>1)ge>>1==1?(ct=9,Ge=5):(de=ft(ie,de),ct=fe,Ge=Qe);else{de&7&&(de+=8-(de&7));var Ye=ie[de>>>3]|ie[(de>>>3)+1]<<8;if(de+=32,Ye>0)for(!ue&&Ke<Ae+Ye&&(ye=Ht(ye,Ae+Ye),Ke=ye.length);Ye-- >0;)ye[Ae++]=ie[de>>>3],de+=8;continue}for(;;){!ue&&Ke<Ae+32767&&(ye=Ht(ye,Ae+32767),Ke=ye.length);var qe=Ot(ie,de,ct),pt=ge>>>1==1?Jt[qe]:zt[qe];if(de+=pt&15,pt>>>=4,!(pt>>>8&255))ye[Ae++]=pt;else{if(pt==256)break;pt-=257;var St=pt<8?0:pt-4>>2;St>5&&(St=0);var kt=Ae+ne[pt];St>0&&(kt+=Ot(ie,de,St),de+=St),qe=Ot(ie,de,Ge),pt=ge>>>1==1?te[qe]:Ne[qe],de+=pt&15,pt>>>=4;var Pt=pt<4?0:pt-2>>1,Lt=Oe[pt];for(Pt>0&&(Lt+=Ot(ie,de,Pt),de+=Pt),!ue&&Ke<kt&&(ye=Ht(ye,kt+100),Ke=ye.length);Ae<kt;)ye[Ae]=ye[Ae-Lt],++Ae}}}return ue?[ye,de+7>>>3]:[ye.slice(0,Ae),de+7>>>3]}function Rt(ie,ue){var de=ie.slice(ie.l||0),ge=Ze(de,ue);return ie.l+=ge[1],ge[0]}function $t(ie,ue){if(ie)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function fr(ie,ue){var de=ie;Qo(de,0);var ge=[],ye=[],Ae={FileIndex:ge,FullPaths:ye};F(Ae,{root:ue.root});for(var Ke=de.length-4;(de[Ke]!=80||de[Ke+1]!=75||de[Ke+2]!=5||de[Ke+3]!=6)&&Ke>=0;)--Ke;de.l=Ke+4,de.l+=4;var ct=de.read_shift(2);de.l+=6;var Ge=de.read_shift(4);for(de.l=Ge,Ke=0;Ke<ct;++Ke){de.l+=20;var Ye=de.read_shift(4),qe=de.read_shift(4),pt=de.read_shift(2),St=de.read_shift(2),kt=de.read_shift(2);de.l+=8;var Pt=de.read_shift(4),Lt=s(de.slice(de.l+pt,de.l+pt+St));de.l+=pt+St+kt;var yr=de.l;de.l=Pt+4,er(de,Ye,qe,Ae,Lt),de.l=yr}return Ae}function er(ie,ue,de,ge,ye){ie.l+=2;var Ae=ie.read_shift(2),Ke=ie.read_shift(2),ct=o(ie);if(Ae&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ie.read_shift(4),Ye=ie.read_shift(4),qe=ie.read_shift(4),pt=ie.read_shift(2),St=ie.read_shift(2),kt="",Pt=0;Pt<pt;++Pt)kt+=String.fromCharCode(ie[ie.l++]);if(St){var Lt=s(ie.slice(ie.l,ie.l+St));(Lt[21589]||{}).mt&&(ct=Lt[21589].mt),((ye||{})[21589]||{}).mt&&(ct=ye[21589].mt)}ie.l+=St;var yr=ie.slice(ie.l,ie.l+Ye);switch(Ke){case 8:yr=Y(ie,qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ke)}var ut=!1;Ae&8&&(Ge=ie.read_shift(4),Ge==134695760&&(Ge=ie.read_shift(4),ut=!0),Ye=ie.read_shift(4),qe=ie.read_shift(4)),Ye!=ue&&$t(ut,"Bad compressed size: "+ue+" != "+Ye),qe!=de&&$t(ut,"Bad uncompressed size: "+de+" != "+qe),Vr(ge,kt,yr,{unsafe:!0,mt:ct})}function mr(ie,ue){var de=ue||{},ge=[],ye=[],Ae=ht(1),Ke=de.compression?8:0,ct=0,Ge=0,Ye=0,qe=0,pt=0,St=ie.FullPaths[0],kt=St,Pt=ie.FileIndex[0],Lt=[],yr=0;for(Ge=1;Ge<ie.FullPaths.length;++Ge)if(kt=ie.FullPaths[Ge].slice(St.length),Pt=ie.FileIndex[Ge],!(!Pt.size||!Pt.content||kt=="Sh33tJ5")){var ut=qe,zr=ht(kt.length);for(Ye=0;Ye<kt.length;++Ye)zr.write_shift(1,kt.charCodeAt(Ye)&127);zr=zr.slice(0,zr.l),Lt[pt]=WZ.buf(Pt.content,0);var Or=Pt.content;Ke==8&&(Or=H(Or)),Ae=ht(30),Ae.write_shift(4,67324752),Ae.write_shift(2,20),Ae.write_shift(2,ct),Ae.write_shift(2,Ke),Pt.mt?a(Ae,Pt.mt):Ae.write_shift(4,0),Ae.write_shift(-4,Lt[pt]),Ae.write_shift(4,Or.length),Ae.write_shift(4,Pt.content.length),Ae.write_shift(2,zr.length),Ae.write_shift(2,0),qe+=Ae.length,ge.push(Ae),qe+=zr.length,ge.push(zr),qe+=Or.length,ge.push(Or),Ae=ht(46),Ae.write_shift(4,33639248),Ae.write_shift(2,0),Ae.write_shift(2,20),Ae.write_shift(2,ct),Ae.write_shift(2,Ke),Ae.write_shift(4,0),Ae.write_shift(-4,Lt[pt]),Ae.write_shift(4,Or.length),Ae.write_shift(4,Pt.content.length),Ae.write_shift(2,zr.length),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(4,0),Ae.write_shift(4,ut),yr+=Ae.l,ye.push(Ae),yr+=zr.length,ye.push(zr),++pt}return Ae=ht(22),Ae.write_shift(4,101010256),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,pt),Ae.write_shift(2,pt),Ae.write_shift(4,yr),Ae.write_shift(4,qe),Ae.write_shift(2,0),Ca([Ca(ge),Ca(ye),Ae])}var nr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jr(ie,ue){if(ie.ctype)return ie.ctype;var de=ie.name||"",ge=de.match(/\.([^\.]+)$/);return ge&&nr[ge[1]]||ue&&(ge=(de=ue).match(/[\.\\]([^\.\\])+$/),ge&&nr[ge[1]])?nr[ge[1]]:"application/octet-stream"}function Cr(ie){for(var ue=mp(ie),de=[],ge=0;ge<ue.length;ge+=76)de.push(ue.slice(ge,ge+76));return de.join(`\r
`)+`\r
`}function $r(ie){var ue=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var qe=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(qe.length==1?"0"+qe:qe)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],ge=ue.split(`\r
`),ye=0;ye<ge.length;++ye){var Ae=ge[ye];if(Ae.length==0){de.push("");continue}for(var Ke=0;Ke<Ae.length;){var ct=76,Ge=Ae.slice(Ke,Ke+ct);Ge.charAt(ct-1)=="="?ct--:Ge.charAt(ct-2)=="="?ct-=2:Ge.charAt(ct-3)=="="&&(ct-=3),Ge=Ae.slice(Ke,Ke+ct),Ke+=ct,Ke<Ae.length&&(Ge+="="),de.push(Ge)}}return de.join(`\r
`)}function vr(ie){for(var ue=[],de=0;de<ie.length;++de){for(var ge=ie[de];de<=ie.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ie[++de];ue.push(ge)}for(var ye=0;ye<ue.length;++ye)ue[ye]=ue[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(Ae){return String.fromCharCode(parseInt(Ae.slice(1),16))});return hl(ue.join(`\r
`))}function kn(ie,ue,de){for(var ge="",ye="",Ae="",Ke,ct=0;ct<10;++ct){var Ge=ue[ct];if(!Ge||Ge.match(/^\s*$/))break;var Ye=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":ge=Ye[2].trim();break;case"content-type":Ae=Ye[2].trim();break;case"content-transfer-encoding":ye=Ye[2].trim();break}}switch(++ct,ye.toLowerCase()){case"base64":Ke=hl($c(ue.slice(ct).join("")));break;case"quoted-printable":Ke=vr(ue.slice(ct));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var qe=Vr(ie,ge.slice(de.length),Ke,{unsafe:!0});Ae&&(qe.ctype=Ae)}function Vt(ie,ue){if(_e(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=ue&&ue.root||"",ge=(ln&&Buffer.isBuffer(ie)?ie.toString("binary"):_e(ie)).split(`\r
`),ye=0,Ae="";for(ye=0;ye<ge.length;++ye)if(Ae=ge[ye],!!/^Content-Location:/i.test(Ae)&&(Ae=Ae.slice(Ae.indexOf("file")),de||(de=Ae.slice(0,Ae.lastIndexOf("/")+1)),Ae.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),Ae.slice(0,de.length)!=de););var Ke=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ke)throw new Error("MAD cannot find boundary");var ct="--"+(Ke[1]||""),Ge=[],Ye=[],qe={FileIndex:Ge,FullPaths:Ye};F(qe);var pt,St=0;for(ye=0;ye<ge.length;++ye){var kt=ge[ye];kt!==ct&&kt!==ct+"--"||(St++&&kn(qe,ge.slice(pt,ye),de),pt=ye)}return qe}function _n(ie,ue){var de=ue||{},ge=de.boundary||"SheetJS";ge="------="+ge;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Ae=ie.FullPaths[0],Ke=Ae,ct=ie.FileIndex[0],Ge=1;Ge<ie.FullPaths.length;++Ge)if(Ke=ie.FullPaths[Ge].slice(Ae.length),ct=ie.FileIndex[Ge],!(!ct.size||!ct.content||Ke=="Sh33tJ5")){Ke=Ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yr){return"_x"+yr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yr){return"_u"+yr.charCodeAt(0).toString(16)+"_"});for(var Ye=ct.content,qe=ln&&Buffer.isBuffer(Ye)?Ye.toString("binary"):_e(Ye),pt=0,St=Math.min(1024,qe.length),kt=0,Pt=0;Pt<=St;++Pt)(kt=qe.charCodeAt(Pt))>=32&&kt<128&&++pt;var Lt=pt>=St*4/5;ye.push(ge),ye.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Ke),ye.push("Content-Transfer-Encoding: "+(Lt?"quoted-printable":"base64")),ye.push("Content-Type: "+jr(ct,Ke)),ye.push(""),ye.push(Lt?$r(qe):Cr(qe))}return ye.push(ge+`--\r
`),ye.join(`\r
`)}function Bi(ie){var ue={};return F(ue,ie),ue}function Vr(ie,ue,de,ge){var ye=ge&&ge.unsafe;ye||F(ie);var Ae=!ye&&bn.find(ie,ue);if(!Ae){var Ke=ie.FullPaths[0];ue.slice(0,Ke.length)==Ke?Ke=ue:(Ke.slice(-1)!="/"&&(Ke+="/"),Ke=(Ke+ue).replace("//","/")),Ae={name:i(ue),type:2},ie.FileIndex.push(Ae),ie.FullPaths.push(Ke),ye||bn.utils.cfb_gc(ie)}return Ae.content=de,Ae.size=de?de.length:0,ge&&(ge.CLSID&&(Ae.clsid=ge.CLSID),ge.mt&&(Ae.mt=ge.mt),ge.ct&&(Ae.ct=ge.ct)),Ae}function Ai(ie,ue){F(ie);var de=bn.find(ie,ue);if(de){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==de)return ie.FileIndex.splice(ge,1),ie.FullPaths.splice(ge,1),!0}return!1}function Mr(ie,ue,de){F(ie);var ge=bn.find(ie,ue);if(ge){for(var ye=0;ye<ie.FileIndex.length;++ye)if(ie.FileIndex[ye]==ge)return ie.FileIndex[ye].name=i(de),ie.FullPaths[ye]=de,!0}return!1}function Gr(ie){B(ie,!0)}return t.find=W,t.read=z,t.parse=h,t.write=$e,t.writeFile=we,t.utils={cfb_new:Bi,cfb_add:Vr,cfb_del:Ai,cfb_mov:Mr,cfb_gc:Gr,ReadShift:U1,CheckField:XL,prep_blob:Qo,bconcat:Ca,use_zlib:j,_deflateRaw:Et,_inflateRaw:Rt,consts:ke},t}();function zZ(e){return typeof e=="string"?xx(e):Array.isArray(e)?gZ(e):e}function zp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=xx(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?xp(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([zZ(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Wp(t)),s.write(t),s.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Pa(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function yT(e,t){for(var r=[],n=Pa(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function w4(e){for(var t=[],r=Pa(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function bx(e){for(var t=[],r=Pa(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function HZ(e){for(var t=[],r=Pa(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var X2=new Date(1899,11,30,0,0,0);function ko(e,t){var r=e.getTime(),n=X2.getTime()+(e.getTimezoneOffset()-X2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var IL=new Date,VZ=X2.getTime()+(IL.getTimezoneOffset()-X2.getTimezoneOffset())*6e4,wT=IL.getTimezoneOffset();function RL(e){var t=new Date;return t.setTime(e*24*60*60*1e3+VZ),t.getTimezoneOffset()!==wT&&t.setTime(t.getTime()+(t.getTimezoneOffset()-wT)*6e4),t}var bT=new Date("2017-02-19T19:06:09.000Z"),LL=isNaN(bT.getFullYear())?new Date("2/19/17"):bT,qZ=LL.getFullYear()==2017;function co(e,t){var r=new Date(e);if(qZ)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(LL.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function _x(e,t){if(ln&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function No(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=No(e[r]));return t}function hi(e,t){for(var r="";r.length<t;)r+=e;return r}function Pc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var GZ=["january","february","march","april","may","june","july","august","september","october","november","december"];function vp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&GZ.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Wr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ln?n=Xc(r):n=mZ(r),bn.utils.cfb_add(e,t,n)}bn.utils.cfb_add(e,t,r)}else e.file(t,r)}function b4(){return bn.utils.cfb_new()}var Fi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,KZ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_4=w4(KZ),E4=/[&<>'"]/g,XZ=/[\u0000-\u0008\u000b-\u001f]/g;function vn(e){var t=e+"";return t.replace(E4,function(r){return _4[r]}).replace(XZ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _T(e){return vn(e).replace(/ /g,"_x0020_")}var DL=/[\u0000-\u001f]/g;function YZ(e){var t=e+"";return t.replace(E4,function(r){return _4[r]}).replace(/\n/g,"<br/>").replace(DL,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function ZZ(e){var t=e+"";return t.replace(E4,function(r){return _4[r]}).replace(DL,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function JZ(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function QZ(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qw(e){for(var t="",r=0,n=0,i=0,a=0,o=0,s=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),s=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function ET(e){var t=lh(2*e.length),r,n,i=1,a=0,o=0,s;for(n=0;n<e.length;n+=i)i=1,(s=e.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(n+1)&63),i=2):s<240?(r=(s&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(s&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function ST(e){return Xc(e,"binary").toString("utf8")}var pm="foo bar baz",B1=ln&&(ST(pm)==Qw(pm)&&ST||ET(pm)==Qw(pm)&&ET)||Qw,xp=ln?function(e){return Xc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},eJ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),jL=/(^\s|\s$|\n)/;function Ta(e,t){return"<"+e+(t.match(jL)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function yp(e){return Pa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function jt(e,t,r){return"<"+e+(r!=null?yp(r):"")+(t!=null?(t.match(jL)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function a_(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function tJ(e,t){switch(typeof e){case"string":var r=jt("vt:lpwstr",vn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return jt((e|0)==e?"vt:i4":"vt:r8",vn(String(e)));case"boolean":return jt("vt:bool",e?"true":"false")}if(e instanceof Date)return jt("vt:filetime",a_(e));throw new Error("Unable to serialize "+e)}var sa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},vd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ts={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function rJ(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function nJ(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=n?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)e[r+s]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var AT=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},CT=ln?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Xc(t)})):AT(e)}:AT,TT=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(x1(e,i)));return n.join("").replace(F1,"")},S4=ln?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(F1,""):TT(e,t,r)}:TT,OT=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},ML=ln?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):OT(e,t,r)}:OT,kT=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(n0(e,i)));return n.join("")},Hp=ln?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):kT(t,r,n)}:kT,FL=function(e,t){var r=rs(e,t);return r>0?Hp(e,t+4,t+4+r-1):""},BL=FL,UL=function(e,t){var r=rs(e,t);return r>0?Hp(e,t+4,t+4+r-1):""},$L=UL,WL=function(e,t){var r=2*rs(e,t);return r>0?Hp(e,t+4,t+4+r-1):""},zL=WL,HL=function(t,r){var n=rs(t,r);return n>0?S4(t,r+4,r+4+n):""},VL=HL,qL=function(e,t){var r=rs(e,t);return r>0?Hp(e,t+4,t+4+r):""},GL=qL,KL=function(e,t){return rJ(e,t)},Y2=KL,A4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ln&&(BL=function(t,r){if(!Buffer.isBuffer(t))return FL(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$L=function(t,r){if(!Buffer.isBuffer(t))return UL(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zL=function(t,r){if(!Buffer.isBuffer(t))return WL(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},VL=function(t,r){if(!Buffer.isBuffer(t))return HL(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},GL=function(t,r){if(!Buffer.isBuffer(t))return qL(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Y2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):KL(t,r)},A4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var n0=function(e,t){return e[t]},x1=function(e,t){return e[t+1]*256+e[t]},iJ=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Mf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},aJ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function U1(e,t){var r="",n,i,a=[],o,s,c,u;switch(t){case"dbcs":if(u=this.l,ln&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(x1(this,u)),u+=2;e*=2;break;case"utf8":r=Hp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=S4(this,this.l,this.l+e);break;case"wstr":return U1.call(this,e,"dbcs");case"lpstr-ansi":r=BL(this,this.l),e=4+rs(this,this.l);break;case"lpstr-cp":r=$L(this,this.l),e=4+rs(this,this.l);break;case"lpwstr":r=zL(this,this.l),e=4+2*rs(this,this.l);break;case"lpp4":e=4+rs(this,this.l),r=VL(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rs(this,this.l),r=GL(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=n0(this,this.l+e++))!==0;)a.push(fm(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=x1(this,this.l+e))!==0;)a.push(fm(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=n0(this,u),this.l=u+1,s=U1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(fm(x1(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=n0(this,u),this.l=u+1,s=U1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(fm(n0(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=n0(this,this.l),this.l++,n;case 2:return n=(t==="i"?iJ:x1)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Mf:aJ)(this,this.l),this.l+=4,n):(i=rs(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Y2(this,this.l):i=Y2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=ML(this,this.l,e);break}}return this.l+=e,r}var oJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},sJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},lJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function cJ(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)lJ(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,oJ(this,t,this.l);break;case 8:if(n=8,r==="f"){nJ(this,t,this.l);break}case 16:break;case-4:n=4,sJ(this,t,this.l);break}return this.l+=n,this}function XL(e,t){var r=ML(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Qo(e,t){e.l=t,e.read_shift=U1,e.chk=XL,e.write_shift=cJ}function Hl(e,t){e.l+=t}function ht(e){var t=lh(e);return Qo(t,0),t}function Oo(){var e=[],t=ln?256:2048,r=function(u){var h=ht(u);return Qo(h,0),h},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},o=function(){return i(),Ca(e)},s=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:s,end:o,_bufs:e}}function Ct(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=rie[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var s=0;s!=4;++s)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&A4(r)&&e.push(r)}}function $1(e,t,r){var n=No(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NT(e,t,r){var n=No(e);return n.s=$1(n.s,t.s,r),n.e=$1(n.e,t.s,r),n}function W1(e,t){if(e.cRel&&e.c<0)for(e=No(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=No(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=yn(e);return!e.cRel&&e.cRel!=null&&(r=hJ(r)),!e.rRel&&e.rRel!=null&&(r=uJ(r)),r}function eb(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ga(e.s.c)+":"+(e.e.cRel?"":"$")+Ga(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ka(e.s.r)+":"+(e.e.rRel?"":"$")+ka(e.e.r):W1(e.s,t.biff)+":"+W1(e.e,t.biff)}function C4(e){return parseInt(fJ(e),10)-1}function ka(e){return""+(e+1)}function uJ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fJ(e){return e.replace(/\$(\d+)$/,"$1")}function T4(e){for(var t=dJ(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ga(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function hJ(e){return e.replace(/^([A-Z])/,"$$$1")}function dJ(e){return e.replace(/^\$([A-Z])/,"$1")}function pJ(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function la(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function yn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function fs(e){var t=e.indexOf(":");return t==-1?{s:la(e),e:la(e)}:{s:la(e.slice(0,t)),e:la(e.slice(t+1))}}function ji(e,t){return typeof t>"u"||typeof t=="number"?ji(e.s,e.e):(typeof e!="string"&&(e=yn(e)),typeof t!="string"&&(t=yn(t)),e==t?e:e+":"+t)}function Wn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function PT(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Xu(e.z,r?ko(t):t)}catch{}try{return e.w=Xu((e.XF||{}).numFmtId||(r?14:0),r?ko(t):t)}catch{return""+t}}function Wc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Vp[e.v]||e.v:t==null?PT(e,e.v):PT(e,t))}function _h(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function YL(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),o=0,s=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;o=c.r,s=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=Wn(a["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=t[p].length;++v)if(!(typeof t[p][v]>"u")){var g={v:t[p][v]},_=o+p,b=s+v;if(u.s.r>_&&(u.s.r=_),u.s.c>b&&(u.s.c=b),u.e.r<_&&(u.e.r=_),u.e.c<b&&(u.e.c=b),t[p][v]&&typeof t[p][v]=="object"&&!Array.isArray(t[p][v])&&!(t[p][v]instanceof Date))g=t[p][v];else if(Array.isArray(g.v)&&(g.f=t[p][v][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||pi[14],n.cellDates?(g.t="d",g.w=Xu(g.z,ko(g.v))):(g.t="n",g.v=ko(g.v),g.w=Xu(g.z,g.v))):g.t="s";if(i)a[_]||(a[_]=[]),a[_][b]&&a[_][b].z&&(g.z=a[_][b].z),a[_][b]=g;else{var E=yn({c:b,r:_});a[E]&&a[E].z&&(g.z=a[E].z),a[E]=g}}}return u.s.c<1e7&&(a["!ref"]=ji(u)),a}function xd(e,t){return YL(null,e,t)}function gJ(e){return e.read_shift(4,"i")}function xl(e,t){return t||(t=ht(4)),t.write_shift(4,e),t}function Ka(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ca(e,t){var r=!1;return t==null&&(r=!0,t=ht(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function mJ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function vJ(e,t){return t||(t=ht(4)),t.write_shift(2,0),t.write_shift(2,0),t}function O4(e,t){var r=e.l,n=e.read_shift(1),i=Ka(e),a=[],o={t:i,h:i};if(n&1){for(var s=e.read_shift(4),c=0;c!=s;++c)a.push(mJ(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function xJ(e,t){var r=!1;return t==null&&(r=!0,t=ht(15+4*e.t.length)),t.write_shift(1,0),ca(e.t,t),r?t.slice(0,t.l):t}var yJ=O4;function wJ(e,t){var r=!1;return t==null&&(r=!0,t=ht(23+4*e.t.length)),t.write_shift(1,1),ca(e.t,t),t.write_shift(4,1),vJ({},t),r?t.slice(0,t.l):t}function Hs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Eh(e,t){return t==null&&(t=ht(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Sh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ah(e,t){return t==null&&(t=ht(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var bJ=Ka,ZL=ca;function k4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Z2(e,t){var r=!1;return t==null&&(r=!0,t=ht(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var _J=Ka,o_=k4,N4=Z2;function JL(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Y2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Mf(t,0)>>2;return r?i/100:i}function QL(e,t){t==null&&(t=ht(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function eD(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function EJ(e,t){return t||(t=ht(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ch=eD,yd=EJ;function wd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ch(e,t){return(t||ht(8)).write_shift(8,e,"f")}function SJ(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=RJ[i];u&&(t.rgb=WT(u));break;case 2:t.rgb=WT([o,s,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function J2(e,t){if(t||(t=ht(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function AJ(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function CJ(e,t){t||(t=ht(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var tD=2,Zo=3,gm=11,Q2=19,mm=64,TJ=65,OJ=71,kJ=4108,NJ=4126,Ea=80,IT={1:{n:"CodePage",t:tD},2:{n:"Category",t:Ea},3:{n:"PresentationFormat",t:Ea},4:{n:"ByteCount",t:Zo},5:{n:"LineCount",t:Zo},6:{n:"ParagraphCount",t:Zo},7:{n:"SlideCount",t:Zo},8:{n:"NoteCount",t:Zo},9:{n:"HiddenCount",t:Zo},10:{n:"MultimediaClipCount",t:Zo},11:{n:"ScaleCrop",t:gm},12:{n:"HeadingPairs",t:kJ},13:{n:"TitlesOfParts",t:NJ},14:{n:"Manager",t:Ea},15:{n:"Company",t:Ea},16:{n:"LinksUpToDate",t:gm},17:{n:"CharacterCount",t:Zo},19:{n:"SharedDoc",t:gm},22:{n:"HyperlinksChanged",t:gm},23:{n:"AppVersion",t:Zo,p:"version"},24:{n:"DigSig",t:TJ},26:{n:"ContentType",t:Ea},27:{n:"ContentStatus",t:Ea},28:{n:"Language",t:Ea},29:{n:"Version",t:Ea},255:{},2147483648:{n:"Locale",t:Q2},2147483651:{n:"Behavior",t:Q2},1919054434:{}},RT={1:{n:"CodePage",t:tD},2:{n:"Title",t:Ea},3:{n:"Subject",t:Ea},4:{n:"Author",t:Ea},5:{n:"Keywords",t:Ea},6:{n:"Comments",t:Ea},7:{n:"Template",t:Ea},8:{n:"LastAuthor",t:Ea},9:{n:"RevNumber",t:Ea},10:{n:"EditTime",t:mm},11:{n:"LastPrinted",t:mm},12:{n:"CreatedDate",t:mm},13:{n:"ModifiedDate",t:mm},14:{n:"PageCount",t:Zo},15:{n:"WordCount",t:Zo},16:{n:"CharCount",t:Zo},17:{n:"Thumbnail",t:OJ},18:{n:"Application",t:Ea},19:{n:"DocSecurity",t:Zo},255:{},2147483648:{n:"Locale",t:Q2},2147483651:{n:"Behavior",t:Q2},1919054434:{}};function PJ(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var IJ=PJ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RJ=No(IJ),Vp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},LJ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},vm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function rD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function nD(e,t){var r=HZ(LJ),n=[],i;n[n.length]=Fi,n[n.length]=jt("Types",null,{xmlns:sa.CT,"xmlns:xsd":sa.xsd,"xmlns:xsi":sa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return jt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=jt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:vm[c][t.bookType]||vm[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=jt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:vm[c][t.bookType]||vm[c].xlsx})})},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=jt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iD(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function R0(e){var t=[Fi,jt("Relationships",null,{xmlns:sa.RELS})];return Pa(e["!id"]).forEach(function(r){t[t.length]=jt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function pn(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[tn.HLINK,tn.XPATH,tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function DJ(e){var t=[Fi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function LT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function jJ(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function MJ(e){var t=[Fi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(LT(e[r][0],e[r][1])),t.push(jJ("",e[r][0]));return t.push(LT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function aD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+H2.version+"</meta:generator></office:meta></office:document-meta>"}var Xf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tb(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=vn(t),n[n.length]=r?jt(e,t,r):Ta(e,t))}function oD(e,t){var r=t||{},n=[Fi,jt("cp:coreProperties",null,{"xmlns:cp":sa.CORE_PROPS,"xmlns:dc":sa.dc,"xmlns:dcterms":sa.dcterms,"xmlns:dcmitype":sa.dcmitype,"xmlns:xsi":sa.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tb("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:a_(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&tb("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:a_(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Xf.length;++a){var o=Xf[a],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&tb(o[0],s,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var L0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lD(e){var t=[],r=jt;return e||(e={}),e.Application="SheetJS",t[t.length]=Fi,t[t.length]=jt("Properties",null,{xmlns:sa.EXT_PROPS,"xmlns:vt":sa.vt}),L0.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=vn(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+vn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function cD(e){var t=[Fi,jt("Properties",null,{xmlns:sa.CUST_PROPS,"xmlns:vt":sa.vt})];if(!e)return t.join("");var r=1;return Pa(e).forEach(function(i){++r,t[t.length]=jt("property",tJ(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:vn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var DT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function FJ(e,t){var r=[];return Pa(DT).map(function(n){for(var i=0;i<Xf.length;++i)if(Xf[i][1]==n)return Xf[i];for(i=0;i<L0.length;++i)if(L0[i][1]==n)return L0[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Ta(DT[n[1]]||n[1],i))}}),jt("DocumentProperties",r.join(""),{xmlns:ts.o})}function BJ(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Pa(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<Xf.length;++o)if(a==Xf[o][1])return;for(o=0;o<L0.length;++o)if(a==L0[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var s=e[a],c="string";typeof s=="number"?(c="float",s=String(s)):s===!0||s===!1?(c="boolean",s=s?"1":"0"):s=String(s),i.push(jt(_T(a),s,{"dt:dt":c}))}}),t&&Pa(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),i.push(jt(_T(a),o,{"dt:dt":s}))}}),"<"+n+' xmlns="'+ts.o+'">'+i.join("")+"</"+n+">"}function UJ(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=ht(8);return o.write_shift(4,n),o.write_shift(4,i),o}function jT(e,t){var r=ht(4),n=ht(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ht(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=UJ(t);break;case 31:case 80:for(n=ht(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ca([r,n])}var uD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $J(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function MT(e,t,r){var n=ht(8),i=[],a=[],o=8,s=0,c=ht(8),u=ht(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),o+=8+c.length,!t){u=ht(8),u.write_shift(4,0),i.unshift(u);var h=[ht(4)];for(h[0].write_shift(4,e.length),s=0;s<e.length;++s){var p=e[s][0];for(c=ht(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,s+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Ca(h),a.unshift(c),o+=8+c.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(uD.indexOf(e[s][0])>-1||sD.indexOf(e[s][0])>-1)&&e[s][1]!=null){var v=e[s][1],g=0;if(t){g=+t[e[s][0]];var _=r[g];if(_.p=="version"&&typeof v=="string"){var b=v.split(".");v=(+b[0]<<16)+(+b[1]||0)}c=jT(_.t,v)}else{var E=$J(v);E==-1&&(E=31,v=String(v)),c=jT(E,v)}a.push(c),u=ht(8),u.write_shift(4,t?g:2+s),i.push(u),o+=8+c.length}var S=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,S),S+=a[s].length;return n.write_shift(4,o),n.write_shift(4,a.length),Ca([n].concat(i).concat(a))}function FT(e,t,r,n,i,a){var o=ht(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,bn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var c=MT(e,r,n);if(s.push(c),i){var u=MT(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),s.push(u)}return Ca(s)}function WJ(e,t){t||(t=ht(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function zJ(e,t){return e.read_shift(t)===1}function ao(e,t){return t||(t=ht(2)),t.write_shift(2,+!!e),t}function fD(e){return e.read_shift(2,"u")}function Ps(e,t){return t||(t=ht(2)),t.write_shift(2,e),t}function hD(e,t,r){return r||(r=ht(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dD(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?e.read_shift(n,i):"";return o}function HJ(e){var t=e.t||"",r=ht(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ht(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Ca(i)}function VJ(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function qJ(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):VJ(e,n,r)}function GJ(e,t,r){if(r.biff>5)return qJ(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function pD(e,t,r){return r||(r=ht(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function BT(e,t){t||(t=ht(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function KJ(e){var t=ht(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(a==28)n=n.slice(1),BT(n,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var s=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),a&8&&BT(i>-1?n.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function uh(e,t,r,n){return n||(n=ht(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function XJ(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[i,a,o]}function YJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function gD(e,t){return t||(t=ht(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function P4(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ht(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function ZJ(e,t){var r=!t||t.biff==8,n=ht(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function JJ(e,t){var r=!t||t.biff>=8?2:1,n=ht(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function QJ(e,t){var r=ht(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=HJ(e[i]);var a=Ca([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function eQ(){var e=ht(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function tQ(e){var t=ht(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function rQ(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=ht(i);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function nQ(e,t,r,n){var i=ht(10);return uh(e,t,n,i),i.write_shift(4,r),i}function iQ(e,t,r,n,i){var a=!i||i.biff==8,o=ht(8+ +a+(1+a)*r.length);return uh(e,t,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function aQ(e,t,r,n){var i=r&&r.biff==5;n||(n=ht(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function oQ(e,t){var r=t.biff==8||!t.biff?4:2,n=ht(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function UT(e,t,r,n){var i=r&&r.biff==5;n||(n=ht(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function sQ(e){var t=ht(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function lQ(e,t,r,n,i,a){var o=ht(8);return uh(e,t,n,o),hD(r,a,o),o}function cQ(e,t,r,n){var i=ht(14);return uh(e,t,n,i),ch(r,i),i}function uQ(e,t,r){if(r.biff<8)return fQ(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(XJ(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function fQ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dD(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function hQ(e){var t=ht(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)gD(e[r],t);return t}function dQ(e){var t=ht(24),r=la(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Ca([t,KJ(e[1])])}function pQ(e){var t=e[1].Tooltip,r=ht(10+2*(t.length+1));r.write_shift(2,2048);var n=la(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function gQ(e){return e||(e=ht(4)),e.write_shift(2,1),e.write_shift(2,1),e}function mQ(e,t,r){if(!r.cellStyles)return Hl(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:s,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function vQ(e,t){var r=ht(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function xQ(e){for(var t=ht(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function yQ(e,t,r){var n=ht(15);return Gp(n,e,t),n.write_shift(8,r,"f"),n}function wQ(e,t,r){var n=ht(9);return Gp(n,e,t),n.write_shift(2,r),n}var bQ=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=w4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,c){var u=[],h=lh(1);switch(c.type){case"base64":h=hl($c(s));break;case"binary":h=hl(s);break;case"buffer":case"array":h=s;break}Qo(h,0);var p=h.read_shift(1),v=!!(p&136),g=!1,_=!1;switch(p){case 2:break;case 3:break;case 48:g=!0,v=!0;break;case 49:g=!0,v=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,E=521;p==2&&(b=h.read_shift(2)),h.l+=3,p!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(E=h.read_shift(2));var S=h.read_shift(2),T=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(T=e[h[h.l]]),h.l+=1,h.l+=2),_&&(h.l+=36);for(var O=[],k={},D=Math.min(h.length,p==2?521:E-10-(g?264:0)),z=_?32:11;h.l<D&&h[h.l]!=13;)switch(k={},k.name=V2.utils.decode(T,h.slice(h.l,h.l+z)).replace(/[\u0000\r\n].*$/g,""),h.l+=z,k.type=String.fromCharCode(h.read_shift(1)),p!=2&&!_&&(k.offset=h.read_shift(4)),k.len=h.read_shift(1),p==2&&(k.offset=h.read_shift(2)),k.dec=h.read_shift(1),k.name.length&&O.push(k),p!=2&&(h.l+=_?13:14),k.type){case"B":(!g||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(h[h.l]!==13&&(h.l=E-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=E;var F=0,q=0;for(u[0]=[],q=0;q!=O.length;++q)u[0][q]=O[q].name;for(;b-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,u[++F]=[],q=0,q=0;q!=O.length;++q){var B=h.slice(h.l,h.l+O[q].len);h.l+=O[q].len,Qo(B,0);var ee=V2.utils.decode(T,B);switch(O[q].type){case"C":ee.trim().length&&(u[F][q]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?u[F][q]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):u[F][q]=ee;break;case"F":u[F][q]=parseFloat(ee.trim());break;case"+":case"I":u[F][q]=_?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":u[F][q]=!0;break;case"N":case"F":u[F][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[F][q]="##MEMO##"+(_?parseInt(ee.trim(),10):B.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(u[F][q]=+ee||0);break;case"@":u[F][q]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[F][q]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[F][q]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[F][q]=-B.read_shift(-8,"f");break;case"B":if(g&&O[q].len==8){u[F][q]=B.read_shift(8,"f");break}case"G":case"P":B.l+=O[q].len;break;case"0":if(O[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+O[q].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=O,u}function n(s,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=xd(r(s,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function i(s,c){try{return _h(n(s,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,c){var u=c||{};if(+u.codepage>=0&&gp(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Oo(),p=iv(s,{header:1,raw:!0,cellDates:!0}),v=p[0],g=p.slice(1),_=s["!cols"]||[],b=0,E=0,S=0,T=1;for(b=0;b<v.length;++b){if(((_[b]||{}).DBF||{}).name){v[b]=_[b].DBF.name,++S;continue}if(v[b]!=null){if(++S,typeof v[b]=="number"&&(v[b]=v[b].toString(10)),typeof v[b]!="string")throw new Error("DBF Invalid column name "+v[b]+" |"+typeof v[b]+"|");if(v.indexOf(v[b])!==b){for(E=0;E<1024;++E)if(v.indexOf(v[b]+"_"+E)==-1){v[b]+="_"+E;break}}}}var O=Wn(s["!ref"]),k=[],D=[],z=[];for(b=0;b<=O.e.c-O.s.c;++b){var F="",q="",B=0,ee=[];for(E=0;E<g.length;++E)g[E][b]!=null&&ee.push(g[E][b]);if(ee.length==0||v[b]==null){k[b]="?";continue}for(E=0;E<ee.length;++E){switch(typeof ee[E]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=ee[E]instanceof Date?"D":"C";break;default:q="C"}B=Math.max(B,String(ee[E]).length),F=F&&F!=q?"C":q}B>250&&(B=250),q=((_[b]||{}).DBF||{}).type,q=="C"&&_[b].DBF.len>B&&(B=_[b].DBF.len),F=="B"&&q=="N"&&(F="N",z[b]=_[b].DBF.dec,B=_[b].DBF.len),D[b]=F=="C"||q=="N"?B:a[F]||0,T+=D[b],k[b]=F}var W=h.next(32);for(W.write_shift(4,318902576),W.write_shift(4,g.length),W.write_shift(2,296+32*S),W.write_shift(2,T),b=0;b<4;++b)W.write_shift(4,0);for(W.write_shift(4,0|(+t[vL]||3)<<8),b=0,E=0;b<v.length;++b)if(v[b]!=null){var U=h.next(32),K=(v[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,K,"sbcs"),U.write_shift(1,k[b]=="?"?"C":k[b],"sbcs"),U.write_shift(4,E),U.write_shift(1,D[b]||a[k[b]]||0),U.write_shift(1,z[b]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),E+=D[b]||a[k[b]]||0}var oe=h.next(264);for(oe.write_shift(4,13),b=0;b<65;++b)oe.write_shift(4,0);for(b=0;b<g.length;++b){var ae=h.next(T);for(ae.write_shift(1,0),E=0;E<v.length;++E)if(v[E]!=null)switch(k[E]){case"L":ae.write_shift(1,g[b][E]==null?63:g[b][E]?84:70);break;case"B":ae.write_shift(8,g[b][E]||0,"f");break;case"N":var Re="0";for(typeof g[b][E]=="number"&&(Re=g[b][E].toFixed(z[E]||0)),S=0;S<D[E]-Re.length;++S)ae.write_shift(1,32);ae.write_shift(1,Re,"sbcs");break;case"D":g[b][E]?(ae.write_shift(4,("0000"+g[b][E].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(g[b][E].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+g[b][E].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var ke=String(g[b][E]!=null?g[b][E]:"").slice(0,D[E]);for(ae.write_shift(1,ke,"sbcs"),S=0;S<D[E]-ke.length;++S)ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),_Q=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Pa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,g){var _=e[g];return typeof _=="number"?uT(_):_},n=function(v,g,_){var b=g.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?v:uT(b)};e["|"]=254;function i(v,g){switch(g.type){case"base64":return a($c(v),g);case"binary":return a(v,g);case"buffer":return a(ln&&Buffer.isBuffer(v)?v.toString("binary"):Wp(v),g);case"array":return a(_x(v),g)}throw new Error("Unrecognized type "+g.type)}function a(v,g){var _=v.split(/[\n\r]+/),b=-1,E=-1,S=0,T=0,O=[],k=[],D=null,z={},F=[],q=[],B=[],ee=0,W;for(+g.codepage>=0&&gp(+g.codepage);S!==_.length;++S){ee=0;var U=_[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=U.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),oe=K[0],ae;if(U.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&k.push(U.slice(3).replace(/;;/g,";"));break;case"C":var Re=!1,ke=!1,we=!1,_e=!1,$e=-1,We=-1;for(T=1;T<K.length;++T)switch(K[T].charAt(0)){case"A":break;case"X":E=parseInt(K[T].slice(1))-1,ke=!0;break;case"Y":for(b=parseInt(K[T].slice(1))-1,ke||(E=0),W=O.length;W<=b;++W)O[W]=[];break;case"K":ae=K[T].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Pc(ae))?isNaN(vp(ae).getDate())||(ae=co(ae)):(ae=Pc(ae),D!==null&&kL(D)&&(ae=RL(ae))),Re=!0;break;case"E":_e=!0;var j=wee(K[T].slice(1),{r:b,c:E});O[b][E]=[O[b][E],j];break;case"S":we=!0,O[b][E]=[O[b][E],"S5S"];break;case"G":break;case"R":$e=parseInt(K[T].slice(1))-1;break;case"C":We=parseInt(K[T].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}if(Re&&(O[b][E]&&O[b][E].length==2?O[b][E][0]=ae:O[b][E]=ae,D=null),we){if(_e)throw new Error("SYLK shared formula cannot have own formula");var Y=$e>-1&&O[$e][We];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");O[b][E][1]=bee(Y[1],{r:b-$e,c:E-We})}break;case"F":var H=0;for(T=1;T<K.length;++T)switch(K[T].charAt(0)){case"X":E=parseInt(K[T].slice(1))-1,++H;break;case"Y":for(b=parseInt(K[T].slice(1))-1,W=O.length;W<=b;++W)O[W]=[];break;case"M":ee=parseInt(K[T].slice(1))/20;break;case"F":break;case"G":break;case"P":D=k[parseInt(K[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=K[T].slice(1).split(" "),W=parseInt(B[0],10);W<=parseInt(B[1],10);++W)ee=parseInt(B[2],10),q[W-1]=ee===0?{hidden:!0}:{wch:ee},I4(q[W-1]);break;case"C":E=parseInt(K[T].slice(1))-1,q[E]||(q[E]={});break;case"R":b=parseInt(K[T].slice(1))-1,F[b]||(F[b]={}),ee>0?(F[b].hpt=ee,F[b].hpx=wD(ee)):ee===0&&(F[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}H<1&&(D=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}}return F.length>0&&(z["!rows"]=F),q.length>0&&(z["!cols"]=q),g&&g.sheetRows&&(O=O.slice(0,g.sheetRows)),[O,z]}function o(v,g){var _=i(v,g),b=_[0],E=_[1],S=xd(b,g);return Pa(E).forEach(function(T){S[T]=E[T]}),S}function s(v,g){return _h(o(v,g),g)}function c(v,g,_,b){var E="C;Y"+(_+1)+";X"+(b+1)+";K";switch(v.t){case"n":E+=v.v||0,v.f&&!v.F&&(E+=";E"+L4(v.f,{r:_,c:b}));break;case"b":E+=v.v?"TRUE":"FALSE";break;case"e":E+=v.w||v.v;break;case"d":E+='"'+(v.w||v.v)+'"';break;case"s":E+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(v,g){g.forEach(function(_,b){var E="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?E+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=ev(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=tv(_.wpx)),typeof _.wch=="number"&&(E+=Math.round(_.wch))),E.charAt(E.length-1)!=" "&&v.push(E)})}function h(v,g){g.forEach(function(_,b){var E="F;";_.hidden?E+="M0;":_.hpt?E+="M"+20*_.hpt+";":_.hpx&&(E+="M"+20*rv(_.hpx)+";"),E.length>2&&v.push(E+"R"+(b+1))})}function p(v,g){var _=["ID;PWXL;N;E"],b=[],E=Wn(v["!ref"]),S,T=Array.isArray(v),O=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),v["!cols"]&&u(_,v["!cols"]),v["!rows"]&&h(_,v["!rows"]),_.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var k=E.s.r;k<=E.e.r;++k)for(var D=E.s.c;D<=E.e.c;++D){var z=yn({r:k,c:D});S=T?(v[k]||[])[D]:v[z],!(!S||S.v==null&&(!S.f||S.F))&&b.push(c(S,v,k,D))}return _.join(O)+O+b.join(O)+O+"E"+O}return{to_workbook:s,to_sheet:o,from_sheet:p}}(),EQ=function(){function e(a,o){switch(o.type){case"base64":return t($c(a),o);case"binary":return t(a,o);case"buffer":return t(ln&&Buffer.isBuffer(a)?a.toString("binary"):Wp(a),o);case"array":return t(_x(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var s=a.split(`
`),c=-1,u=-1,h=0,p=[];h!==s.length;++h){if(s[h].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var v=s[h].trim().split(","),g=v[0],_=v[1];++h;for(var b=s[h]||"";(b.match(/["]/g)||[]).length&1&&h<s.length-1;)b+=`
`+s[++h];switch(b=b.trim(),+g){case-1:if(b==="BOT"){p[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[c][u]=!0:b==="FALSE"?p[c][u]=!1:isNaN(Pc(_))?isNaN(vp(_).getDate())?p[c][u]=_:p[c][u]=co(_):p[c][u]=Pc(_),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(a,o){return xd(e(a,o),o)}function n(a,o){return _h(r(a,o),o)}var i=function(){var a=function(c,u,h,p,v){c.push(u),c.push(h+","+p),c.push('"'+v.replace(/"/g,'""')+'"')},o=function(c,u,h,p){c.push(u+","+h),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],h=Wn(c["!ref"]),p,v=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,h.e.r-h.s.r+1,""),a(u,"TUPLES",0,h.e.c-h.s.c+1,""),a(u,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){o(u,-1,0,"BOT");for(var _=h.s.c;_<=h.e.c;++_){var b=yn({r:g,c:_});if(p=v?(c[g]||[])[_]:c[b],!p){o(u,1,0,"");continue}switch(p.t){case"n":var E=p.w;!E&&p.v!=null&&(E=p.v),E==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,E,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Xu(p.z||pi[14],ko(co(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var S=`\r
`,T=u.join(S);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),mD=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,v){for(var g=p.split(`
`),_=-1,b=-1,E=0,S=[];E!==g.length;++E){var T=g[E].trim().split(":");if(T[0]==="cell"){var O=la(T[1]);if(S.length<=O.r)for(_=S.length;_<=O.r;++_)S[_]||(S[_]=[]);switch(_=O.r,b=O.c,T[2]){case"t":S[_][b]=e(T[3]);break;case"v":S[_][b]=+T[3];break;case"vtf":var k=T[T.length-1];case"vtc":switch(T[3]){case"nl":S[_][b]=!!+T[4];break;default:S[_][b]=+T[4];break}T[2]=="vtf"&&(S[_][b]=[S[_][b],k])}}}return v&&v.sheetRows&&(S=S.slice(0,v.sheetRows)),S}function n(p,v){return xd(r(p,v),v)}function i(p,v){return _h(n(p,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var v=[],g=[],_,b="",E=fs(p["!ref"]),S=Array.isArray(p),T=E.s.r;T<=E.e.r;++T)for(var O=E.s.c;O<=E.e.c;++O)if(b=yn({r:T,c:O}),_=S?(p[T]||[])[O]:p[b],!(!_||_.v==null||_.t==="z")){switch(g=["cell",b,"t"],_.t){case"s":case"str":g.push(t(_.v));break;case"n":_.f?(g[2]="vtf",g[3]="n",g[4]=_.v,g[5]=t(_.f)):(g[2]="v",g[3]=_.v);break;case"b":g[2]="vt"+(_.f?"f":"c"),g[3]="nl",g[4]=_.v?"1":"0",g[5]=t(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var k=ko(co(_.v));g[2]="vtc",g[3]="nd",g[4]=""+k,g[5]=_.w||Xu(_.z||pi[14],k);break;case"e":continue}v.push(g.join(":"))}return v.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function h(p){return[a,o,s,o,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),SQ=function(){function e(h,p,v,g,_){_.raw?p[v][g]=h:h===""||(h==="TRUE"?p[v][g]=!0:h==="FALSE"?p[v][g]=!1:isNaN(Pc(h))?isNaN(vp(h).getDate())?p[v][g]=h:p[v][g]=co(h):p[v][g]=Pc(h))}function t(h,p){var v=p||{},g=[];if(!h||h.length===0)return g;for(var _=h.split(/[\r\n]/),b=_.length-1;b>=0&&_[b].length===0;)--b;for(var E=10,S=0,T=0;T<=b;++T)S=_[T].indexOf(" "),S==-1?S=_[T].length:S++,E=Math.max(E,S);for(T=0;T<=b;++T){g[T]=[];var O=0;for(e(_[T].slice(0,E).trim(),g,T,O,v),O=1;O<=(_[T].length-E)/10+1;++O)e(_[T].slice(E+(O-1)*10,E+O*10).trim(),g,T,O,v)}return v.sheetRows&&(g=g.slice(0,v.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var p={},v=!1,g=0,_=0;g<h.length;++g)(_=h.charCodeAt(g))==34?v=!v:!v&&_ in r&&(p[_]=(p[_]||0)+1);_=[];for(g in p)Object.prototype.hasOwnProperty.call(p,g)&&_.push([p[g],g]);if(!_.length){p=n;for(g in p)Object.prototype.hasOwnProperty.call(p,g)&&_.push([p[g],g])}return _.sort(function(b,E){return b[0]-E[0]||n[b[1]]-n[E[1]]}),r[_.pop()[1]]||44}function a(h,p){var v=p||{},g="",_=v.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=i(h.slice(0,1024)):v&&v.FS?g=v.FS:g=i(h.slice(0,1024));var E=0,S=0,T=0,O=0,k=0,D=g.charCodeAt(0),z=!1,F=0,q=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=v.dateNF!=null?UZ(v.dateNF):null;function ee(){var W=h.slice(O,k),U={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)U.t="z";else if(v.raw)U.t="s",U.v=W;else if(W.trim().length===0)U.t="s",U.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(U.t="s",U.v=W.slice(2,-1).replace(/""/g,'"')):_ee(W)?(U.t="n",U.f=W.slice(1)):(U.t="s",U.v=W);else if(W=="TRUE")U.t="b",U.v=!0;else if(W=="FALSE")U.t="b",U.v=!1;else if(!isNaN(T=Pc(W)))U.t="n",v.cellText!==!1&&(U.w=W),U.v=T;else if(!isNaN(vp(W).getDate())||B&&W.match(B)){U.z=v.dateNF||pi[14];var K=0;B&&W.match(B)&&(W=$Z(W,v.dateNF,W.match(B)||[]),K=1),v.cellDates?(U.t="d",U.v=co(W,K)):(U.t="n",U.v=ko(co(W,K))),v.cellText!==!1&&(U.w=Xu(U.z,U.v instanceof Date?ko(U.v):U.v)),v.cellNF||delete U.z}else U.t="s",U.v=W;if(U.t=="z"||(v.dense?(_[E]||(_[E]=[]),_[E][S]=U):_[yn({c:S,r:E})]=U),O=k+1,q=h.charCodeAt(O),b.e.c<S&&(b.e.c=S),b.e.r<E&&(b.e.r=E),F==D)++S;else if(S=0,++E,v.sheetRows&&v.sheetRows<=E)return!0}e:for(;k<h.length;++k)switch(F=h.charCodeAt(k)){case 34:q===34&&(z=!z);break;case D:case 10:case 13:if(!z&&ee())break e;break}return k-O>0&&ee(),_["!ref"]=ji(b),_}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,p):xd(t(h,p),p)}function s(h,p){var v="",g=p.type=="string"?[0,0,0,0]:jie(h,p);switch(p.type){case"base64":v=$c(h);break;case"binary":v=h;break;case"buffer":p.codepage==65001?v=h.toString("utf8"):p.codepage&&typeof V2<"u"||(v=ln&&Buffer.isBuffer(h)?h.toString("binary"):Wp(h));break;case"array":v=_x(h);break;case"string":v=h;break;default:throw new Error("Unrecognized type "+p.type)}return g[0]==239&&g[1]==187&&g[2]==191?v=B1(v.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?v=B1(v):p.type=="binary"&&typeof V2<"u",v.slice(0,19)=="socialcalc:version:"?mD.to_sheet(p.type=="string"?v:B1(v),p):o(v,p)}function c(h,p){return _h(s(h,p),p)}function u(h){for(var p=[],v=Wn(h["!ref"]),g,_=Array.isArray(h),b=v.s.r;b<=v.e.r;++b){for(var E=[],S=v.s.c;S<=v.e.c;++S){var T=yn({r:b,c:S});if(g=_?(h[b]||[])[S]:h[T],!g||g.v==null){E.push("          ");continue}for(var O=(g.w||(Wc(g),g.w)||"").slice(0,10);O.length<10;)O+=" ";E.push(O+(S===0?" ":""))}p.push(E.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:s,from_sheet:u}}(),$T=function(){function e(j,Y,H){if(j){Qo(j,j.l||0);for(var X=H.Enum||$e;j.l<j.length;){var ne=j.read_shift(2),Oe=X[ne]||X[65535],Ie=j.read_shift(2),be=j.l+Ie,Pe=Oe.f&&Oe.f(j,Ie,H);if(j.l=be,Y(Pe,Oe,ne))return}}}function t(j,Y){switch(Y.type){case"base64":return r(hl($c(j)),Y);case"binary":return r(hl(j),Y);case"buffer":case"array":return r(j,Y)}throw"Unsupported type "+Y.type}function r(j,Y){if(!j)return j;var H=Y||{},X=H.dense?[]:{},ne="Sheet1",Oe="",Ie=0,be={},Pe=[],ze=[],Me={s:{r:0,c:0},e:{r:0,c:0}},st=H.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)H.Enum=$e,e(j,function(lt,Ot,ot){switch(ot){case 0:H.vers=lt,lt>=4096&&(H.qpro=!0);break;case 6:Me=lt;break;case 204:lt&&(Oe=lt);break;case 222:Oe=lt;break;case 15:case 51:H.qpro||(lt[1].v=lt[1].v.slice(1));case 13:case 14:case 16:ot==14&&(lt[2]&112)==112&&(lt[2]&15)>1&&(lt[2]&15)<15&&(lt[1].z=H.dateNF||pi[14],H.cellDates&&(lt[1].t="d",lt[1].v=RL(lt[1].v))),H.qpro&&lt[3]>Ie&&(X["!ref"]=ji(Me),be[ne]=X,Pe.push(ne),X=H.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ie=lt[3],ne=Oe||"Sheet"+(Ie+1),Oe="");var Ut=H.dense?(X[lt[0].r]||[])[lt[0].c]:X[yn(lt[0])];if(Ut){Ut.t=lt[1].t,Ut.v=lt[1].v,lt[1].z!=null&&(Ut.z=lt[1].z),lt[1].f!=null&&(Ut.f=lt[1].f);break}H.dense?(X[lt[0].r]||(X[lt[0].r]=[]),X[lt[0].r][lt[0].c]=lt[1]):X[yn(lt[0])]=lt[1];break}},H);else if(j[2]==26||j[2]==14)H.Enum=We,j[2]==14&&(H.qpro=!0,j.l=0),e(j,function(lt,Ot,ot){switch(ot){case 204:ne=lt;break;case 22:lt[1].v=lt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(lt[3]>Ie&&(X["!ref"]=ji(Me),be[ne]=X,Pe.push(ne),X=H.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ie=lt[3],ne="Sheet"+(Ie+1)),st>0&&lt[0].r>=st)break;H.dense?(X[lt[0].r]||(X[lt[0].r]=[]),X[lt[0].r][lt[0].c]=lt[1]):X[yn(lt[0])]=lt[1],Me.e.c<lt[0].c&&(Me.e.c=lt[0].c),Me.e.r<lt[0].r&&(Me.e.r=lt[0].r);break;case 27:lt[14e3]&&(ze[lt[14e3][0]]=lt[14e3][1]);break;case 1537:ze[lt[0]]=lt[1],lt[0]==Ie&&(ne=lt[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(X["!ref"]=ji(Me),be[Oe||ne]=X,Pe.push(Oe||ne),!ze.length)return{SheetNames:Pe,Sheets:be};for(var Fe={},me=[],Dt=0;Dt<ze.length;++Dt)be[Pe[Dt]]?(me.push(ze[Dt]||Pe[Dt]),Fe[ze[Dt]]=be[ze[Dt]]||be[Pe[Dt]]):(me.push(ze[Dt]),Fe[ze[Dt]]={"!ref":"A1"});return{SheetNames:me,Sheets:Fe}}function n(j,Y){var H=Y||{};if(+H.codepage>=0&&gp(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var X=Oo(),ne=Wn(j["!ref"]),Oe=Array.isArray(j),Ie=[];Mt(X,0,a(1030)),Mt(X,6,c(ne));for(var be=Math.min(ne.e.r,8191),Pe=ne.s.r;Pe<=be;++Pe)for(var ze=ka(Pe),Me=ne.s.c;Me<=ne.e.c;++Me){Pe===ne.s.r&&(Ie[Me]=Ga(Me));var st=Ie[Me]+ze,Fe=Oe?(j[Pe]||[])[Me]:j[st];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Mt(X,13,g(Pe,Me,Fe.v)):Mt(X,14,b(Pe,Me,Fe.v));else{var me=Wc(Fe);Mt(X,15,p(Pe,Me,me.slice(0,239)))}}return Mt(X,1),X.end()}function i(j,Y){var H=Y||{};if(+H.codepage>=0&&gp(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var X=Oo();Mt(X,0,o(j));for(var ne=0,Oe=0;ne<j.SheetNames.length;++ne)(j.Sheets[j.SheetNames[ne]]||{})["!ref"]&&Mt(X,27,_e(j.SheetNames[ne],Oe++));var Ie=0;for(ne=0;ne<j.SheetNames.length;++ne){var be=j.Sheets[j.SheetNames[ne]];if(!(!be||!be["!ref"])){for(var Pe=Wn(be["!ref"]),ze=Array.isArray(be),Me=[],st=Math.min(Pe.e.r,8191),Fe=Pe.s.r;Fe<=st;++Fe)for(var me=ka(Fe),Dt=Pe.s.c;Dt<=Pe.e.c;++Dt){Fe===Pe.s.r&&(Me[Dt]=Ga(Dt));var lt=Me[Dt]+me,Ot=ze?(be[Fe]||[])[Dt]:be[lt];if(!(!Ot||Ot.t=="z"))if(Ot.t=="n")Mt(X,23,ee(Fe,Dt,Ie,Ot.v));else{var ot=Wc(Ot);Mt(X,22,F(Fe,Dt,Ie,ot.slice(0,239)))}}++Ie}}return Mt(X,1),X.end()}function a(j){var Y=ht(2);return Y.write_shift(2,j),Y}function o(j){var Y=ht(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var H=0,X=0,ne=0,Oe=0;Oe<j.SheetNames.length;++Oe){var Ie=j.SheetNames[Oe],be=j.Sheets[Ie];if(!(!be||!be["!ref"])){++ne;var Pe=fs(be["!ref"]);H<Pe.e.r&&(H=Pe.e.r),X<Pe.e.c&&(X=Pe.e.c)}}return H>8191&&(H=8191),Y.write_shift(2,H),Y.write_shift(1,ne),Y.write_shift(1,X),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function s(j,Y,H){var X={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&H.qpro?(X.s.c=j.read_shift(1),j.l++,X.s.r=j.read_shift(2),X.e.c=j.read_shift(1),j.l++,X.e.r=j.read_shift(2),X):(X.s.c=j.read_shift(2),X.s.r=j.read_shift(2),Y==12&&H.qpro&&(j.l+=2),X.e.c=j.read_shift(2),X.e.r=j.read_shift(2),Y==12&&H.qpro&&(j.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function c(j){var Y=ht(8);return Y.write_shift(2,j.s.c),Y.write_shift(2,j.s.r),Y.write_shift(2,j.e.c),Y.write_shift(2,j.e.r),Y}function u(j,Y,H){var X=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(X[0].c=j.read_shift(1),X[3]=j.read_shift(1),X[0].r=j.read_shift(2),j.l+=2):(X[2]=j.read_shift(1),X[0].c=j.read_shift(2),X[0].r=j.read_shift(2)),X}function h(j,Y,H){var X=j.l+Y,ne=u(j,Y,H);if(ne[1].t="s",H.vers==20768){j.l++;var Oe=j.read_shift(1);return ne[1].v=j.read_shift(Oe,"utf8"),ne}return H.qpro&&j.l++,ne[1].v=j.read_shift(X-j.l,"cstr"),ne}function p(j,Y,H){var X=ht(7+H.length);X.write_shift(1,255),X.write_shift(2,Y),X.write_shift(2,j),X.write_shift(1,39);for(var ne=0;ne<X.length;++ne){var Oe=H.charCodeAt(ne);X.write_shift(1,Oe>=128?95:Oe)}return X.write_shift(1,0),X}function v(j,Y,H){var X=u(j,Y,H);return X[1].v=j.read_shift(2,"i"),X}function g(j,Y,H){var X=ht(7);return X.write_shift(1,255),X.write_shift(2,Y),X.write_shift(2,j),X.write_shift(2,H,"i"),X}function _(j,Y,H){var X=u(j,Y,H);return X[1].v=j.read_shift(8,"f"),X}function b(j,Y,H){var X=ht(13);return X.write_shift(1,255),X.write_shift(2,Y),X.write_shift(2,j),X.write_shift(8,H,"f"),X}function E(j,Y,H){var X=j.l+Y,ne=u(j,Y,H);if(ne[1].v=j.read_shift(8,"f"),H.qpro)j.l=X;else{var Oe=j.read_shift(2);k(j.slice(j.l,j.l+Oe),ne),j.l+=Oe}return ne}function S(j,Y,H){var X=Y&32768;return Y&=-32769,Y=(X?j:0)+(Y>=8192?Y-16384:Y),(X?"":"$")+(H?Ga(Y):ka(Y))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},O=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(j,Y){Qo(j,0);for(var H=[],X=0,ne="",Oe="",Ie="",be="";j.l<j.length;){var Pe=j[j.l++];switch(Pe){case 0:H.push(j.read_shift(8,"f"));break;case 1:Oe=S(Y[0].c,j.read_shift(2),!0),ne=S(Y[0].r,j.read_shift(2),!1),H.push(Oe+ne);break;case 2:{var ze=S(Y[0].c,j.read_shift(2),!0),Me=S(Y[0].r,j.read_shift(2),!1);Oe=S(Y[0].c,j.read_shift(2),!0),ne=S(Y[0].r,j.read_shift(2),!1),H.push(ze+Me+":"+Oe+ne)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(j.read_shift(2));break;case 6:{for(var st="";Pe=j[j.l++];)st+=String.fromCharCode(Pe);H.push('"'+st.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:be=H.pop(),Ie=H.pop(),H.push(["AND","OR"][Pe-20]+"("+Ie+","+be+")");break;default:if(Pe<32&&O[Pe])be=H.pop(),Ie=H.pop(),H.push(Ie+O[Pe]+be);else if(T[Pe]){if(X=T[Pe][1],X==69&&(X=j[j.l++]),X>H.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+H.join("|")+"|");return}var Fe=H.slice(-X);H.length-=X,H.push(T[Pe][0]+"("+Fe.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}H.length==1?Y[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function D(j){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=j.read_shift(2),Y[3]=j[j.l++],Y[0].c=j[j.l++],Y}function z(j,Y){var H=D(j);return H[1].t="s",H[1].v=j.read_shift(Y-4,"cstr"),H}function F(j,Y,H,X){var ne=ht(6+X.length);ne.write_shift(2,j),ne.write_shift(1,H),ne.write_shift(1,Y),ne.write_shift(1,39);for(var Oe=0;Oe<X.length;++Oe){var Ie=X.charCodeAt(Oe);ne.write_shift(1,Ie>=128?95:Ie)}return ne.write_shift(1,0),ne}function q(j,Y){var H=D(j);H[1].v=j.read_shift(2);var X=H[1].v>>1;if(H[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return H[1].v=X,H}function B(j,Y){var H=D(j),X=j.read_shift(4),ne=j.read_shift(4),Oe=j.read_shift(2);if(Oe==65535)return X===0&&ne===3221225472?(H[1].t="e",H[1].v=15):X===0&&ne===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Ie=Oe&32768;return Oe=(Oe&32767)-16446,H[1].v=(1-Ie*2)*(ne*Math.pow(2,Oe+32)+X*Math.pow(2,Oe)),H}function ee(j,Y,H,X){var ne=ht(14);if(ne.write_shift(2,j),ne.write_shift(1,H),ne.write_shift(1,Y),X==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var Oe=0,Ie=0,be=0,Pe=0;return X<0&&(Oe=1,X=-X),Ie=Math.log2(X)|0,X/=Math.pow(2,Ie-31),Pe=X>>>0,Pe&2147483648||(X/=2,++Ie,Pe=X>>>0),X-=Pe,Pe|=2147483648,Pe>>>=0,X*=Math.pow(2,32),be=X>>>0,ne.write_shift(4,be),ne.write_shift(4,Pe),Ie+=16383+(Oe?32768:0),ne.write_shift(2,Ie),ne}function W(j,Y){var H=B(j);return j.l+=Y-14,H}function U(j,Y){var H=D(j),X=j.read_shift(4);return H[1].v=X>>6,H}function K(j,Y){var H=D(j),X=j.read_shift(8,"f");return H[1].v=X,H}function oe(j,Y){var H=K(j);return j.l+=Y-10,H}function ae(j,Y){return j[j.l+Y-1]==0?j.read_shift(Y,"cstr"):""}function Re(j,Y){var H=j[j.l++];H>Y-1&&(H=Y-1);for(var X="";X.length<H;)X+=String.fromCharCode(j[j.l++]);return X}function ke(j,Y,H){if(!(!H.qpro||Y<21)){var X=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ne=j.read_shift(Y-21,"cstr");return[X,ne]}}function we(j,Y){for(var H={},X=j.l+Y;j.l<X;){var ne=j.read_shift(2);if(ne==14e3){for(H[ne]=[0,""],H[ne][0]=j.read_shift(2);j[j.l];)H[ne][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return H}function _e(j,Y){var H=ht(5+j.length);H.write_shift(2,14e3),H.write_shift(2,Y);for(var X=0;X<j.length;++X){var ne=j.charCodeAt(X);H[H.l++]=ne>127?95:ne}return H[H.l++]=0,H}var $e={0:{n:"BOF",f:fD},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:Re},65535:{n:""}},We={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:we},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),AQ=/^\s|\s$|[\t\n\r]/;function vD(e,t){if(!t.bookSST)return"";var r=[Fi];r[r.length]=jt("sst",null,{xmlns:vd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(AQ)&&(a+=' xml:space="preserve"'),a+=">"+vn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function CQ(e){return[e.read_shift(4),e.read_shift(4)]}function TQ(e,t){return t||(t=ht(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var OQ=xJ;function kQ(e){var t=Oo();Ct(t,159,TQ(e));for(var r=0;r<e.length;++r)Ct(t,19,OQ(e[r]));return Ct(t,160),t.end()}function NQ(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function xD(e){var t=0,r,n=NQ(e),i=n.length+1,a,o,s,c,u;for(r=lh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],s=t&16384?1:0,c=t<<1&32767,u=s|c,t=u^o;return t^52811}var PQ=function(){function e(i,a){switch(a.type){case"base64":return t($c(i),a);case"binary":return t(i,a);case"buffer":return t(ln&&Buffer.isBuffer(i)?i.toString("binary"):Wp(i),a);case"array":return t(_x(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},s=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(s)&&(s[p]=[]);for(var v=/\\\w+\b/g,g=0,_,b=-1;_=v.exec(h);){switch(_[0]){case"\\cell":var E=h.slice(g,v.lastIndex-_[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var S={v:E,t:"s"};Array.isArray(s)?s[p][b]=S:s[yn({r:p,c:b})]=S}break}g=v.lastIndex}b>u.e.c&&(u.e.c=b)}),s["!ref"]=ji(u),s}function r(i,a){return _h(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=Wn(i["!ref"]),s,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=yn({r:u,c:h});s=c?(i[u]||[])[h]:i[p],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(Wc(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function WT(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var IQ=6,Ic=IQ;function ev(e){return Math.floor((e+Math.round(128/Ic)/256)*Ic)}function tv(e){return Math.floor((e-5)/Ic*100+.5)/100}function s_(e){return Math.round((e*Ic+5)/Ic*256)/256}function I4(e){e.width?(e.wpx=ev(e.width),e.wch=tv(e.wpx),e.MDW=Ic):e.wpx?(e.wch=tv(e.wpx),e.width=s_(e.wch),e.MDW=Ic):typeof e.wch=="number"&&(e.width=s_(e.wch),e.wpx=ev(e.width),e.MDW=Ic),e.customWidth&&delete e.customWidth}var RQ=96,yD=RQ;function rv(e){return e*96/yD}function wD(e){return e*yD/96}function LQ(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=jt("numFmt",null,{numFmtId:n,formatCode:vn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=jt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function DQ(e){var t=[];return t[t.length]=jt("cellXfs",null),e.forEach(function(r){t[t.length]=jt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=jt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bD(e,t){var r=[Fi,jt("styleSheet",null,{xmlns:vd[0],"xmlns:vt":sa.vt})],n;return e.SSF&&(n=LQ(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=DQ(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function jQ(e,t){var r=e.read_shift(2),n=Ka(e);return[r,n]}function MQ(e,t,r){r||(r=ht(6+4*t.length)),r.write_shift(2,e),ca(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function FQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=AJ(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var s=e.read_shift(1);s>0&&(n.family=s);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=SJ(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ka(e),n}function BQ(e,t){t||(t=ht(25+4*32)),t.write_shift(2,e.sz*20),CJ(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),J2(e.color,t);var n=0;return n=2,t.write_shift(1,n),ca(e.name,t),t.length>t.l?t.slice(0,t.l):t}var UQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rb,$Q=Hl;function zT(e,t){t||(t=ht(4*3+8*7+16*1)),rb||(rb=w4(UQ));var r=rb[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(J2({auto:1},t),J2({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function WQ(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function _D(e,t,r){r||(r=ht(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Qd(e,t){return t||(t=ht(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var zQ=Hl;function HQ(e,t){return t||(t=ht(51)),t.write_shift(1,0),Qd(null,t),Qd(null,t),Qd(null,t),Qd(null,t),Qd(null,t),t.length>t.l?t.slice(0,t.l):t}function VQ(e,t){return t||(t=ht(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Z2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qQ(e,t,r){var n=ht(2052);return n.write_shift(4,e),Z2(t,n),Z2(r,n),n.length>n.l?n.slice(0,n.l):n}function GQ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Ct(e,615,xl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ct(e,44,MQ(i,t[i]))}),Ct(e,616))}}function KQ(e){var t=1;Ct(e,611,xl(t)),Ct(e,43,BQ({sz:12,color:{theme:1},name:"Calibri",family:2})),Ct(e,612)}function XQ(e){var t=2;Ct(e,603,xl(t)),Ct(e,45,zT({patternType:"none"})),Ct(e,45,zT({patternType:"gray125"})),Ct(e,604)}function YQ(e){var t=1;Ct(e,613,xl(t)),Ct(e,46,HQ()),Ct(e,614)}function ZQ(e){var t=1;Ct(e,626,xl(t)),Ct(e,47,_D({numFmtId:0},65535)),Ct(e,627)}function JQ(e,t){Ct(e,617,xl(t.length)),t.forEach(function(r){Ct(e,47,_D(r,0))}),Ct(e,618)}function QQ(e){var t=1;Ct(e,619,xl(t)),Ct(e,48,VQ({xfId:0,name:"Normal"})),Ct(e,620)}function eee(e){var t=0;Ct(e,505,xl(t)),Ct(e,506)}function tee(e){var t=0;Ct(e,508,qQ(t,"TableStyleMedium9","PivotStyleMedium4")),Ct(e,509)}function ree(e,t){var r=Oo();return Ct(r,278),GQ(r,e.SSF),KQ(r),XQ(r),YQ(r),ZQ(r),JQ(r,t.cellXfs),QQ(r),eee(r),tee(r),Ct(r,279),r.end()}function ED(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Fi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function nee(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ka(e)}}function iee(e){var t=ht(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ca(e.name,t),t.slice(0,t.l)}function aee(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function oee(e){var t=ht(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function see(e,t){var r=ht(8+2*t.length);return r.write_shift(4,e),ca(t,r),r.slice(0,r.l)}function lee(e){return e.l+=4,e.read_shift(4)!=0}function cee(e,t){var r=ht(8);return r.write_shift(4,e),r.write_shift(4,1),r}function uee(){var e=Oo();return Ct(e,332),Ct(e,334,xl(1)),Ct(e,335,iee({name:"XLDAPR",version:12e4,flags:3496657072})),Ct(e,336),Ct(e,339,see(1,"XLDAPR")),Ct(e,52),Ct(e,35,xl(514)),Ct(e,4096,xl(0)),Ct(e,4097,Ps(1)),Ct(e,36),Ct(e,53),Ct(e,340),Ct(e,337,cee(1)),Ct(e,51,oee([[1,0]])),Ct(e,338),Ct(e,333),e.end()}function SD(){var e=[Fi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function fee(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=yn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var v0=1024;function AD(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[jt("xml",null,{"xmlns:v":ts.v,"xmlns:o":ts.o,"xmlns:x":ts.x,"xmlns:mv":ts.mv}).replace(/\/>/,">"),jt("o:shapelayout",jt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),jt("v:shapetype",[jt("v:stroke",null,{joinstyle:"miter"}),jt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];v0<e*1e3;)v0+=1e3;return t.forEach(function(a){var o=la(a[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var c=s.type=="gradient"?jt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=jt("v:fill",c,s),h={on:"t",obscured:"t"};++v0,i=i.concat(["<v:shape"+yp({id:"_x0000_s"+v0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,jt("v:shadow",null,h),jt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ta("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ta("x:AutoFill","False"),Ta("x:Row",String(o.r)),Ta("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function CD(e){var t=[Fi,jt("comments",null,{xmlns:vd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=vn(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(vn(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Ta("t",vn(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,s=1;s<a.length;++s)o+=`Reply:
    `+a[s]+`
`;t.push(Ta("t",vn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function hee(e,t,r){var n=[Fi,jt("ThreadedComments",null,{xmlns:sa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(jt("threadedComment",Ta("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function dee(e){var t=[Fi,jt("personList",null,{xmlns:sa.TCMNT,"xmlns:x":vd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(jt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function pee(e){var t={};t.iauthor=e.read_shift(4);var r=Ch(e);return t.rfx=r.s,t.ref=yn(r.s),e.l+=16,t}function gee(e,t){return t==null&&(t=ht(36)),t.write_shift(4,e[1].iauthor),yd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var mee=Ka;function vee(e){return ca(e.slice(0,54))}function xee(e){var t=Oo(),r=[];return Ct(t,628),Ct(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ct(t,632,vee(i.a)))})}),Ct(t,631),Ct(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:la(n[0]),e:la(n[0])};Ct(t,635,gee([a,i])),i.t&&i.t.length>0&&Ct(t,637,wJ(i)),Ct(t,636),delete i.iauthor})}),Ct(t,634),Ct(t,629),t.end()}function yee(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&bn.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var TD=["xlsb","xlsm","xlam","biff8","xla"],wee=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,o){var s=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return s?h+=t.c:--h,c?u+=t.r:--u,i+(s?"":"$")+Ga(h)+(c?"":"$")+ka(u)}return function(i,a){return t=a,i.replace(e,r)}}(),R4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,L4=function(){return function(t,r){return t.replace(R4,function(n,i,a,o,s,c){var u=T4(o)-(a?0:r.c),h=C4(c)-(s?0:r.r),p=h==0?"":s?h+1:"["+h+"]",v=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+v})}}();function bee(e,t){return e.replace(R4,function(r,n,i,a,o,s){return n+(i=="$"?i+a:Ga(T4(a)+t.c))+(o=="$"?o+s:ka(C4(s)+t.r))})}function _ee(e){return e.length!=1}function Pi(e){e.l+=1}function Yu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function OD(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kD(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),o=Yu(e),s=Yu(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function kD(e){var t=Yu(e),r=Yu(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Eee(e,t,r){if(r.biff<8)return kD(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Yu(e),o=Yu(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function ND(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return See(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Yu(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function See(e){var t=Yu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Aee(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Cee(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Tee(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:s}}function Tee(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function Oee(e,t,r){var n=(e[e.l++]&96)>>5,i=OD(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function kee(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=OD(e,a,r);return[n,i,o]}function Nee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Pee(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function Iee(e,t,r){var n=(e[e.l++]&96)>>5,i=Eee(e,t-1,r);return[n,i]}function Ree(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function HT(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Lee(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function Dee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function jee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Mee(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Fee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function PD(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Bee(e){return e.read_shift(2),PD(e)}function Uee(e){return e.read_shift(2),PD(e)}function $ee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=ND(e,0,r);return[n,i]}function Wee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=Cee(e,0,r);return[n,i]}function zee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=ND(e,0,r);return[n,i,a]}function Hee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[Hte[i],LD[i],n]}function Vee(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:qee(e);return[i,(a[0]===0?LD:zte)[a[1]]]}function qee(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Gee(e,t,r){e.l+=r&&r.biff==2?3:4}function Kee(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Xee(e){return e.l++,Vp[e.read_shift(1)]}function Yee(e){return e.l++,e.read_shift(2)}function Zee(e){return e.l++,e.read_shift(1)!==0}function Jee(e){return e.l++,wd(e)}function Qee(e,t,r){return e.l++,dD(e,t-1,r)}function ete(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zJ(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Vp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=wd(e);break;case 2:r[1]=GJ(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function tte(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Ch:YJ)(e));return i}function rte(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=ete(e,r.biff);return o}function nte(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function ite(e,t,r){if(r.biff==5)return ate(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function ate(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ote(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function ste(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function lte(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function cte(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var ute=Hl,fte=Hl,hte=Hl;function qp(e,t,r){return e.l+=2,[Aee(e)]}function D4(e){return e.l+=6,[]}var dte=qp,pte=D4,gte=D4,mte=qp;function ID(e){return e.l+=2,[fD(e),e.read_shift(2)&1]}var vte=qp,xte=ID,yte=D4,wte=qp,bte=qp,_te=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ete(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=_te[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:i,C:a}}function Ste(e){return e.l+=2,[e.read_shift(4)]}function Ate(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Cte(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Tte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ote(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function kte(e){return e.l+=4,[0,0]}var VT={1:{n:"PtgExp",f:Kee},2:{n:"PtgTbl",f:hte},3:{n:"PtgAdd",f:Pi},4:{n:"PtgSub",f:Pi},5:{n:"PtgMul",f:Pi},6:{n:"PtgDiv",f:Pi},7:{n:"PtgPower",f:Pi},8:{n:"PtgConcat",f:Pi},9:{n:"PtgLt",f:Pi},10:{n:"PtgLe",f:Pi},11:{n:"PtgEq",f:Pi},12:{n:"PtgGe",f:Pi},13:{n:"PtgGt",f:Pi},14:{n:"PtgNe",f:Pi},15:{n:"PtgIsect",f:Pi},16:{n:"PtgUnion",f:Pi},17:{n:"PtgRange",f:Pi},18:{n:"PtgUplus",f:Pi},19:{n:"PtgUminus",f:Pi},20:{n:"PtgPercent",f:Pi},21:{n:"PtgParen",f:Pi},22:{n:"PtgMissArg",f:Pi},23:{n:"PtgStr",f:Qee},26:{n:"PtgSheet",f:Ate},27:{n:"PtgEndSheet",f:Cte},28:{n:"PtgErr",f:Xee},29:{n:"PtgBool",f:Zee},30:{n:"PtgInt",f:Yee},31:{n:"PtgNum",f:Jee},32:{n:"PtgArray",f:Ree},33:{n:"PtgFunc",f:Hee},34:{n:"PtgFuncVar",f:Vee},35:{n:"PtgName",f:nte},36:{n:"PtgRef",f:$ee},37:{n:"PtgArea",f:Oee},38:{n:"PtgMemArea",f:ote},39:{n:"PtgMemErr",f:ute},40:{n:"PtgMemNoMem",f:fte},41:{n:"PtgMemFunc",f:ste},42:{n:"PtgRefErr",f:lte},43:{n:"PtgAreaErr",f:Nee},44:{n:"PtgRefN",f:Wee},45:{n:"PtgAreaN",f:Iee},46:{n:"PtgMemAreaN",f:Tte},47:{n:"PtgMemNoMemN",f:Ote},57:{n:"PtgNameX",f:ite},58:{n:"PtgRef3d",f:zee},59:{n:"PtgArea3d",f:kee},60:{n:"PtgRefErr3d",f:cte},61:{n:"PtgAreaErr3d",f:Pee},255:{}},Nte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pte={1:{n:"PtgElfLel",f:ID},2:{n:"PtgElfRw",f:wte},3:{n:"PtgElfCol",f:dte},6:{n:"PtgElfRwV",f:bte},7:{n:"PtgElfColV",f:mte},10:{n:"PtgElfRadical",f:vte},11:{n:"PtgElfRadicalS",f:yte},13:{n:"PtgElfColS",f:pte},15:{n:"PtgElfColSV",f:gte},16:{n:"PtgElfRadicalLel",f:xte},25:{n:"PtgList",f:Ete},29:{n:"PtgSxName",f:Ste},255:{}},Ite={0:{n:"PtgAttrNoop",f:kte},1:{n:"PtgAttrSemi",f:Fee},2:{n:"PtgAttrIf",f:jee},4:{n:"PtgAttrChoose",f:Lee},8:{n:"PtgAttrGoto",f:Dee},16:{n:"PtgAttrSum",f:Gee},32:{n:"PtgAttrBaxcel",f:HT},33:{n:"PtgAttrBaxcel",f:HT},64:{n:"PtgAttrSpace",f:Bee},65:{n:"PtgAttrSpaceSemi",f:Uee},128:{n:"PtgAttrIfError",f:Mee},255:{}};function Rte(e,t,r,n){if(n.biff<8)return Hl(e,t);for(var i=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=rte(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=tte(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=i-e.l,t!==0&&a.push(Hl(e,t)),a}function Lte(e,t,r){for(var n=e.l+t,i,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],i=VT[a]||VT[Nte[a]],(a===24||a===25)&&(i=(a===24?Pte:Ite)[e[e.l+1]]),!i||!i.f?Hl(e,t):o.push([i.n,i.f(e,t,r)]);return o}function Dte(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var jte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Mte(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function RD(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function qT(e,t,r){var n=RD(e,t,r);return n=="#REF"?n:Mte(n,r)}function G0(e,t,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0}},s=[],c,u,h,p=0,v=0,g,_="";if(!e[0]||!e[0][0])return"";for(var b=-1,E="",S=0,T=e[0].length;S<T;++S){var O=e[0][S];switch(O[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=s.pop(),u=s.pop(),b>=0){switch(e[0][b][1][0]){case 0:E=hi(" ",e[0][b][1][1]);break;case 1:E=hi("\r",e[0][b][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+E,b=-1}s.push(u+jte[O[0]]+c);break;case"PtgIsect":c=s.pop(),u=s.pop(),s.push(u+" "+c);break;case"PtgUnion":c=s.pop(),u=s.pop(),s.push(u+","+c);break;case"PtgRange":c=s.pop(),u=s.pop(),s.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=$1(O[1][1],o,i),s.push(W1(h,a));break;case"PtgRefN":h=r?$1(O[1][1],r,i):O[1][1],s.push(W1(h,a));break;case"PtgRef3d":p=O[1][1],h=$1(O[1][2],o,i),_=qT(n,p,i),s.push(_+"!"+W1(h,a));break;case"PtgFunc":case"PtgFuncVar":var k=O[1][0],D=O[1][1];k||(k=0),k&=127;var z=k==0?[]:s.slice(-k);s.length-=k,D==="User"&&(D=z.shift()),s.push(D+"("+z.join(",")+")");break;case"PtgBool":s.push(O[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(O[1]);break;case"PtgNum":s.push(String(O[1]));break;case"PtgStr":s.push('"'+O[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(O[1]);break;case"PtgAreaN":g=NT(O[1][1],r?{s:r}:o,i),s.push(eb(g,i));break;case"PtgArea":g=NT(O[1][1],o,i),s.push(eb(g,i));break;case"PtgArea3d":p=O[1][1],g=O[1][2],_=qT(n,p,i),s.push(_+"!"+eb(g,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=O[1][2];var F=(n.names||[])[v-1]||(n[0]||[])[v],q=F?F.Name:"SH33TJSNAME"+String(v);q&&q.slice(0,6)=="_xlfn."&&!i.xlfn&&(q=q.slice(6)),s.push(q);break;case"PtgNameX":var B=O[1][1];v=O[1][2];var ee;if(i.biff<=5)B<0&&(B=-B),n[B]&&(ee=n[B][v]);else{var W="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][v]&&n[B][v].itab>0&&(W=n.SheetNames[n[B][v].itab-1]+"!"):W=n.SheetNames[v-1]+"!"),n[B]&&n[B][v])W+=n[B][v].Name;else if(n[0]&&n[0][v])W+=n[0][v].Name;else{var U=(RD(n,B,i)||"").split(";;");U[v-1]?W=U[v-1]:W+="SH33TJSERRX"}s.push(W);break}ee||(ee={Name:"SH33TJSERRY"}),s.push(ee.Name);break;case"PtgParen":var K="(",oe=")";if(b>=0){switch(E="",e[0][b][1][0]){case 2:K=hi(" ",e[0][b][1][1])+K;break;case 3:K=hi("\r",e[0][b][1][1])+K;break;case 4:oe=hi(" ",e[0][b][1][1])+oe;break;case 5:oe=hi("\r",e[0][b][1][1])+oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}s.push(K+s.pop()+oe);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":h={c:O[1][1],r:O[1][0]};var ae={c:r.c,r:r.r};if(n.sharedf[yn(h)]){var Re=n.sharedf[yn(h)];s.push(G0(Re,o,ae,n,i))}else{var ke=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){s.push(G0(u[1],o,ae,n,i)),ke=!0;break}ke||s.push(O[1])}break;case"PtgArray":s.push("{"+Dte(O[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+O[1].idx+"[#"+O[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(O));default:throw new Error("Unrecognized Formula Token: "+String(O))}var we=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&we.indexOf(e[0][S][0])==-1){O=e[0][b];var _e=!0;switch(O[1][0]){case 4:_e=!1;case 0:E=hi(" ",O[1][1]);break;case 5:_e=!1;case 1:E=hi("\r",O[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+O[1][0])}s.push((_e?E:"")+s.pop()+(_e?"":E)),b=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function Fte(e){if(e==null){var t=ht(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ch(e);return ch(0)}function Bte(e,t,r,n,i){var a=uh(t,r,i),o=Fte(e.v),s=ht(6),c=33;s.write_shift(2,c),s.write_shift(4,0);for(var u=ht(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var p=Ca([a,o,s,u]);return p}function Ex(e,t,r){var n=e.read_shift(4),i=Lte(e,n,r),a=e.read_shift(4),o=a>0?Rte(e,a,i,r):null;return[i,o]}var Ute=Ex,Sx=Ex,$te=Ex,Wte=Ex,zte={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},LD={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Hte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Vte(e){var t="of:="+e.replace(R4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function qte(e){return e.replace(/\./,"!")}var z1=typeof Map<"u";function j4(e,t,r){var n=0,i=e.length;if(r){if(z1?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=z1?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(z1?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function Ax(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ic=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=tv(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=s_(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function DD(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function cf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){NL(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Gte(e,t,r){if(e&&e["!ref"]){var n=Wn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Kte(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ji(e[r])+'"/>';return t+"</mergeCells>"}function Xte(e,t,r,n,i){var a=!1,o={},s=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=xp(vn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+jt("outlinePr",null,u)}!a&&!s||(i[i.length]=jt("sheetPr",s,o))}var Yte=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Zte=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Jte(e){var t={sheet:1};return Yte.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Zte.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=xD(e.password).toString(16).toUpperCase()),jt("sheetProtection",null,t)}function Qte(e){return DD(e),jt("pageMargins",null,e)}function ere(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=jt("col",null,Ax(i,n)));return r[r.length]="</cols>",r.join("")}function tre(e,t,r,n){var i=typeof e.ref=="string"?e.ref:ji(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=fs(i);o.s.r==o.e.r&&(o.e.r=fs(t["!ref"]).e.r,i=ji(o));for(var s=0;s<a.length;++s){var c=a[s];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),jt("autoFilter",null,{ref:i})}function rre(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),jt("sheetViews",jt("sheetView",null,i),{})}function nre(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Vp[e.v];break;case"d":n&&n.cellDates?i=co(e.v,-1).toISOString():(e=No(e),e.t="n",i=""+(e.v=ko(co(e.v)))),typeof e.z>"u"&&(e.z=pi[14]);break;default:i=e.v;break}var s=Ta("v",vn(i)),c={r:t},u=cf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=Ta("v",""+j4(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=jt("f",vn(e.f),h)+(e.v!=null?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),jt("c",s,c)}function ire(e,t,r,n){var i=[],a=[],o=Wn(e["!ref"]),s="",c,u="",h=[],p=0,v=0,g=e["!rows"],_=Array.isArray(e),b={r:u},E,S=-1;for(v=o.s.c;v<=o.e.c;++v)h[v]=Ga(v);for(p=o.s.r;p<=o.e.r;++p){for(a=[],u=ka(p),v=o.s.c;v<=o.e.c;++v){c=h[v]+u;var T=_?(e[p]||[])[v]:e[c];T!==void 0&&(s=nre(T,c,e,t))!=null&&a.push(s)}(a.length>0||g&&g[p])&&(b={r:u},g&&g[p]&&(E=g[p],E.hidden&&(b.hidden=1),S=-1,E.hpx?S=rv(E.hpx):E.hpt&&(S=E.hpt),S>-1&&(b.ht=S,b.customHeight=1),E.level&&(b.outlineLevel=E.level)),i[i.length]=jt("row",a.join(""),b))}if(g)for(;p<g.length;++p)g&&g[p]&&(b={r:p+1},E=g[p],E.hidden&&(b.hidden=1),S=-1,E.hpx?S=rv(E.hpx):E.hpt&&(S=E.hpt),S>-1&&(b.ht=S,b.customHeight=1),E.level&&(b.outlineLevel=E.level),i[i.length]=jt("row","",b));return i.join("")}function jD(e,t,r,n){var i=[Fi,jt("worksheet",null,{xmlns:vd[0],"xmlns:r":sa.r})],a=r.SheetNames[e],o=0,s="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",h=Wn(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=ji(h)}n||(n={}),c["!comments"]=[];var p=[];Xte(c,r,e,t,i),i[i.length]=jt("dimension",null,{ref:u}),i[i.length]=rre(c,t,e,r),t.sheetFormat&&(i[i.length]=jt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=ere(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(s=ire(c,t),s.length>0&&(i[i.length]=s)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=Jte(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=tre(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=Kte(c["!merges"]));var v=-1,g,_=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(_=pn(n,-1,vn(b[1].Target).replace(/#.*$/,""),tn.HLINK),g["r:id"]="rId"+_),(v=b[1].Target.indexOf("#"))>-1&&(g.location=vn(b[1].Target.slice(v+1))),b[1].Tooltip&&(g.tooltip=vn(b[1].Tooltip)),i[i.length]=jt("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Qte(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Ta("ignoredErrors",jt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(_=pn(n,-1,"../drawings/drawing"+(e+1)+".xml",tn.DRAW),i[i.length]=jt("drawing",null,{"r:id":"rId"+_}),c["!drawing"]=p),c["!comments"].length>0&&(_=pn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",tn.VML),i[i.length]=jt("legacyDrawing",null,{"r:id":"rId"+_}),c["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function are(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function ore(e,t,r){var n=ht(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=rv(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,c=n.l;n.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,v=-1,g=h<<10;g<h+1<<10;++g){u.c=g;var _=Array.isArray(r)?(r[u.r]||[])[u.c]:r[yn(u)];_&&(p<0&&(p=g),v=g)}p<0||(++s,n.write_shift(4,p),n.write_shift(4,v))}var b=n.l;return n.l=c,n.write_shift(4,s),n.l=b,n.length>n.l?n.slice(0,n.l):n}function sre(e,t,r,n){var i=ore(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Ct(e,0,i)}var lre=Ch,cre=yd;function ure(){}function fre(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=bJ(e),r}function hre(e,t,r){r==null&&(r=ht(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return J2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ZL(e,r),r.slice(0,r.l)}function dre(e){var t=Hs(e);return[t]}function pre(e,t,r){return r==null&&(r=ht(8)),Eh(t,r)}function gre(e){var t=Sh(e);return[t]}function mre(e,t,r){return r==null&&(r=ht(4)),Ah(t,r)}function vre(e){var t=Hs(e),r=e.read_shift(1);return[t,r,"b"]}function xre(e,t,r){return r==null&&(r=ht(9)),Eh(t,r),r.write_shift(1,e.v?1:0),r}function yre(e){var t=Sh(e),r=e.read_shift(1);return[t,r,"b"]}function wre(e,t,r){return r==null&&(r=ht(5)),Ah(t,r),r.write_shift(1,e.v?1:0),r}function bre(e){var t=Hs(e),r=e.read_shift(1);return[t,r,"e"]}function _re(e,t,r){return r==null&&(r=ht(9)),Eh(t,r),r.write_shift(1,e.v),r}function Ere(e){var t=Sh(e),r=e.read_shift(1);return[t,r,"e"]}function Sre(e,t,r){return r==null&&(r=ht(8)),Ah(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Are(e){var t=Hs(e),r=e.read_shift(4);return[t,r,"s"]}function Cre(e,t,r){return r==null&&(r=ht(12)),Eh(t,r),r.write_shift(4,t.v),r}function Tre(e){var t=Sh(e),r=e.read_shift(4);return[t,r,"s"]}function Ore(e,t,r){return r==null&&(r=ht(8)),Ah(t,r),r.write_shift(4,t.v),r}function kre(e){var t=Hs(e),r=wd(e);return[t,r,"n"]}function Nre(e,t,r){return r==null&&(r=ht(16)),Eh(t,r),ch(e.v,r),r}function Pre(e){var t=Sh(e),r=wd(e);return[t,r,"n"]}function Ire(e,t,r){return r==null&&(r=ht(12)),Ah(t,r),ch(e.v,r),r}function Rre(e){var t=Hs(e),r=JL(e);return[t,r,"n"]}function Lre(e,t,r){return r==null&&(r=ht(12)),Eh(t,r),QL(e.v,r),r}function Dre(e){var t=Sh(e),r=JL(e);return[t,r,"n"]}function jre(e,t,r){return r==null&&(r=ht(8)),Ah(t,r),QL(e.v,r),r}function Mre(e){var t=Hs(e),r=O4(e);return[t,r,"is"]}function Fre(e){var t=Hs(e),r=Ka(e);return[t,r,"str"]}function Bre(e,t,r){return r==null&&(r=ht(12+4*e.v.length)),Eh(t,r),ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ure(e){var t=Sh(e),r=Ka(e);return[t,r,"str"]}function $re(e,t,r){return r==null&&(r=ht(8+4*e.v.length)),Ah(t,r),ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Wre(e,t,r){var n=e.l+t,i=Hs(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var s=Sx(e,n-e.l,r);o[3]=G0(s,null,i,r.supbooks,r)}else e.l=n;return o}function zre(e,t,r){var n=e.l+t,i=Hs(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var s=Sx(e,n-e.l,r);o[3]=G0(s,null,i,r.supbooks,r)}else e.l=n;return o}function Hre(e,t,r){var n=e.l+t,i=Hs(e);i.r=r["!row"];var a=wd(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var s=Sx(e,n-e.l,r);o[3]=G0(s,null,i,r.supbooks,r)}else e.l=n;return o}function Vre(e,t,r){var n=e.l+t,i=Hs(e);i.r=r["!row"];var a=Ka(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var s=Sx(e,n-e.l,r);o[3]=G0(s,null,i,r.supbooks,r)}else e.l=n;return o}var qre=Ch,Gre=yd;function Kre(e,t){return t==null&&(t=ht(4)),t.write_shift(4,e),t}function Xre(e,t){var r=e.l+t,n=Ch(e),i=k4(e),a=Ka(e),o=Ka(e),s=Ka(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:s};return o&&(c.Tooltip=o),c}function Yre(e,t){var r=ht(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));yd({s:la(e[0]),e:la(e[0])},r),N4("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return ca(i||"",r),ca(e[1].Tooltip||"",r),ca("",r),r.slice(0,r.l)}function Zre(){}function Jre(e,t,r){var n=e.l+t,i=eD(e),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var s=Ute(e,n-e.l,r);o[1]=s}else e.l=n;return o}function Qre(e,t,r){var n=e.l+t,i=Ch(e),a=[i];if(r.cellFormula){var o=Wte(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}function ene(e,t,r){r==null&&(r=ht(18));var n=Ax(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var MD=["left","right","top","bottom","header","footer"];function tne(e){var t={};return MD.forEach(function(r){t[r]=wd(e)}),t}function rne(e,t){return t==null&&(t=ht(6*8)),DD(e),MD.forEach(function(r){ch(e[r],t)}),t}function nne(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ine(e,t,r){r==null&&(r=ht(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ane(e){var t=ht(24);return t.write_shift(4,4),t.write_shift(4,1),yd(e,t),t}function one(e,t){return t==null&&(t=ht(16*4+2)),t.write_shift(2,e.password?xD(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function sne(){}function lne(){}function cne(e,t,r,n,i,a,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=No(t),t.z=t.z||pi[14],t.v=ko(co(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var c={r,c:n};switch(c.s=cf(i.cellXfs,t,i),t.l&&a["!links"].push([yn(c),t.l]),t.c&&a["!comments"].push([yn(c),t.c]),t.t){case"s":case"str":return i.bookSST?(s=j4(i.Strings,t.v,i.revStrings),c.t="s",c.v=s,o?Ct(e,18,Ore(t,c)):Ct(e,7,Cre(t,c))):(c.t="str",o?Ct(e,17,$re(t,c)):Ct(e,6,Bre(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ct(e,13,jre(t,c)):Ct(e,2,Lre(t,c)):o?Ct(e,16,Ire(t,c)):Ct(e,5,Nre(t,c)),!0;case"b":return c.t="b",o?Ct(e,15,wre(t,c)):Ct(e,4,xre(t,c)),!0;case"e":return c.t="e",o?Ct(e,14,Sre(t,c)):Ct(e,3,_re(t,c)),!0}return o?Ct(e,12,mre(t,c)):Ct(e,1,pre(t,c)),!0}function une(e,t,r,n){var i=Wn(t["!ref"]||"A1"),a,o="",s=[];Ct(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var h=i.s.r;h<=u;++h){o=ka(h),sre(e,t,i,h);var p=!1;if(h<=i.e.r)for(var v=i.s.c;v<=i.e.c;++v){h===i.s.r&&(s[v]=Ga(v)),a=s[v]+o;var g=c?(t[h]||[])[v]:t[a];if(!g){p=!1;continue}p=cne(e,g,h,v,n,t,p)}}Ct(e,146)}function fne(e,t){!t||!t["!merges"]||(Ct(e,177,Kre(t["!merges"].length)),t["!merges"].forEach(function(r){Ct(e,176,Gre(r))}),Ct(e,178))}function hne(e,t){!t||!t["!cols"]||(Ct(e,390),t["!cols"].forEach(function(r,n){r&&Ct(e,60,ene(n,r))}),Ct(e,391))}function dne(e,t){!t||!t["!ref"]||(Ct(e,648),Ct(e,649,ane(Wn(t["!ref"]))),Ct(e,650))}function pne(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=pn(r,-1,n[1].Target.replace(/#.*$/,""),tn.HLINK);Ct(e,494,Yre(n,i))}}),delete t["!links"]}function gne(e,t,r,n){if(t["!comments"].length>0){var i=pn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",tn.VML);Ct(e,551,N4("rId"+i)),t["!legacy"]=i}}function mne(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:ji(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=fs(a);s.s.r==s.e.r&&(s.e.r=fs(t["!ref"]).e.r,a=ji(s));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ct(e,161,yd(Wn(a))),Ct(e,162)}}function vne(e,t,r){Ct(e,133),Ct(e,137,ine(t,r)),Ct(e,138),Ct(e,134)}function xne(e,t){t["!protect"]&&Ct(e,535,one(t["!protect"]))}function yne(e,t,r,n){var i=Oo(),a=r.SheetNames[e],o=r.Sheets[a]||{},s=a;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var c=Wn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ct(i,129),(r.vbaraw||o["!outline"])&&Ct(i,147,hre(s,o["!outline"])),Ct(i,148,cre(c)),vne(i,o,r.Workbook),hne(i,o),une(i,o,e,t),xne(i,o),mne(i,o,r,e),fne(i,o),pne(i,o,n),o["!margins"]&&Ct(i,476,rne(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&dne(i,o),gne(i,o,e,n),Ct(i,130),i.end()}function wne(e,t){e.l+=10;var r=Ka(e);return{name:r}}var bne=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _ne(e){return!e.Workbook||!e.Workbook.WBProps?"false":QZ(e.Workbook.WBProps.date1904)?"true":"false"}var Ene="][*?/\\".split("");function FD(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Ene.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Sne(e,t,r){e.forEach(function(n,i){FD(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[i]&&t[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Ane(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Sne(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Gte(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function BD(e){var t=[Fi];t[t.length]=jt("workbook",null,{xmlns:vd[0],"xmlns:r":sa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(bne.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(n[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=jt("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:vn(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=jt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var c={name:s.Name};s.Comment&&(c.comment=s.Comment),s.Sheet!=null&&(c.localSheetId=""+s.Sheet),s.Hidden&&(c.hidden="1"),s.Ref&&(t[t.length]=jt("definedName",vn(s.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Cne(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=o_(e),r.name=Ka(e),r}function Tne(e,t){return t||(t=ht(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),N4(e.strRelID,t),ca(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function One(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Ka(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function kne(e,t){t||(t=ht(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),ZL(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Nne(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=_J(e),o=$te(e,0,r),s=k4(e);e.l=n;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),s&&(c.Comment=s),c}function Pne(e,t){Ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ct(e,156,Tne(i))}Ct(e,144)}function Ine(e,t){t||(t=ht(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ca("SheetJS",t),ca(H2.version,t),ca(H2.version,t),ca("7262",t),t.length>t.l?t.slice(0,t.l):t}function Rne(e,t){t||(t=ht(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Lne(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Ct(e,135),Ct(e,158,Rne(i)),Ct(e,136))}}function Dne(e,t){var r=Oo();return Ct(r,131),Ct(r,128,Ine()),Ct(r,153,kne(e.Workbook&&e.Workbook.WBProps||null)),Lne(r,e),Pne(r,e),Ct(r,132),r.end()}function jne(e,t,r){return(t.slice(-4)===".bin"?Dne:BD)(e)}function Mne(e,t,r,n,i){return(t.slice(-4)===".bin"?yne:jD)(e,r,n,i)}function Fne(e,t,r){return(t.slice(-4)===".bin"?ree:bD)(e,r)}function Bne(e,t,r){return(t.slice(-4)===".bin"?kQ:vD)(e,r)}function Une(e,t,r){return(t.slice(-4)===".bin"?xee:CD)(e)}function $ne(e){return(e.slice(-4)===".bin"?uee:SD)()}function Wne(e,t){var r=[];return e.Props&&r.push(FJ(e.Props,t)),e.Custprops&&r.push(BJ(e.Props,e.Custprops)),r.join("")}function zne(){return""}function Hne(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(jt("NumberFormat",null,{"ss:Format":vn(pi[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(jt("Style",a.join(""),o))}),jt("Styles",r.join(""))}function UD(e){return jt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+L4(e.Ref,{r:0,c:0})})}function Vne(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(UD(i)))}return jt("Names",r.join(""))}function qne(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||a.push(UD(s)))}return a.join("")}function Gne(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(jt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(jt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(jt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(jt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Ta("ProtectContents","True")),e["!protect"].objects&&i.push(Ta("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Ta("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Ta("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Ta("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":jt("WorksheetOptions",i.join(""),{xmlns:ts.x})}function Kne(e){return e.map(function(t){var r=JZ(t.t||""),n=jt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return jt("Comment",n,{"ss:Author":t.a})}).join("")}function Xne(e,t,r,n,i,a,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+vn(L4(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=la(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=vn(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=vn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(s["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(s["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",v="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",v=String(e.v);break;case"b":p="Boolean",v=e.v?"1":"0";break;case"e":p="Error",v=Vp[e.v];break;case"d":p="DateTime",v=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||pi[14]);break;case"s":p="String",v=ZZ(e.v||"");break}var g=cf(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+g),s["ss:Index"]=o.c+1;var _=e.v!=null?v:"",b=e.t=="z"?"":'<Data ss:Type="'+p+'">'+_+"</Data>";return(e.c||[]).length>0&&(b+=Kne(e.c)),jt("Cell",b,s)}function Yne(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=wD(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Zne(e,t,r,n){if(!e["!ref"])return"";var i=Wn(e["!ref"]),a=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(E,S){I4(E);var T=!!E.width,O=Ax(S,E),k={"ss:Index":S+1};T&&(k["ss:Width"]=ev(O.width)),E.hidden&&(k["ss:Hidden"]="1"),s.push(jt("Column",null,k))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var h=[Yne(u,(e["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var v=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>p)&&!(a[o].s.r>u)&&!(a[o].e.c<p)&&!(a[o].e.r<u)){(a[o].s.c!=p||a[o].s.r!=u)&&(v=!0);break}if(!v){var g={r:u,c:p},_=yn(g),b=c?(e[u]||[])[p]:e[_];h.push(Xne(b,_,e,t,r,n,g))}}h.push("</Row>"),h.length>2&&s.push(h.join(""))}return s.join("")}function Jne(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?qne(a,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?Zne(a,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Gne(a,t,e,r)),n.join("")}function Qne(e,t){t||(t={}),e.SSF||(e.SSF=No(pi)),e.SSF&&(wx(),yx(e.SSF),t.revssf=bx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],cf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Wne(e,t)),r.push(zne()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(jt("Worksheet",Jne(n,t,e),{"ss:Name":vn(e.SheetNames[n])}));return r[2]=Hne(e,t),r[3]=Vne(e),Fi+jt("Workbook",r.join(""),{xmlns:ts.ss,"xmlns:o":ts.o,"xmlns:x":ts.x,"xmlns:ss":ts.ss,"xmlns:dt":ts.dt,"xmlns:html":ts.html})}var nb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eie(e,t){var r=[],n=[],i=[],a=0,o,s=yT(IT,"n"),c=yT(RT,"n");if(e.Props)for(o=Pa(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Pa(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)uD.indexOf(i[a][0])>-1||sD.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&bn.utils.cfb_add(t,"/SummaryInformation",FT(n,nb.SI,c,RT)),(r.length||u.length)&&bn.utils.cfb_add(t,"/DocumentSummaryInformation",FT(r,nb.DSI,s,IT,u.length?u:null,nb.UDI))}function tie(e,t){var r=t||{},n=bn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return bn.utils.cfb_add(n,i,$D(e,r)),r.biff==8&&(e.Props||e.Custprops)&&eie(e,n),r.biff==8&&e.vbaraw&&yee(n,bn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var rie={0:{f:are},1:{f:dre},2:{f:Rre},3:{f:bre},4:{f:vre},5:{f:kre},6:{f:Fre},7:{f:Are},8:{f:Vre},9:{f:Hre},10:{f:Wre},11:{f:zre},12:{f:gre},13:{f:Dre},14:{f:Ere},15:{f:yre},16:{f:Pre},17:{f:Ure},18:{f:Tre},19:{f:O4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Nne},40:{},42:{},43:{f:FQ},44:{f:jQ},45:{f:$Q},46:{f:zQ},47:{f:WQ},48:{},49:{f:gJ},50:{},51:{f:aee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mQ},62:{f:Mre},63:{f:fee},64:{f:sne},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nne},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:fre},148:{f:lre,p:16},151:{f:Zre},152:{},153:{f:One},154:{},155:{},156:{f:Cne},157:{},158:{},159:{T:1,f:CQ},160:{T:-1},161:{T:1,f:Ch},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nee},336:{T:-1},337:{f:lee,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:o_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Jre},427:{f:Qre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tne},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ure},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Xre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:o_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mee},633:{T:1},634:{T:-1},635:{T:1,f:pee},636:{T:-1},637:{f:yJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wne},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lne},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Mt(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&A4(r)&&e.push(r)}}function nie(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return Mt(e,t,r,i);var a=t;if(!isNaN(a)){for(var o=r.parts||[],s=0,c=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var h=e.next(4);for(h.write_shift(2,a),h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;h.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Gp(e,t,r){return e||(e=ht(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function iie(e,t,r,n){var i=ht(9);return Gp(i,e,t),hD(r,n||"b",i),i}function aie(e,t,r){var n=ht(8+2*r.length);return Gp(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function oie(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?ko(co(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Mt(e,2,wQ(r,n,i)):Mt(e,3,yQ(r,n,i));return;case"b":case"e":Mt(e,5,iie(r,n,t.v,t.t));return;case"s":case"str":Mt(e,4,aie(r,n,(t.v||"").slice(0,255)));return}Mt(e,1,Gp(null,r,n))}function sie(e,t,r,n){var i=Array.isArray(t),a=Wn(t["!ref"]||"A1"),o,s="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=ji(a)}for(var u=a.s.r;u<=a.e.r;++u){s=ka(u);for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(c[h]=Ga(h)),o=c[h]+s;var p=i?(t[u]||[])[h]:t[o];p&&oie(e,p,u,h)}}}function lie(e,t){for(var r=t||{},n=Oo(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Mt(n,r.biff==4?1033:r.biff==3?521:9,P4(e,16,r)),sie(n,e.Sheets[e.SheetNames[i]],i,r),Mt(n,10),n.end()}function cie(e,t,r){Mt(e,49,rQ({sz:12,name:"Arial"},r))}function uie(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Mt(e,1054,aQ(i,t[i],r))})}function fie(e,t){var r=ht(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Mt(e,2151,r),r=ht(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),gD(Wn(t["!ref"]||"A1"),r),r.write_shift(4,4),Mt(e,2152,r)}function hie(e,t){for(var r=0;r<16;++r)Mt(e,224,UT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Mt(e,224,UT(n,0,t))})}function die(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Mt(e,440,dQ(n)),n[1].Tooltip&&Mt(e,2048,pQ(n))}delete t["!links"]}function pie(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Mt(e,125,vQ(Ax(i,n),i))})}}function gie(e,t,r,n,i){var a=16+cf(i.cellXfs,t,i);if(t.v==null&&!t.bf){Mt(e,513,uh(r,n,a));return}if(t.bf)Mt(e,6,Bte(t,r,n,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?ko(co(t.v)):t.v;Mt(e,515,cQ(r,n,o,a));break;case"b":case"e":Mt(e,517,lQ(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var s=j4(i.Strings,t.v,i.revStrings);Mt(e,253,nQ(r,n,s,a))}else Mt(e,516,iQ(r,n,(t.v||"").slice(0,255),a,i));break;default:Mt(e,513,uh(r,n,a))}}function mie(e,t,r){var n=Oo(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,h,p="",v=[],g=Wn(a["!ref"]||"A1"),_=u?65536:16384;if(g.e.c>255||g.e.r>=_){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,_-1)}Mt(n,2057,P4(r,16,t)),Mt(n,13,Ps(1)),Mt(n,12,Ps(100)),Mt(n,15,ao(!0)),Mt(n,17,ao(!1)),Mt(n,16,ch(.001)),Mt(n,95,ao(!0)),Mt(n,42,ao(!1)),Mt(n,43,ao(!1)),Mt(n,130,Ps(1)),Mt(n,128,sQ()),Mt(n,131,ao(!1)),Mt(n,132,ao(!1)),u&&pie(n,a["!cols"]),Mt(n,512,oQ(g,t)),u&&(a["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){p=ka(b);for(var E=g.s.c;E<=g.e.c;++E){b===g.s.r&&(v[E]=Ga(E)),h=v[E]+p;var S=c?(a[b]||[])[E]:a[h];S&&(gie(n,S,b,E,t),u&&S.l&&a["!links"].push([h,S.l]))}}var T=s.CodeName||s.name||i;return u&&Mt(n,574,tQ((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&Mt(n,229,hQ(a["!merges"])),u&&die(n,a),Mt(n,442,pD(T)),u&&fie(n,a),Mt(n,10),n.end()}function vie(e,t,r){var n=Oo(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},s=r.biff==8,c=r.biff==5;if(Mt(n,2057,P4(e,5,r)),r.bookType=="xla"&&Mt(n,135),Mt(n,225,s?Ps(1200):null),Mt(n,193,WJ(2)),c&&Mt(n,191),c&&Mt(n,192),Mt(n,226),Mt(n,92,ZJ("SheetJS",r)),Mt(n,66,Ps(s?1200:1252)),s&&Mt(n,353,Ps(0)),s&&Mt(n,448),Mt(n,317,xQ(e.SheetNames.length)),s&&e.vbaraw&&Mt(n,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Mt(n,442,pD(u))}Mt(n,156,Ps(17)),Mt(n,25,ao(!1)),Mt(n,18,ao(!1)),Mt(n,19,Ps(0)),s&&Mt(n,431,ao(!1)),s&&Mt(n,444,Ps(0)),Mt(n,61,eQ()),Mt(n,64,ao(!1)),Mt(n,141,Ps(0)),Mt(n,34,ao(_ne(e)=="true")),Mt(n,14,ao(!0)),s&&Mt(n,439,ao(!1)),Mt(n,218,Ps(0)),cie(n,e,r),uie(n,e.SSF,r),hie(n,r),s&&Mt(n,352,ao(!1));var h=n.end(),p=Oo();s&&Mt(p,140,gQ()),s&&r.Strings&&nie(p,252,QJ(r.Strings)),Mt(p,10);var v=p.end(),g=Oo(),_=0,b=0;for(b=0;b<e.SheetNames.length;++b)_+=(s?12:11)+(s?2:1)*e.SheetNames[b].length;var E=h.length+_+v.length;for(b=0;b<e.SheetNames.length;++b){var S=a[b]||{};Mt(g,133,JJ({pos:E,hs:S.Hidden||0,dt:0,name:e.SheetNames[b]},r)),E+=t[b].length}var T=g.end();if(_!=T.length)throw new Error("BS8 "+_+" != "+T.length);var O=[];return h.length&&O.push(h),T.length&&O.push(T),v.length&&O.push(v),Ca(O)}function xie(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=No(pi)),e&&e.SSF&&(wx(),yx(e.SSF),r.revssf=bx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,M4(r),r.cellXfs=[],cf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=mie(i,r,e);return n.unshift(vie(e,n,r)),Ca(n)}function $D(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=fs(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return xie(e,t);case 4:case 3:case 2:return lie(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function yie(e,t,r,n){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){s=-1;break}s=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(s<0)){var h=yn({r,c:o}),p=n.dense?(e[r]||[])[o]:e[h],v=p&&p.v!=null&&(p.h||YZ(p.w||(Wc(p),p.w)||""))||"",g={};s>1&&(g.rowspan=s),c>1&&(g.colspan=c),n.editable?v='<span contenteditable="true">'+v+"</span>":p&&(g["data-t"]=p&&p.t||"z",p.v!=null&&(g["data-v"]=p.v),p.z!=null&&(g["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+p.l.Target+'">'+v+"</a>")),g.id=(n.id||"sjs")+"-"+h,a.push(jt("td",v,g))}}var _="<tr>";return _+a.join("")+"</tr>"}var wie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bie="</body></html>";function _ie(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function WD(e,t){var r=t||{},n=r.header!=null?r.header:wie,i=r.footer!=null?r.footer:bie,a=[n],o=fs(e["!ref"]);r.dense=Array.isArray(e),a.push(_ie(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)a.push(yie(e,o,s,r));return a.push("</table>"+i),a.join("")}function zD(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?la(n.origin):n.origin;i=o.r,a=o.c}var s=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var h=fs(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var p=[],v=0,g=e["!rows"]||(e["!rows"]=[]),_=0,b=0,E=0,S=0,T=0,O=0;for(e["!cols"]||(e["!cols"]=[]);_<s.length&&b<c;++_){var k=s[_];if(GT(k)){if(n.display)continue;g[b]={hidden:!0}}var D=k.children;for(E=S=0;E<D.length;++E){var z=D[E];if(!(n.display&&GT(z))){var F=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):eJ(z.innerHTML),q=z.getAttribute("data-z")||z.getAttribute("z");for(v=0;v<p.length;++v){var B=p[v];B.s.c==S+a&&B.s.r<b+i&&b+i<=B.e.r&&(S=B.e.c+1-a,v=-1)}O=+z.getAttribute("colspan")||1,((T=+z.getAttribute("rowspan")||1)>1||O>1)&&p.push({s:{r:b+i,c:S+a},e:{r:b+i+(T||1)-1,c:S+a+(O||1)-1}});var ee={t:"s",v:F},W=z.getAttribute("data-t")||z.getAttribute("t")||"";F!=null&&(F.length==0?ee.t=W||"z":n.raw||F.trim().length==0||W=="s"||(F==="TRUE"?ee={t:"b",v:!0}:F==="FALSE"?ee={t:"b",v:!1}:isNaN(Pc(F))?isNaN(vp(F).getDate())||(ee={t:"d",v:co(F)},n.cellDates||(ee={t:"n",v:ko(ee.v)}),ee.z=n.dateNF||pi[14]):ee={t:"n",v:Pc(F)})),ee.z===void 0&&q!=null&&(ee.z=q);var U="",K=z.getElementsByTagName("A");if(K&&K.length)for(var oe=0;oe<K.length&&!(K[oe].hasAttribute("href")&&(U=K[oe].getAttribute("href"),U.charAt(0)!="#"));++oe);U&&U.charAt(0)!="#"&&(ee.l={Target:U}),n.dense?(e[b+i]||(e[b+i]=[]),e[b+i][S+a]=ee):e[yn({c:S+a,r:b+i})]=ee,u.e.c<S+a&&(u.e.c=S+a),S+=O}}++b}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,b-1+i),e["!ref"]=ji(u),b>=c&&(e["!fullref"]=ji((u.e.r=s.length-_+b-1+i,u))),e}function HD(e,t){var r=t||{},n=r.dense?[]:{};return zD(n,e,t)}function Eie(e,t){return _h(HD(e,t),t)}function GT(e){var t="",r=Sie(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Sie(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Aie=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+yp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Fi+t}}(),KT=function(){var e=function(a){return vn(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,s){var c=[];c.push('      <table:table table:name="'+vn(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,h=0,p=fs(a["!ref"]||"A1"),v=a["!merges"]||[],g=0,_=Array.isArray(a);if(a["!cols"])for(h=0;h<=p.e.c;++h)c.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",E=a["!rows"]||[];for(u=0;u<p.s.r;++u)b=E[u]?' table:style-name="ro'+E[u].ods+'"':"",c.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=p.e.r;++u){for(b=E[u]?' table:style-name="ro'+E[u].ods+'"':"",c.push("        <table:table-row"+b+`>
`),h=0;h<p.s.c;++h)c.push(t);for(;h<=p.e.c;++h){var S=!1,T={},O="";for(g=0;g!=v.length;++g)if(!(v[g].s.c>h)&&!(v[g].s.r>u)&&!(v[g].e.c<h)&&!(v[g].e.r<u)){(v[g].s.c!=h||v[g].s.r!=u)&&(S=!0),T["table:number-columns-spanned"]=v[g].e.c-v[g].s.c+1,T["table:number-rows-spanned"]=v[g].e.r-v[g].s.r+1;break}if(S){c.push(r);continue}var k=yn({r:u,c:h}),D=_?(a[u]||[])[h]:a[k];if(D&&D.f&&(T["table:formula"]=vn(Vte(D.f)),D.F&&D.F.slice(0,k.length)==k)){var z=fs(D.F);T["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,T["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!D){c.push(t);continue}switch(D.t){case"b":O=D.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=D.v?"true":"false";break;case"n":O=D.w||String(D.v||0),T["office:value-type"]="float",T["office:value"]=D.v||0;break;case"s":case"str":O=D.v==null?"":D.v,T["office:value-type"]="string";break;case"d":O=D.w||co(D.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=co(D.v).toISOString(),T["table:style-name"]="ce1";break;default:c.push(t);continue}var F=e(O);if(D.l&&D.l.Target){var q=D.l.Target;q=q.charAt(0)=="#"?"#"+qte(q.slice(1)):q,q.charAt(0)!="#"&&!q.match(/^\w+:/)&&(q="../"+q),F=jt("text:a",F,{"xlink:href":q.replace(/&/g,"&amp;")})}c.push("          "+jt("table:table-cell",jt("text:p",F,{}),T)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;I4(p),p.ods=s;var v=u["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++s}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var p=u["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,s){var c=[Fi],u=yp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=yp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(aD().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)c.push(n(o.Sheets[o.SheetNames[p]],o,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),s.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function VD(e,t){if(t.bookType=="fods")return KT(e,t);var r=b4(),n="",i=[],a=[];return n="mimetype",Wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Wr(r,n,KT(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Wr(r,n,Aie(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Wr(r,n,Fi+aD()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Wr(r,n,MJ(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Wr(r,n,DJ(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function nv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Cie(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):hl(xp(e))}function Tie(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Zu(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function Oie(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function wp(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function dn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function D0(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ki(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=wp(e,r),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);s=e.slice(c,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=wp(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:s,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function wa(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(dn(n*8+i.type)),i.type==2&&t.push(dn(i.data.length)),t.push(i.data))})}),Zu(t)}function al(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=wp(e,n),a=Ki(e.slice(n[0],n[0]+i));n[0]+=i;var o={id:D0(a[1][0].data),messages:[]};a[2].forEach(function(s){var c=Ki(s.data),u=D0(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=D0(a[3][0].data)>>>0>0),r.push(o)}return r}function Gh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:dn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:dn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:dn(o.data.length)}],n[2].push({data:wa(o.meta),type:2})});var a=wa(n);t.push(dn(a.length)),t.push(a),i.forEach(function(o){return t.push(o)})}),Zu(t)}function kie(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=wp(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[r[0]],s>1&&(o|=t[r[0]+1]<<8),s>2&&(o|=t[r[0]+2]<<16),s>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}i.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Zu(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var h=Zu(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function ol(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(kie(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Zu(t)}function Kh(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=dn(n),o=a.length;t.push(a),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return Zu(t)}function ib(e,t){var r=new Uint8Array(32),n=nv(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,Oie(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function ab(e,t){var r=new Uint8Array(32),n=nv(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function vu(e){var t=Ki(e);return wp(t[1][0].data)}function Nie(e,t,r){var n,i,a,o;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&D0(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var c=0,u=nv(e[7][0].data),h=0,p=[],v=nv(e[4][0].data),g=0,_=[],b=0;b<t.length;++b){if(t[b]==null){u.setUint16(b*2,65535,!0),v.setUint16(b*2,65535);continue}u.setUint16(b*2,h,!0),v.setUint16(b*2,g,!0);var E,S;switch(typeof t[b]){case"string":E=ib({t:"s",v:t[b]},r),S=ab({t:"s",v:t[b]},r);break;case"number":E=ib({t:"n",v:t[b]},r),S=ab({t:"n",v:t[b]},r);break;case"boolean":E=ib({t:"b",v:t[b]},r),S=ab({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}p.push(E),h+=E.length,_.push(S),g+=S.length,++c}for(e[2][0].data=dn(c);b<e[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),v.setUint16(b*2,65535,!0);return e[6][0].data=Zu(p),e[3][0].data=Zu(_),c}function Pie(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=fs(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ji(n)));var a=iv(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(Y){return Y.forEach(function(H){typeof H=="string"&&o.push(H)})});var s={},c=[],u=bn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Y,H){return[Y,u.FullPaths[H]]}).forEach(function(Y){var H=Y[0],X=Y[1];if(H.type==2&&H.name.match(/\.iwa/)){var ne=H.content,Oe=ol(ne),Ie=al(Oe);Ie.forEach(function(be){c.push(be.id),s[be.id]={deps:[],location:X,type:D0(be.messages[0].meta[1][0].data)}})}}),c.sort(function(Y,H){return Y-H});var h=c.filter(function(Y){return Y>1}).map(function(Y){return[Y,dn(Y)]});u.FileIndex.map(function(Y,H){return[Y,u.FullPaths[H]]}).forEach(function(Y){var H=Y[0];if(Y[1],!!H.name.match(/\.iwa/)){var X=al(ol(H.content));X.forEach(function(ne){ne.messages.forEach(function(Oe){h.forEach(function(Ie){ne.messages.some(function(be){return D0(be.meta[1][0].data)!=11006&&Tie(be.data,Ie[1])})&&s[Ie[0]].deps.push(ne.id)})})})}});for(var p=bn.find(u,s[1].location),v=al(ol(p.content)),g,_=0;_<v.length;++_){var b=v[_];b.id==1&&(g=b)}var E=vu(Ki(g.messages[0].data)[1][0].data);for(p=bn.find(u,s[E].location),v=al(ol(p.content)),_=0;_<v.length;++_)b=v[_],b.id==E&&(g=b);for(E=vu(Ki(g.messages[0].data)[2][0].data),p=bn.find(u,s[E].location),v=al(ol(p.content)),_=0;_<v.length;++_)b=v[_],b.id==E&&(g=b);for(E=vu(Ki(g.messages[0].data)[2][0].data),p=bn.find(u,s[E].location),v=al(ol(p.content)),_=0;_<v.length;++_)b=v[_],b.id==E&&(g=b);var S=Ki(g.messages[0].data);{S[6][0].data=dn(n.e.r+1),S[7][0].data=dn(n.e.c+1);var T=vu(S[46][0].data),O=bn.find(u,s[T].location),k=al(ol(O.content));{for(var D=0;D<k.length&&k[D].id!=T;++D);if(k[D].id!=T)throw"Bad ColumnRowUIDMapArchive";var z=Ki(k[D].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var F=0;F<=n.e.c;++F){var q=[];q[1]=q[2]=[{type:0,data:dn(F+420690)}],z[1].push({type:2,data:wa(q)}),z[2].push({type:0,data:dn(F)}),z[3].push({type:0,data:dn(F)})}z[4]=[],z[5]=[],z[6]=[];for(var B=0;B<=n.e.r;++B)q=[],q[1]=q[2]=[{type:0,data:dn(B+726270)}],z[4].push({type:2,data:wa(q)}),z[5].push({type:0,data:dn(B)}),z[6].push({type:0,data:dn(B)});k[D].messages[0].data=wa(z)}O.content=Kh(Gh(k)),O.size=O.content.length,delete S[46];var ee=Ki(S[4][0].data);{ee[7][0].data=dn(n.e.r+1);var W=Ki(ee[1][0].data),U=vu(W[2][0].data);O=bn.find(u,s[U].location),k=al(ol(O.content));{if(k[0].id!=U)throw"Bad HeaderStorageBucket";var K=Ki(k[0].messages[0].data);for(B=0;B<a.length;++B){var oe=Ki(K[2][0].data);oe[1][0].data=dn(B),oe[4][0].data=dn(a[B].length),K[2][B]={type:K[2][0].type,data:wa(oe)}}k[0].messages[0].data=wa(K)}O.content=Kh(Gh(k)),O.size=O.content.length;var ae=vu(ee[2][0].data);O=bn.find(u,s[ae].location),k=al(ol(O.content));{if(k[0].id!=ae)throw"Bad HeaderStorageBucket";for(K=Ki(k[0].messages[0].data),F=0;F<=n.e.c;++F)oe=Ki(K[2][0].data),oe[1][0].data=dn(F),oe[4][0].data=dn(n.e.r+1),K[2][F]={type:K[2][0].type,data:wa(oe)};k[0].messages[0].data=wa(K)}O.content=Kh(Gh(k)),O.size=O.content.length;var Re=vu(ee[4][0].data);(function(){for(var Y=bn.find(u,s[Re].location),H=al(ol(Y.content)),X,ne=0;ne<H.length;++ne){var Oe=H[ne];Oe.id==Re&&(X=Oe)}var Ie=Ki(X.messages[0].data);{Ie[3]=[];var be=[];o.forEach(function(Me,st){be[1]=[{type:0,data:dn(st)}],be[2]=[{type:0,data:dn(1)}],be[3]=[{type:2,data:Cie(Me)}],Ie[3].push({type:2,data:wa(be)})})}X.messages[0].data=wa(Ie);var Pe=Gh(H),ze=Kh(Pe);Y.content=ze,Y.size=Y.content.length})();var ke=Ki(ee[3][0].data);{var we=ke[1][0];delete ke[2];var _e=Ki(we.data);{var $e=vu(_e[2][0].data);(function(){for(var Y=bn.find(u,s[$e].location),H=al(ol(Y.content)),X,ne=0;ne<H.length;++ne){var Oe=H[ne];Oe.id==$e&&(X=Oe)}var Ie=Ki(X.messages[0].data);{delete Ie[6],delete ke[7];var be=new Uint8Array(Ie[5][0].data);Ie[5]=[];for(var Pe=0,ze=0;ze<=n.e.r;++ze){var Me=Ki(be);Pe+=Nie(Me,a[ze],o),Me[1][0].data=dn(ze),Ie[5].push({data:wa(Me),type:2})}Ie[1]=[{type:0,data:dn(n.e.c+1)}],Ie[2]=[{type:0,data:dn(n.e.r+1)}],Ie[3]=[{type:0,data:dn(Pe)}],Ie[4]=[{type:0,data:dn(n.e.r+1)}]}X.messages[0].data=wa(Ie);var st=Gh(H),Fe=Kh(st);Y.content=Fe,Y.size=Y.content.length})()}we.data=wa(_e)}ee[3][0].data=wa(ke)}S[4][0].data=wa(ee)}g.messages[0].data=wa(S);var We=Gh(v),j=Kh(We);return p.content=j,p.size=p.content.length,u}function Iie(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function M4(e){Iie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Rie(e,t){return t.bookType=="ods"?VD(e,t):t.bookType=="numbers"?Pie(e,t):t.bookType=="xlsb"?Lie(e,t):Die(e,t)}function Lie(e,t){v0=1024,e&&!e.SSF&&(e.SSF=No(pi)),e&&e.SSF&&(wx(),yx(e.SSF),t.revssf=bx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,z1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=TD.indexOf(t.bookType)>-1,i=rD();M4(t=t||{});var a=b4(),o="",s=0;if(t.cellXfs=[],cf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Wr(a,o,oD(e.Props,t)),i.coreprops.push(o),pn(t.rels,2,o,tn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Wr(a,o,lD(e.Props)),i.extprops.push(o),pn(t.rels,3,o,tn.EXT_PROPS),e.Custprops!==e.Props&&Pa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Wr(a,o,cD(e.Custprops)),i.custprops.push(o),pn(t.rels,4,o,tn.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var h={"!id":{}},p=e.Sheets[e.SheetNames[s-1]],v=(p||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Wr(a,o,Mne(s-1,o,t,e,h)),i.sheets.push(o),pn(t.wbrels,-1,"worksheets/sheet"+s+"."+r,tn.WS[0])}if(p){var g=p["!comments"],_=!1,b="";g&&g.length>0&&(b="xl/comments"+s+"."+r,Wr(a,b,Une(g,b)),i.comments.push(b),pn(h,-1,"../comments"+s+"."+r,tn.CMNT),_=!0),p["!legacy"]&&_&&Wr(a,"xl/drawings/vmlDrawing"+s+".vml",AD(s,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Wr(a,iD(o),R0(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Wr(a,o,Bne(t.Strings,o,t)),i.strs.push(o),pn(t.wbrels,-1,"sharedStrings."+r,tn.SST)),o="xl/workbook."+r,Wr(a,o,jne(e,o)),i.workbooks.push(o),pn(t.rels,1,o,tn.WB),o="xl/theme/theme1.xml",Wr(a,o,ED(e.Themes,t)),i.themes.push(o),pn(t.wbrels,-1,"theme/theme1.xml",tn.THEME),o="xl/styles."+r,Wr(a,o,Fne(e,o,t)),i.styles.push(o),pn(t.wbrels,-1,"styles."+r,tn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Wr(a,o,e.vbaraw),i.vba.push(o),pn(t.wbrels,-1,"vbaProject.bin",tn.VBA)),o="xl/metadata."+r,Wr(a,o,$ne(o)),i.metadata.push(o),pn(t.wbrels,-1,"metadata."+r,tn.XLMETA),Wr(a,"[Content_Types].xml",nD(i,t)),Wr(a,"_rels/.rels",R0(t.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",R0(t.wbrels)),delete t.revssf,delete t.ssf,a}function Die(e,t){v0=1024,e&&!e.SSF&&(e.SSF=No(pi)),e&&e.SSF&&(wx(),yx(e.SSF),t.revssf=bx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,z1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=TD.indexOf(t.bookType)>-1,i=rD();M4(t=t||{});var a=b4(),o="",s=0;if(t.cellXfs=[],cf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Wr(a,o,oD(e.Props,t)),i.coreprops.push(o),pn(t.rels,2,o,tn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Wr(a,o,lD(e.Props)),i.extprops.push(o),pn(t.rels,3,o,tn.EXT_PROPS),e.Custprops!==e.Props&&Pa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Wr(a,o,cD(e.Custprops)),i.custprops.push(o),pn(t.rels,4,o,tn.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var p={"!id":{}},v=e.Sheets[e.SheetNames[s-1]],g=(v||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Wr(a,o,jD(s-1,t,e,p)),i.sheets.push(o),pn(t.wbrels,-1,"worksheets/sheet"+s+"."+r,tn.WS[0])}if(v){var _=v["!comments"],b=!1,E="";if(_&&_.length>0){var S=!1;_.forEach(function(T){T[1].forEach(function(O){O.T==!0&&(S=!0)})}),S&&(E="xl/threadedComments/threadedComment"+s+"."+r,Wr(a,E,hee(_,h,t)),i.threadedcomments.push(E),pn(p,-1,"../threadedComments/threadedComment"+s+"."+r,tn.TCMNT)),E="xl/comments"+s+"."+r,Wr(a,E,CD(_)),i.comments.push(E),pn(p,-1,"../comments"+s+"."+r,tn.CMNT),b=!0}v["!legacy"]&&b&&Wr(a,"xl/drawings/vmlDrawing"+s+".vml",AD(s,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Wr(a,iD(o),R0(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Wr(a,o,vD(t.Strings,t)),i.strs.push(o),pn(t.wbrels,-1,"sharedStrings."+r,tn.SST)),o="xl/workbook."+r,Wr(a,o,BD(e)),i.workbooks.push(o),pn(t.rels,1,o,tn.WB),o="xl/theme/theme1.xml",Wr(a,o,ED(e.Themes,t)),i.themes.push(o),pn(t.wbrels,-1,"theme/theme1.xml",tn.THEME),o="xl/styles."+r,Wr(a,o,bD(e,t)),i.styles.push(o),pn(t.wbrels,-1,"styles."+r,tn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Wr(a,o,e.vbaraw),i.vba.push(o),pn(t.wbrels,-1,"vbaProject.bin",tn.VBA)),o="xl/metadata."+r,Wr(a,o,SD()),i.metadata.push(o),pn(t.wbrels,-1,"metadata."+r,tn.XLMETA),h.length>1&&(o="xl/persons/person.xml",Wr(a,o,dee(h)),i.people.push(o),pn(t.wbrels,-1,"persons/person.xml",tn.PEOPLE)),Wr(a,"[Content_Types].xml",nD(i,t)),Wr(a,"_rels/.rels",R0(t.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",R0(t.wbrels)),delete t.revssf,delete t.ssf,a}function jie(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$c(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qD(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return zp(t.file,bn.write(e,{type:ln?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return bn.write(e,t)}function Mie(e,t){var r=No(t||{}),n=Rie(e,r);return Fie(n,r)}function Fie(e,t){var r={},n=ln?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?bn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(xx(i))}return t.password&&typeof encrypt_agile<"u"?qD(encrypt_agile(i,t.password),t):t.type==="file"?zp(t.file,i):t.type=="string"?B1(i):i}function Bie(e,t){var r=t||{},n=tie(e,r);return qD(n,r)}function Ll(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return mp(xp(n));case"binary":return xp(n);case"string":return e;case"file":return zp(t.file,n,"utf8");case"buffer":return ln?Xc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ll(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Uie(e,t){switch(t.type){case"base64":return mp(e);case"binary":return e;case"string":return e;case"file":return zp(t.file,e,"binary");case"buffer":return ln?Xc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?mp(r):t.type=="string"?B1(r):r;case"file":return zp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function GD(e,t){pZ(),Ane(e);var r=No(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=GD(e,r);return r.type="array",xx(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ll(Qne(e,r),r);case"slk":case"sylk":return Ll(_Q.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Ll(WD(e.Sheets[e.SheetNames[i]],r),r);case"txt":return Uie(XD(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Ll(F4(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ll(EQ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return xm(bQ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Ll(SQ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Ll(PQ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Ll(mD.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Ll(VD(e,r),r);case"wk1":return xm($T.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return xm($T.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),xm($D(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Bie(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Mie(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $ie(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function KD(e,t,r){var n={};return n.type="file",n.file=t,$ie(n),GD(e,n)}function Wie(e,t,r,n,i,a,o,s){var c=ka(r),u=s.defval,h=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),p=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!o||e[r])for(var g=t.s.c;g<=t.e.c;++g){var _=o?e[r][g]:e[n[g]+c];if(_===void 0||_.t===void 0){if(u===void 0)continue;a[g]!=null&&(v[a[g]]=u);continue}var b=_.v;switch(_.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[g]!=null){if(b==null)if(_.t=="e"&&b===null)v[a[g]]=null;else if(u!==void 0)v[a[g]]=u;else if(h&&b===null)v[a[g]]=null;else continue;else v[a[g]]=h&&(_.t!=="n"||_.t==="n"&&s.rawNumbers!==!1)?b:Wc(_,b,s);b!=null&&(p=!1)}}return{row:v,isempty:p}}function iv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,s="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":c=Wn(h);break;case"number":c=Wn(e["!ref"]),c.s.r=h;break;default:c=h}n>0&&(i=0);var p=ka(c.s.r),v=[],g=[],_=0,b=0,E=Array.isArray(e),S=c.s.r,T=0,O={};E&&!e[S]&&(e[S]=[]);var k=u.skipHidden&&e["!cols"]||[],D=u.skipHidden&&e["!rows"]||[];for(T=c.s.c;T<=c.e.c;++T)if(!(k[T]||{}).hidden)switch(v[T]=Ga(T),r=E?e[S][T]:e[v[T]+p],n){case 1:a[T]=T-c.s.c;break;case 2:a[T]=v[T];break;case 3:a[T]=u.header[T-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Wc(r,null,u),b=O[o]||0,!b)O[o]=1;else{do s=o+"_"+b++;while(O[s]);O[o]=b,O[s]=1}a[T]=s}for(S=c.s.r+i;S<=c.e.r;++S)if(!(D[S]||{}).hidden){var z=Wie(e,c,S,v,n,a,E,u);(z.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[_++]=z.row)}return g.length=_,g}var XT=/"/g;function zie(e,t,r,n,i,a,o,s){for(var c=!0,u=[],h="",p=ka(r),v=t.s.c;v<=t.e.c;++v)if(n[v]){var g=s.dense?(e[r]||[])[v]:e[n[v]+p];if(g==null)h="";else if(g.v!=null){c=!1,h=""+(s.rawNumbers&&g.t=="n"?g.v:Wc(g,null,s));for(var _=0,b=0;_!==h.length;++_)if((b=h.charCodeAt(_))===i||b===a||b===34||s.forceQuotes){h='"'+h.replace(XT,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(c=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(XT,'""')+'"')):h="";u.push(h)}return s.blankrows===!1&&c?null:u.join(o)}function F4(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Wn(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,c=s.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var v=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(v[_]||{}).hidden||(p[_]=Ga(_));for(var b=0,E=i.s.r;E<=i.e.r;++E)(g[E]||{}).hidden||(h=zie(e,i,E,p,o,c,a,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((b++?s:"")+h)));return delete n.dense,r.join("")}function XD(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=F4(e,t);return r}function Hie(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Wn(e["!ref"]),a="",o=[],s,c=[],u=Array.isArray(e);for(s=i.s.c;s<=i.e.c;++s)o[s]=Ga(s);for(var h=i.s.r;h<=i.e.r;++h)for(a=ka(h),s=i.s.c;s<=i.e.c;++s)if(t=o[s]+a,r=u?(e[h]||[])[s]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function YD(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},o=0,s=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;o=c.r,s=c.c}var u,h={s:{c:0,r:0},e:{c:s,r:o+t.length-1+i}};if(a["!ref"]){var p=Wn(a["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+i)}else o==-1&&(o=0,h.e.r=t.length-1+i);var v=n.header||[],g=0;t.forEach(function(b,E){Pa(b).forEach(function(S){(g=v.indexOf(S))==-1&&(v[g=v.length]=S);var T=b[S],O="z",k="",D=yn({c:s+g,r:o+E+i});u=bp(a,D),T&&typeof T=="object"&&!(T instanceof Date)?a[D]=T:(typeof T=="number"?O="n":typeof T=="boolean"?O="b":typeof T=="string"?O="s":T instanceof Date?(O="d",n.cellDates||(O="n",T=ko(T)),k=n.dateNF||pi[14]):T===null&&n.nullError&&(O="e",T=0),u?(u.t=O,u.v=T,delete u.w,delete u.R,k&&(u.z=k)):a[D]=u={t:O,v:T},k&&(u.z=k))})}),h.e.c=Math.max(h.e.c,s+v.length-1);var _=ka(o);if(i)for(g=0;g<v.length;++g)a[Ga(g+s)+_]={t:"s",v:v[g]};return a["!ref"]=ji(h),a}function Vie(e,t){return YD(null,e,t)}function bp(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=la(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?bp(e,yn(t)):bp(e,yn({r:t,c:r||0}))}function qie(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Gie(){return{SheetNames:[],Sheets:{}}}function Kie(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(FD(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Xie(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=qie(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Yie(e,t){return e.z=t,e}function ZD(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Zie(e,t,r){return ZD(e,"#"+t,r)}function Jie(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Qie(e,t,r,n){for(var i=typeof t!="string"?t:Wn(t),a=typeof t=="string"?t:ji(t),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var c=bp(e,o,s);c.t="n",c.F=a,delete c.v,o==i.s.r&&s==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var j0={encode_col:Ga,encode_row:ka,encode_cell:yn,encode_range:ji,decode_col:T4,decode_row:C4,split_cell:pJ,decode_cell:la,decode_range:fs,format_cell:Wc,sheet_add_aoa:YL,sheet_add_json:YD,sheet_add_dom:zD,aoa_to_sheet:xd,json_to_sheet:Vie,table_to_sheet:HD,table_to_book:Eie,sheet_to_csv:F4,sheet_to_txt:XD,sheet_to_json:iv,sheet_to_html:WD,sheet_to_formulae:Hie,sheet_to_row_object_array:iv,sheet_get_cell:bp,book_new:Gie,book_append_sheet:Kie,book_set_sheet_visibility:Xie,cell_set_number_format:Yie,cell_set_hyperlink:ZD,cell_set_internal_link:Zie,cell_add_comment:Jie,sheet_set_array_formula:Qie,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},B4={},Cx={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var tae=function e(t,r){eae(this,e),this.data=t,this.text=r.text||t,this.options=r};ho.default=tae;Object.defineProperty(Cx,"__esModule",{value:!0});Cx.CODE39=void 0;var rae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nae=ho,iae=aae(nae);function aae(e){return e&&e.__esModule?e:{default:e}}function oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cae=function(e){lae(t,e);function t(r,n){return oae(this,t),r=r.toUpperCase(),n.mod43&&(r+=hae(dae(r))),sae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return rae(t,[{key:"encode",value:function(){for(var n=ob("*"),i=0;i<this.data.length;i++)n+=ob(this.data[i])+"0";return n+=ob("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(iae.default),JD=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],uae=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function ob(e){return fae(QD(e))}function fae(e){return uae[e].toString(2)}function hae(e){return JD[e]}function QD(e){return JD.indexOf(e)}function dae(e){for(var t=0,r=0;r<e.length;r++)t+=QD(e[r]);return t=t%43,t}Cx.CODE39=cae;var Bl={},U4={},bd={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});var e1;function sb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ej=zn.SET_A=0,tj=zn.SET_B=1,rj=zn.SET_C=2;zn.SHIFT=98;var pae=zn.START_A=103,gae=zn.START_B=104,mae=zn.START_C=105;zn.MODULO=103;zn.STOP=106;zn.FNC1=207;zn.SET_BY_CODE=(e1={},sb(e1,pae,ej),sb(e1,gae,tj),sb(e1,mae,rj),e1);zn.SWAP={101:ej,100:tj,99:rj};zn.A_START_CHAR="";zn.B_START_CHAR="";zn.C_START_CHAR="";zn.A_CHARS="[\0-_-]";zn.B_CHARS="[ --]";zn.C_CHARS="(*[0-9]{2}*)";zn.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(bd,"__esModule",{value:!0});var vae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xae=ho,yae=wae(xae),qo=zn;function wae(e){return e&&e.__esModule?e:{default:e}}function bae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Eae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sae=function(e){Eae(t,e);function t(r,n){bae(this,t);var i=_ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return i.bytes=r.split("").map(function(a){return a.charCodeAt(0)}),i}return vae(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,i=n.shift()-105,a=qo.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(qo.FNC1);var o=t.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(i)+o.result+t.getBar((o.checksum+i)%qo.MODULO)+t.getBar(qo.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return qo.BARS[n]?qo.BARS[n].toString():""}},{key:"correctIndex",value:function(n,i){if(i===qo.SET_A){var a=n.shift();return a<32?a+64:a-32}else return i===qo.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,i,a){if(!n.length)return{result:"",checksum:0};var o=void 0,s=void 0;if(n[0]>=200){s=n.shift()-105;var c=qo.SWAP[s];c!==void 0?o=t.next(n,i+1,c):((a===qo.SET_A||a===qo.SET_B)&&s===qo.SHIFT&&(n[0]=a===qo.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),o=t.next(n,i+1,a))}else s=t.correctIndex(n,a),o=t.next(n,i+1,a);var u=t.getBar(s),h=s*i;return{result:u+o.result,checksum:h+o.checksum}}}]),t}(yae.default);bd.default=Sae;var $4={};Object.defineProperty($4,"__esModule",{value:!0});var zu=zn,nj=function(t){return t.match(new RegExp("^"+zu.A_CHARS+"*"))[0].length},ij=function(t){return t.match(new RegExp("^"+zu.B_CHARS+"*"))[0].length},aj=function(t){return t.match(new RegExp("^"+zu.C_CHARS+"*"))[0]};function W4(e,t){var r=t?zu.A_CHARS:zu.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+oj(e.substring(n[1].length));var i=e.match(new RegExp("^"+r+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+W4(e.substring(i.length),!t)}function oj(e){var t=aj(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=nj(e)>=ij(e);return t+String.fromCharCode(n?206:205)+W4(e,n)}$4.default=function(e){var t=void 0,r=aj(e).length;if(r>=2)t=zu.C_START_CHAR+oj(e);else{var n=nj(e)>ij(e);t=(n?zu.A_START_CHAR:zu.B_START_CHAR)+W4(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(U4,"__esModule",{value:!0});var Aae=bd,Cae=sj(Aae),Tae=$4,Oae=sj(Tae);function sj(e){return e&&e.__esModule?e:{default:e}}function kae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Pae=function(e){Nae(t,e);function t(r,n){if(kae(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var i=lb(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,Oae.default)(r),n));else var i=lb(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return lb(i)}return t}(Cae.default);U4.default=Pae;var z4={};Object.defineProperty(z4,"__esModule",{value:!0});var Iae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Rae=bd,Lae=Dae(Rae),YT=zn;function Dae(e){return e&&e.__esModule?e:{default:e}}function jae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bae=function(e){Fae(t,e);function t(r,n){return jae(this,t),Mae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,YT.A_START_CHAR+r,n))}return Iae(t,[{key:"valid",value:function(){return new RegExp("^"+YT.A_CHARS+"+$").test(this.data)}}]),t}(Lae.default);z4.default=Bae;var H4={};Object.defineProperty(H4,"__esModule",{value:!0});var Uae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),$ae=bd,Wae=zae($ae),ZT=zn;function zae(e){return e&&e.__esModule?e:{default:e}}function Hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gae=function(e){qae(t,e);function t(r,n){return Hae(this,t),Vae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,ZT.B_START_CHAR+r,n))}return Uae(t,[{key:"valid",value:function(){return new RegExp("^"+ZT.B_CHARS+"+$").test(this.data)}}]),t}(Wae.default);H4.default=Gae;var V4={};Object.defineProperty(V4,"__esModule",{value:!0});var Kae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Xae=bd,Yae=Zae(Xae),JT=zn;function Zae(e){return e&&e.__esModule?e:{default:e}}function Jae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var toe=function(e){eoe(t,e);function t(r,n){return Jae(this,t),Qae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,JT.C_START_CHAR+r,n))}return Kae(t,[{key:"valid",value:function(){return new RegExp("^"+JT.C_CHARS+"+$").test(this.data)}}]),t}(Yae.default);V4.default=toe;Object.defineProperty(Bl,"__esModule",{value:!0});Bl.CODE128C=Bl.CODE128B=Bl.CODE128A=Bl.CODE128=void 0;var roe=U4,noe=Tx(roe),ioe=z4,aoe=Tx(ioe),ooe=H4,soe=Tx(ooe),loe=V4,coe=Tx(loe);function Tx(e){return e&&e.__esModule?e:{default:e}}Bl.CODE128=noe.default;Bl.CODE128A=aoe.default;Bl.CODE128B=soe.default;Bl.CODE128C=coe.default;var _o={},q4={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.SIDE_BIN="101";Vs.MIDDLE_BIN="01010";Vs.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Vs.EAN2_STRUCTURE=["LL","LG","GL","GG"];Vs.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Vs.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Ox={},Th={};Object.defineProperty(Th,"__esModule",{value:!0});var uoe=Vs,foe=function(t,r,n){var i=t.split("").map(function(o,s){return uoe.BINARIES[r[s]]}).map(function(o,s){return o?o[t[s]]:""});if(n){var a=t.length-1;i=i.map(function(o,s){return s<a?o+n:o})}return i.join("")};Th.default=foe;Object.defineProperty(Ox,"__esModule",{value:!0});var hoe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Xh=Vs,doe=Th,QT=lj(doe),poe=ho,goe=lj(poe);function lj(e){return e&&e.__esModule?e:{default:e}}function moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yoe=function(e){xoe(t,e);function t(r,n){moe(this,t);var i=voe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return hoe(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,i){return this.text.substr(n,i)}},{key:"leftEncode",value:function(n,i){return(0,QT.default)(n,i)}},{key:"rightText",value:function(n,i){return this.text.substr(n,i)}},{key:"rightEncode",value:function(n,i){return(0,QT.default)(n,i)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Xh.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Xh.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Xh.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var n=[Xh.SIDE_BIN,this.leftEncode(),Xh.MIDDLE_BIN,this.rightEncode(),Xh.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(goe.default);Ox.default=yoe;Object.defineProperty(q4,"__esModule",{value:!0});var woe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t1=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},boe=Vs,_oe=Ox,Eoe=Soe(_oe);function Soe(e){return e&&e.__esModule?e:{default:e}}function Aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Coe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eO=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*3:n+i},0);return(10-r%10)%10},Ooe=function(e){Toe(t,e);function t(r,n){Aoe(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=eO(r));var i=Coe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.lastChar=n.lastChar,i}return woe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===eO(this.data)}},{key:"leftText",value:function(){return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),i=boe.EAN13_STRUCTURE[this.data[0]];return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,i)}},{key:"rightText",value:function(){return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(Eoe.default);q4.default=Ooe;var G4={};Object.defineProperty(G4,"__esModule",{value:!0});var koe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ym=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},Noe=Ox,Poe=Ioe(Noe);function Ioe(e){return e&&e.__esModule?e:{default:e}}function Roe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Loe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Doe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tO=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i:n+i*3},0);return(10-r%10)%10},joe=function(e){Doe(t,e);function t(r,n){return Roe(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=tO(r)),Loe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return koe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===tO(this.data)}},{key:"leftText",value:function(){return ym(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return ym(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return ym(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return ym(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}(Poe.default);G4.default=joe;var K4={};Object.defineProperty(K4,"__esModule",{value:!0});var Moe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Foe=Vs,Boe=Th,Uoe=cj(Boe),$oe=ho,Woe=cj($oe);function cj(e){return e&&e.__esModule?e:{default:e}}function zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hoe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Voe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qoe=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*9:n+i*3},0);return r%10},Goe=function(e){Voe(t,e);function t(r,n){return zoe(this,t),Hoe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Moe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=Foe.EAN5_STRUCTURE[qoe(this.data)];return{data:"1011"+(0,Uoe.default)(this.data,n,"01"),text:this.text}}}]),t}(Woe.default);K4.default=Goe;var X4={};Object.defineProperty(X4,"__esModule",{value:!0});var Koe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Xoe=Vs,Yoe=Th,Zoe=uj(Yoe),Joe=ho,Qoe=uj(Joe);function uj(e){return e&&e.__esModule?e:{default:e}}function ese(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nse=function(e){rse(t,e);function t(r,n){return ese(this,t),tse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Koe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=Xoe.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Zoe.default)(this.data,n,"01"),text:this.text}}}]),t}(Qoe.default);X4.default=nse;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});var ise=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Kp.checksum=l_;var ase=Th,Yh=fj(ase),ose=ho,sse=fj(ose);function fj(e){return e&&e.__esModule?e:{default:e}}function lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fse=function(e){use(t,e);function t(r,n){lse(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=l_(r));var i=cse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return ise(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==l_(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,Yh.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,Yh.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,Yh.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,Yh.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,Yh.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,Yh.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(sse.default);function l_(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}Kp.default=fse;var Y4={};Object.defineProperty(Y4,"__esModule",{value:!0});var hse=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),dse=Th,pse=hj(dse),gse=ho,mse=hj(gse),vse=Kp;function hj(e){return e&&e.__esModule?e:{default:e}}function xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wse=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],bse=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],_se=function(e){yse(t,e);function t(r,n){xse(this,t);var i=cb(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(i.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)i.middleDigits=r,i.upcA=rO(r,"0"),i.text=n.text||""+i.upcA[0]+r+i.upcA[i.upcA.length-1],i.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=r.substring(1,r.length-1),i.upcA=rO(i.middleDigits,r[0]),i.upcA[i.upcA.length-1]===r[r.length-1])i.isValid=!0;else return cb(i);else return cb(i);return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return hse(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],i=this.upcA[this.upcA.length-1],a=bse[parseInt(i)][parseInt(n)];return(0,pse.default)(this.middleDigits,a)}}]),t}(mse.default);function rO(e,t){for(var r=parseInt(e[e.length-1]),n=wse[r],i="",a=0,o=0;o<n.length;o++){var s=n[o];s==="X"?i+=e[a++]:i+=s}return i=""+t+i,""+i+(0,vse.checksum)(i)}Y4.default=_se;Object.defineProperty(_o,"__esModule",{value:!0});_o.UPCE=_o.UPC=_o.EAN2=_o.EAN5=_o.EAN8=_o.EAN13=void 0;var Ese=q4,Sse=_d(Ese),Ase=G4,Cse=_d(Ase),Tse=K4,Ose=_d(Tse),kse=X4,Nse=_d(kse),Pse=Kp,Ise=_d(Pse),Rse=Y4,Lse=_d(Rse);function _d(e){return e&&e.__esModule?e:{default:e}}_o.EAN13=Sse.default;_o.EAN8=Cse.default;_o.EAN5=Ose.default;_o.EAN2=Nse.default;_o.UPC=Ise.default;_o.UPCE=Lse.default;var K0={},kx={},Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.START_BIN="1010";Xp.END_BIN="11101";Xp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(kx,"__esModule",{value:!0});var Dse=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),wm=Xp,jse=ho,Mse=Fse(jse);function Fse(e){return e&&e.__esModule?e:{default:e}}function Bse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Use(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wse=function(e){$se(t,e);function t(){return Bse(this,t),Use(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Dse(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,i=this.data.match(/.{2}/g).map(function(a){return n.encodePair(a)}).join("");return{data:wm.START_BIN+i+wm.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var i=wm.BINARIES[n[1]];return wm.BINARIES[n[0]].split("").map(function(a,o){return(a==="1"?"111":"1")+(i[o]==="1"?"000":"0")}).join("")}}]),t}(Mse.default);kx.default=Wse;var Z4={};Object.defineProperty(Z4,"__esModule",{value:!0});var zse=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Hse=kx,Vse=qse(Hse);function qse(e){return e&&e.__esModule?e:{default:e}}function Gse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nO=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,i,a){return n+i*(3-a%2*2)},0);return Math.ceil(r/10)*10-r},Yse=function(e){Xse(t,e);function t(r,n){return Gse(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=nO(r)),Kse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return zse(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===nO(this.data)}}]),t}(Vse.default);Z4.default=Yse;Object.defineProperty(K0,"__esModule",{value:!0});K0.ITF14=K0.ITF=void 0;var Zse=kx,Jse=dj(Zse),Qse=Z4,ele=dj(Qse);function dj(e){return e&&e.__esModule?e:{default:e}}K0.ITF=Jse.default;K0.ITF14=ele.default;var Ds={},Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});var tle=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),rle=ho,nle=ile(rle);function ile(e){return e&&e.__esModule?e:{default:e}}function ale(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ole(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lle=function(e){sle(t,e);function t(r,n){return ale(this,t),ole(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return tle(t,[{key:"encode",value:function(){for(var n="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),o=a.toString(2);o=cle(o,4-o.length);for(var s=0;s<o.length;s++)n+=o[s]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(nle.default);function cle(e,t){for(var r=0;r<t;r++)e="0"+e;return e}Oh.default=lle;var J4={},kh={};Object.defineProperty(kh,"__esModule",{value:!0});kh.mod10=ule;kh.mod11=fle;function ule(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function fle(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var i=parseInt(e[e.length-1-n]);t+=r[n%r.length]*i}return(11-t%11)%11}Object.defineProperty(J4,"__esModule",{value:!0});var hle=Oh,dle=gle(hle),ple=kh;function gle(e){return e&&e.__esModule?e:{default:e}}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vle(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yle=function(e){xle(t,e);function t(r,n){return mle(this,t),vle(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,ple.mod10)(r),n))}return t}(dle.default);J4.default=yle;var Q4={};Object.defineProperty(Q4,"__esModule",{value:!0});var wle=Oh,ble=Ele(wle),_le=kh;function Ele(e){return e&&e.__esModule?e:{default:e}}function Sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ale(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tle=function(e){Cle(t,e);function t(r,n){return Sle(this,t),Ale(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,_le.mod11)(r),n))}return t}(ble.default);Q4.default=Tle;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});var Ole=Oh,kle=Nle(Ole),iO=kh;function Nle(e){return e&&e.__esModule?e:{default:e}}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ile(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Rle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lle=function(e){Rle(t,e);function t(r,n){return Ple(this,t),r+=(0,iO.mod10)(r),r+=(0,iO.mod10)(r),Ile(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(kle.default);eE.default=Lle;var tE={};Object.defineProperty(tE,"__esModule",{value:!0});var Dle=Oh,jle=Mle(Dle),aO=kh;function Mle(e){return e&&e.__esModule?e:{default:e}}function Fle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ble(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ule(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $le=function(e){Ule(t,e);function t(r,n){return Fle(this,t),r+=(0,aO.mod11)(r),r+=(0,aO.mod10)(r),Ble(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(jle.default);tE.default=$le;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.MSI1110=Ds.MSI1010=Ds.MSI11=Ds.MSI10=Ds.MSI=void 0;var Wle=Oh,zle=Yp(Wle),Hle=J4,Vle=Yp(Hle),qle=Q4,Gle=Yp(qle),Kle=eE,Xle=Yp(Kle),Yle=tE,Zle=Yp(Yle);function Yp(e){return e&&e.__esModule?e:{default:e}}Ds.MSI=zle.default;Ds.MSI10=Vle.default;Ds.MSI11=Gle.default;Ds.MSI1010=Xle.default;Ds.MSI1110=Zle.default;var Nx={};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.pharmacode=void 0;var Jle=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Qle=ho,ece=tce(Qle);function tce(e){return e&&e.__esModule?e:{default:e}}function rce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ice(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ace=function(e){ice(t,e);function t(r,n){rce(this,t);var i=nce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.number=parseInt(r,10),i}return Jle(t,[{key:"encode",value:function(){for(var n=this.number,i="";!isNaN(n)&&n!=0;)n%2===0?(i="11100"+i,n=(n-2)/2):(i="100"+i,n=(n-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(ece.default);Nx.pharmacode=ace;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.codabar=void 0;var oce=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),sce=ho,lce=cce(sce);function cce(e){return e&&e.__esModule?e:{default:e}}function uce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dce=function(e){hce(t,e);function t(r,n){uce(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var i=fce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return oce(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],i=this.getEncodings(),a=0;a<this.data.length;a++)n.push(i[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(lce.default);Px.codabar=dce;var X0={},Ix={},Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Zp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Zp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(Ix,"__esModule",{value:!0});var pce=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),bm=Zp,gce=ho,mce=vce(gce);function vce(e){return e&&e.__esModule?e:{default:e}}function xce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bce=function(e){wce(t,e);function t(r,n){return xce(this,t),yce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return pce(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(s){return bm.MULTI_SYMBOLS[s]||s}),i=n.map(function(s){return t.getEncoding(s)}).join(""),a=t.checksum(n,20),o=t.checksum(n.concat(a),15);return{text:this.text,data:t.getEncoding("")+i+t.getEncoding(a)+t.getEncoding(o)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return bm.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return bm.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return bm.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,i){var a=n.slice().reverse().reduce(function(o,s,c){var u=c%i+1;return o+t.symbolValue(s)*u},0);return t.getSymbol(a%47)}}]),t}(mce.default);Ix.default=bce;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});var _ce=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ece=Ix,Sce=Ace(Ece);function Ace(e){return e&&e.__esModule?e:{default:e}}function Cce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Oce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var kce=function(e){Oce(t,e);function t(r,n){return Cce(this,t),Tce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return _ce(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(Sce.default);rE.default=kce;Object.defineProperty(X0,"__esModule",{value:!0});X0.CODE93FullASCII=X0.CODE93=void 0;var Nce=Ix,Pce=pj(Nce),Ice=rE,Rce=pj(Ice);function pj(e){return e&&e.__esModule?e:{default:e}}X0.CODE93=Pce.default;X0.CODE93FullASCII=Rce.default;var Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.GenericBarcode=void 0;var Lce=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Dce=ho,jce=Mce(Dce);function Mce(e){return e&&e.__esModule?e:{default:e}}function Fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Uce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $ce=function(e){Uce(t,e);function t(r,n){return Fce(this,t),Bce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Lce(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(jce.default);Rx.GenericBarcode=$ce;Object.defineProperty(B4,"__esModule",{value:!0});var Wce=Cx,_m=Bl,Zh=_o,oO=K0,r1=Ds,zce=Nx,Hce=Px,sO=X0,Vce=Rx;B4.default={CODE39:Wce.CODE39,CODE128:_m.CODE128,CODE128A:_m.CODE128A,CODE128B:_m.CODE128B,CODE128C:_m.CODE128C,EAN13:Zh.EAN13,EAN8:Zh.EAN8,EAN5:Zh.EAN5,EAN2:Zh.EAN2,UPC:Zh.UPC,UPCE:Zh.UPCE,ITF14:oO.ITF14,ITF:oO.ITF,MSI:r1.MSI,MSI10:r1.MSI10,MSI11:r1.MSI11,MSI1010:r1.MSI1010,MSI1110:r1.MSI1110,pharmacode:zce.pharmacode,codabar:Hce.codabar,CODE93:sO.CODE93,CODE93FullASCII:sO.CODE93FullASCII,GenericBarcode:Vce.GenericBarcode};var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});var qce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Ed.default=function(e,t){return qce({},e,t)};var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.default=Gce;function Gce(e){var t=[];function r(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.default=Kce;function Kce(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var aE={},oE={},Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.default=Xce;function Xce(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});var Yce={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Dx.default=Yce;Object.defineProperty(oE,"__esModule",{value:!0});var Zce=Lx,Jce=gj(Zce),Qce=Dx,lO=gj(Qce);function gj(e){return e&&e.__esModule?e:{default:e}}function eue(e){var t={};for(var r in lO.default)lO.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,Jce.default)(t),t}oE.default=eue;var sE={},lE={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.getTotalWidthOfEncodings=is.calculateEncodingAttributes=is.getBarcodePadding=is.getEncodingHeight=is.getMaximumHeightOfEncodings=void 0;var tue=Ed,rue=nue(tue);function nue(e){return e&&e.__esModule?e:{default:e}}function mj(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function vj(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function iue(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],a=(0,rue.default)(t,i.options),o;a.displayValue?o=sue(i.text,a,r):o=0;var s=i.data.length*a.width;i.width=Math.ceil(Math.max(o,s)),i.height=mj(i,a),i.barcodePadding=vj(o,s,a)}}function aue(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function oue(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function sue(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var i=n.measureText(e);if(!i)return 0;var a=i.width;return a}is.getMaximumHeightOfEncodings=oue;is.getEncodingHeight=mj;is.getBarcodePadding=vj;is.calculateEncodingAttributes=iue;is.getTotalWidthOfEncodings=aue;Object.defineProperty(lE,"__esModule",{value:!0});var lue=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),cue=Ed,uue=fue(cue),ub=is;function fue(e){return e&&e.__esModule?e:{default:e}}function hue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var due=function(){function e(t,r,n){hue(this,e),this.canvas=t,this.encodings=r,this.options=n}return lue(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,uue.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,ub.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,ub.getTotalWidthOfEncodings)(this.encodings),i=(0,ub.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var i=this.canvas.getContext("2d"),a=n.data,o;r.textPosition=="top"?o=r.marginTop+r.fontSize+r.textMargin:o=r.marginTop,i.fillStyle=r.lineColor;for(var s=0;s<a.length;s++){var c=s*r.width+n.barcodePadding;a[s]==="1"?i.fillRect(c,o,r.width,r.height):a[s]&&i.fillRect(c,o,r.width,r.height*a[s])}}},{key:"drawCanvasText",value:function(r,n){var i=this.canvas.getContext("2d"),a=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var o,s;r.textPosition=="top"?s=r.marginTop+r.fontSize-r.textMargin:s=r.height+r.textMargin+r.marginTop+r.fontSize,i.font=a,r.textAlign=="left"||n.barcodePadding>0?(o=0,i.textAlign="left"):r.textAlign=="right"?(o=n.width-1,i.textAlign="right"):(o=n.width/2,i.textAlign="center"),i.fillText(n.text,o,s)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();lE.default=due;var cE={};Object.defineProperty(cE,"__esModule",{value:!0});var pue=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gue=Ed,mue=vue(gue),fb=is;function vue(e){return e&&e.__esModule?e:{default:e}}function xue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Em="http://www.w3.org/2000/svg",yue=function(){function e(t,r,n){xue(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return pue(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var i=this.encodings[n],a=(0,mue.default)(this.options,i.options),o=this.createGroup(r,a.marginTop,this.svg);this.setGroupOptions(o,a),this.drawSvgBarcode(o,a,i),this.drawSVGText(o,a,i),r+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,fb.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,fb.getTotalWidthOfEncodings)(this.encodings),n=(0,fb.getMaximumHeightOfEncodings)(this.encodings),i=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,n),this.options.background&&this.drawRect(0,0,i,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,i){var a=i.data,o;n.textPosition=="top"?o=n.fontSize+n.textMargin:o=0;for(var s=0,c=0,u=0;u<a.length;u++)c=u*n.width+i.barcodePadding,a[u]==="1"?s++:s>0&&(this.drawRect(c-n.width*s,o,n.width*s,n.height,r),s=0);s>0&&this.drawRect(c-n.width*(s-1),o,n.width*s,n.height,r)}},{key:"drawSVGText",value:function(r,n,i){var a=this.document.createElementNS(Em,"text");if(n.displayValue){var o,s;a.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?s=n.fontSize-n.textMargin:s=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||i.barcodePadding>0?(o=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(o=i.width-1,a.setAttribute("text-anchor","end")):(o=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",o),a.setAttribute("y",s),a.appendChild(this.document.createTextNode(i.text)),r.appendChild(a)}}},{key:"setSvgAttributes",value:function(r,n){var i=this.svg;i.setAttribute("width",r+"px"),i.setAttribute("height",n+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+r+" "+n),i.setAttribute("xmlns",Em),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,i){var a=this.document.createElementNS(Em,"g");return a.setAttribute("transform","translate("+r+", "+n+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,i,a,o){var s=this.document.createElementNS(Em,"rect");return s.setAttribute("x",r),s.setAttribute("y",n),s.setAttribute("width",i),s.setAttribute("height",a),o.appendChild(s),s}}]),e}();cE.default=yue;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});var wue=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _ue=function(){function e(t,r,n){bue(this,e),this.object=t,this.encodings=r,this.options=n}return wue(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();uE.default=_ue;Object.defineProperty(sE,"__esModule",{value:!0});var Eue=lE,Sue=fE(Eue),Aue=cE,Cue=fE(Aue),Tue=uE,Oue=fE(Tue);function fE(e){return e&&e.__esModule?e:{default:e}}sE.default={CanvasRenderer:Sue.default,SVGRenderer:Cue.default,ObjectRenderer:Oue.default};var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});function hE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var kue=function(e){pE(t,e);function t(r,n){hE(this,t);var i=dE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="InvalidInputException",i.symbology=r,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return t}(Error),Nue=function(e){pE(t,e);function t(){hE(this,t);var r=dE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),Pue=function(e){pE(t,e);function t(){hE(this,t);var r=dE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);Sd.InvalidInputException=kue;Sd.InvalidElementException=Nue;Sd.NoElementException=Pue;Object.defineProperty(aE,"__esModule",{value:!0});var Iue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rue=oE,c_=xj(Rue),Lue=sE,y1=xj(Lue),Due=Sd;function xj(e){return e&&e.__esModule?e:{default:e}}function gE(e){if(typeof e=="string")return jue(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(gE(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return Mue(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,c_.default)(e),renderer:y1.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,c_.default)(e),renderer:y1.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:y1.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":Iue(e))==="object"&&!e.nodeName)return{element:e,renderer:y1.default.ObjectRenderer};throw new Due.InvalidElementException}}function jue(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(gE(t[n]));return r}}function Mue(e){var t=document.createElement("canvas");return{element:t,options:(0,c_.default)(e),renderer:y1.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}aE.default=gE;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});var Fue=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Uue=function(){function e(t){Bue(this,e),this.api=t}return Fue(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(i){return this.handleCatch(i),this.api}}}]),e}();mE.default=Uue;var $ue=B4,Yf=uf($ue),Wue=Ed,Jp=uf(Wue),zue=nE,yj=uf(zue),Hue=iE,cO=uf(Hue),Vue=aE,que=uf(Vue),Gue=Lx,Kue=uf(Gue),Xue=mE,Yue=uf(Xue),wj=Sd,Zue=Dx,bj=uf(Zue);function uf(e){return e&&e.__esModule?e:{default:e}}var Rc=function(){},jx=function(t,r,n){var i=new Rc;if(typeof t>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,que.default)(t),i._encodings=[],i._options=bj.default,i._errorHandler=new Yue.default(i),typeof r<"u"&&(n=n||{},n.format||(n.format=Ej()),i.options(n)[n.format](r,n).render()),i};jx.getModule=function(e){return Yf.default[e]};for(var uO in Yf.default)Yf.default.hasOwnProperty(uO)&&Jue(Yf.default,uO);function Jue(e,t){Rc.prototype[t]=Rc.prototype[t.toUpperCase()]=Rc.prototype[t.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var a=(0,Jp.default)(i._options,n);a=(0,Kue.default)(a);var o=e[t],s=_j(r,o,a);return i._encodings.push(s),i})}}function _j(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new wj.InvalidInputException(n.constructor.name,e);var i=n.encode();i=(0,yj.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,Jp.default)(r,i[a].options);return i}function Ej(){return Yf.default.CODE128?"CODE128":Object.keys(Yf.default)[0]}Rc.prototype.options=function(e){return this._options=(0,Jp.default)(this._options,e),this};Rc.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};Rc.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,Jp.default)(this._options,e.options);r.format=="auto"&&(r.format=Ej()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,i=Yf.default[r.format.toUpperCase()],a=_j(n,i,r);u_(e,a,r)})}}};Rc.prototype.render=function(){if(!this._renderProperties)throw new wj.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)u_(this._renderProperties[e],this._encodings,this._options);else u_(this._renderProperties,this._encodings,this._options);return this};Rc.prototype._defaults=bj.default;function u_(e,t,r){t=(0,yj.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,Jp.default)(r,t[n].options),(0,cO.default)(t[n].options);(0,cO.default)(r);var i=e.renderer,a=new i(e.element,t,r);a.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=jx);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),jx(r,e,t)});var Que=jx;const f_=bl(Que),efe=()=>{const{products:e,updateProduct:t,deleteProduct:r,categories:n,units:i,storageZones:a,stockMovements:o,addOrder:s,getPendingOrders:c,updateOrder:u,getAverageDeliveryTime:h}=Ji(),{addNotification:p}=px(),[v,g]=L.useState(""),[_,b]=L.useState(""),[E,S]=L.useState(""),[T,O]=L.useState(null),[k,D]=L.useState({}),[z,F]=L.useState(null),[q,B]=L.useState(0),[ee,W]=L.useState(null),[U,K]=L.useState(null),[oe,ae]=L.useState(0),[Re,ke]=L.useState(1),we=25,_e=L.useRef(null),[$e,We]=L.useState(!1),[j,Y]=L.useState({includePhotos:!0,includeBarcodes:!0,includeStock:!0,includeLocation:!0,selectedCategories:[]}),H=te=>{if(te.minStock===0)return"normal";const xt=te.currentStock/te.minStock;return xt<.5?"critical":xt<1?"low":"normal"},X=te=>te?te.replace(/tagre\s*/gi,"").replace(/Position\s*/gi,"").replace(/\s*-\s*/g,"-").replace(/\.+/g,"-").replace(/-+/g,"-"):"",ne=L.useMemo(()=>{const te=new Date,xt=new Date(te.getTime()-30*24*60*60*1e3),wt={};return e.forEach(Et=>{const xe=o.filter(fe=>fe.productId===Et.id&&fe.movementType==="exit"&&fe.timestamp>=xt).reduce((fe,Qe)=>fe+Qe.quantity,0)/30;wt[Et.id]=xe}),wt},[e,o]),Oe=e.filter(te=>{const xt=te.reference.toLowerCase().includes(v.toLowerCase())||te.designation.toLowerCase().includes(v.toLowerCase())||te.customerReference&&te.customerReference.toLowerCase().includes(v.toLowerCase()),wt=!_||te.category===_;let Et=!0;return E&&(Et=H(te)===E),xt&&wt&&Et}),Ie=Math.ceil(Oe.length/we),be=(Re-1)*we,Pe=be+we,ze=Oe.slice(be,Pe);L.useEffect(()=>{_e.current&&_e.current.scrollIntoView({behavior:"smooth",block:"start"})},[Re]),L.useEffect(()=>{ke(1)},[v,_,E]);const Me=te=>{O(te),D({designation:te.designation,customerReference:te.customerReference||"",category:te.category,storageZone:te.storageZone,shelf:te.shelf,position:te.position,currentStock:te.currentStock,minStock:te.minStock,maxStock:te.maxStock,unit:te.unit,unitPrice:te.unitPrice,supplier1:te.supplier1||"",orderLink1:te.orderLink1||te.orderLink||"",supplier2:te.supplier2||"",orderLink2:te.orderLink2||"",supplier3:te.supplier3||"",orderLink3:te.orderLink3||"",photo:te.photo||""})},st=te=>{var wt;const xt=(wt=te.target.files)==null?void 0:wt[0];if(xt){const Et=new FileReader;Et.onloadend=()=>{D({...k,photo:Et.result})},Et.readAsDataURL(xt)}},Fe=async()=>{if(T)try{const te={};if(console.log("Dbut sauvegarde:",{editFormData:k,editingProduct:T}),k.designation!==void 0&&k.designation!==T.designation&&(te.designation=k.designation),k.category!==void 0&&k.category!==T.category&&(te.category=k.category),k.storageZone!==void 0&&k.storageZone!==T.storageZone&&(console.log("Zone change:",k.storageZone,"!=",T.storageZone),te.storageZone=k.storageZone),k.shelf!==void 0&&k.shelf!==T.shelf&&(console.log("Shelf change:",k.shelf,"!=",T.shelf),te.shelf=k.shelf),k.position!==void 0&&k.position!==T.position&&(console.log("Position change:",k.position,"!=",T.position),te.position=k.position),k.currentStock!==void 0&&k.currentStock!==T.currentStock&&(te.currentStock=k.currentStock),k.minStock!==void 0&&k.minStock!==T.minStock&&(te.minStock=k.minStock),k.maxStock!==void 0&&k.maxStock!==T.maxStock&&(te.maxStock=k.maxStock),k.unit!==void 0&&k.unit!==T.unit&&(te.unit=k.unit),k.unitPrice!==void 0&&k.unitPrice!==T.unitPrice&&(te.unitPrice=k.unitPrice),k.supplier1!==void 0&&k.supplier1!==T.supplier1&&(te.supplier1=k.supplier1),k.orderLink1!==void 0&&k.orderLink1!==T.orderLink1&&(te.orderLink1=k.orderLink1),k.supplier2!==void 0&&k.supplier2!==T.supplier2&&(te.supplier2=k.supplier2),k.orderLink2!==void 0&&k.orderLink2!==T.orderLink2&&(te.orderLink2=k.orderLink2),k.supplier3!==void 0&&k.supplier3!==T.supplier3&&(te.supplier3=k.supplier3),k.orderLink3!==void 0&&k.orderLink3!==T.orderLink3&&(te.orderLink3=k.orderLink3),k.photo!==void 0&&k.photo!==T.photo&&(te.photo=k.photo),te.storageZone!==void 0||te.shelf!==void 0||te.position!==void 0){const xt=te.storageZone!==void 0?te.storageZone:T.storageZone,wt=te.shelf!==void 0?te.shelf:T.shelf,Et=te.position!==void 0?te.position:T.position;if(xt){const zt=wt??"",Ne=Et??"";te.location=`${xt}.${zt}.${Ne}`}else te.location="";console.log("Location calcul:",{zone:xt,shelf:wt,position:Et,location:te.location})}Object.keys(te).length>0&&(console.log("Updates envoys:",te),await t(T.id,te)),O(null),D({})}catch(te){console.error("Erreur lors de la sauvegarde:",te),alert("Erreur lors de la sauvegarde du produit")}},me=()=>{O(null),D({})},Dt=async te=>{if(window.confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{await r(te)}catch(xt){console.error("Erreur lors de la suppression:",xt),alert("Erreur lors de la suppression du produit")}},lt=async()=>{if(!z||q<=0){alert("Veuillez saisir une quantit valide");return}try{const te=z.currentStock+q;await t(z.id,{currentStock:te}),F(null),B(0)}catch(te){console.error("Erreur lors de la rception:",te),alert("Erreur lors de la rception du produit")}},Ot=()=>{F(null),B(0)},ot=te=>{W(te)},Ut=()=>{W(null)},at=te=>{K(te),ae(0)},gr=async()=>{if(!U||oe<=0){alert("Veuillez saisir une quantit valide");return}try{await s({product_id:U.id,product_reference:U.reference,product_designation:U.designation,quantity:oe}),p({type:"success",title:"Commande enregistre",message:`${oe} ${U.unit} de ${U.designation} command(s)`,duration:5e3}),K(null),ae(0)}catch(te){console.error("Erreur lors de la commande:",te),p({type:"error",title:"Erreur",message:"Erreur lors de l'enregistrement de la commande",duration:5e3})}},Ht=()=>{K(null),ae(0)},cr=()=>{const te=new ir;te.setFontSize(20),te.text("Liste des Produits",14,22),te.setFontSize(10),te.text(`Gnr le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}`,14,30);const xt=e.map(wt=>[wt.reference,wt.designation,wt.category,wt.location,wt.currentStock.toString(),`${wt.minStock} / ${wt.maxStock}`,wt.unit]);v4(te,{startY:36,head:[["Rfrence","Dsignation","Catgorie","Emplacement","Stock actuel","Min/Max","Unit"]],body:xt,styles:{fontSize:9},headStyles:{fillColor:[197,90,58]}}),te.save(`liste_produits_${new Date().toISOString().split("T")[0]}.pdf`)},lr=()=>{const te=e.map(Et=>({Rfrence:Et.reference,Dsignation:Et.designation,Catgorie:Et.category,"Zone de stockage":Et.storageZone||"",tagre:Et.shelf||"",Position:Et.position||"",Emplacement:Et.location,"Stock actuel":Et.currentStock,"Stock minimum":Et.minStock,"Stock maximum":Et.maxStock,Unit:Et.unit,"Cr le":new Date(Et.createdAt).toLocaleString("fr-FR"),"Modifi le":new Date(Et.updatedAt).toLocaleString("fr-FR")})),xt=j0.json_to_sheet(te),wt=j0.book_new();j0.book_append_sheet(wt,xt,"Produits"),xt["!cols"]=[{wch:12},{wch:30},{wch:15},{wch:15},{wch:10},{wch:10},{wch:35},{wch:12},{wch:12},{wch:12},{wch:8},{wch:18},{wch:18}],KD(wt,`liste_produits_${new Date().toISOString().split("T")[0]}.xlsx`)},Jt=()=>{const te=new ir({orientation:"portrait",unit:"mm",format:"a4"}),xt=210,wt=297,Et=15,zt=xt-2*Et,Ne=[255,87,34];let xe=e;j.selectedCategories.length>0&&(xe=e.filter(Cr=>j.selectedCategories.includes(Cr.category)));const fe={};xe.forEach(Cr=>{fe[Cr.category]||(fe[Cr.category]=[]),fe[Cr.category].push(Cr)});const Qe=Object.keys(fe).sort();let ft=0;const Ze={};te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("CATALOGUE PRODUITS",xt/2,8,{align:"center"}),te.setTextColor(0,0,0),te.setFontSize(10),te.setFont("helvetica","normal");let Rt=25,$t=Et;const fr=(xt-2*Et-10)/2;Qe.forEach((Cr,$r)=>{Ze[Cr]=ft+1+$r,Rt>wt-40&&$t===Et&&($t=Et+fr+10,Rt=25),Rt>wt-40&&$t!==Et&&(te.addPage(),ft++,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("CATALOGUE PRODUITS",xt/2,8,{align:"center"}),$t=Et,Rt=25),te.setFillColor(240,240,240),te.roundedRect($t-2,Rt-5,fr+4,7,1,1,"F"),te.setTextColor(Ne[0],Ne[1],Ne[2]),te.setFontSize(10),te.setFont("helvetica","bold"),te.text(Cr,$t,Rt),Rt+=8,fe[Cr].forEach(vr=>{Rt>wt-40&&($t===Et?($t=Et+fr+10,Rt=25):(te.addPage(),ft++,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("CATALOGUE PRODUITS",xt/2,8,{align:"center"}),$t=Et,Rt=25)),te.setTextColor(0,0,0),te.setFontSize(9),te.setFont("helvetica","normal");const kn=vr.designation.length>35?vr.designation.substring(0,32)+"...":vr.designation;te.text(kn,$t+2,Rt),te.text(`${Ze[Cr]}`,$t+fr-5,Rt,{align:"right"}),Rt+=5}),Rt+=3}),Qe.forEach(Cr=>{te.addPage(),ft++,Ze[Cr]=ft,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("CATALOGUE PRODUITS",xt/2,8,{align:"center"}),te.setTextColor(Ne[0],Ne[1],Ne[2]),te.setFontSize(28),te.setFont("helvetica","bold"),te.text(Cr,Et,35),te.setFontSize(9),te.setTextColor(100,100,100),te.setFont("helvetica","normal"),te.text(`${ft}`,xt-Et,wt-10,{align:"right"});const $r=fe[Cr],vr=(zt-10)/2,kn=102;let Vt=Et,_n=50,Bi=0;$r.forEach(Vr=>{Bi%6===0&&Bi>0&&(te.addPage(),ft++,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text(Cr.toUpperCase(),xt/2,8,{align:"center"}),te.setFontSize(9),te.setTextColor(100,100,100),te.setFont("helvetica","normal"),te.text(`${ft}`,xt-Et,wt-10,{align:"right"}),_n=20,Vt=Et);const Ai=Bi%2,Mr=Math.floor(Bi%6/2);Vt=Et+Ai*(vr+10),_n=50+Mr*(kn+10),te.setDrawColor(200,200,200),te.setLineWidth(.3),te.roundedRect(Vt,_n,vr,kn,3,3);const Gr=5;let ie=_n+Gr;if(j.includePhotos){const qe=vr-2*Gr,pt=Vt+Gr,St=ie;if(Vr.photo)try{te.addImage(Vr.photo,"JPEG",pt,St,qe,qe),te.setDrawColor(220,220,220),te.setLineWidth(.3),te.rect(pt,St,qe,qe)}catch{te.setFillColor(245,245,245),te.rect(pt,St,qe,qe,"F"),te.setDrawColor(220,220,220),te.setLineWidth(.3),te.rect(pt,St,qe,qe),te.setTextColor(200,200,200),te.setFontSize(32),te.text("",pt+qe/2,St+qe/2+6,{align:"center"})}else te.setFillColor(245,245,245),te.rect(pt,St,qe,qe,"F"),te.setDrawColor(220,220,220),te.setLineWidth(.3),te.rect(pt,St,qe,qe),te.setTextColor(200,200,200),te.setFontSize(32),te.text("",pt+qe/2,St+qe/2+6,{align:"center"});ie+=qe+5}const ue=Vt+Gr;let de=ie;te.setTextColor(Ne[0],Ne[1],Ne[2]),te.setFontSize(9),te.setFont("helvetica","bold"),te.text(Vr.reference,ue,de);const ge=Vr.category;te.setFontSize(7),te.setFont("helvetica","bold");const ye=te.getTextWidth(ge)+4,Ae=Vt+vr-ye-Gr,Ke=de-3;te.setFillColor(240,240,240),te.roundedRect(Ae,Ke,ye,5,1,1,"F"),te.setTextColor(100,100,100),te.text(ge,Ae+2,Ke+3.5);let ct=Ke+7;if(j.includeBarcodes){const qe=document.createElement("canvas");try{f_(qe,Vr.reference,{format:"CODE128",width:1,height:20,displayValue:!1,margin:0});const pt=qe.toDataURL("image/png"),St=35;te.addImage(pt,"PNG",Vt+vr-St-Gr,ct,St,7)}catch(pt){console.error("Error generating barcode:",pt)}}de+=3.5,te.setTextColor(0,0,0),te.setFontSize(8),te.setFont("helvetica","normal");const Ge=vr-2*Gr,Ye=te.splitTextToSize(Vr.designation,Ge);te.text(Ye.slice(0,2),ue,de),de+=3*Math.min(Ye.length,2)+1,j.includeLocation&&Vr.location&&(te.setFontSize(7),te.setTextColor(80,80,80),te.text(`Emplacement: ${X(Vr.location)}`,ue,de),de+=3),j.includeStock&&(te.setFontSize(7),te.setTextColor(80,80,80),te.text(`Stock: ${Vr.currentStock} ${Vr.unit} | Min: ${Vr.minStock} / Max: ${Vr.maxStock}`,ue,de)),Bi++})}),te.addPage(),ft++,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("INDEX ALPHABTIQUE",xt/2,8,{align:"center"});const er=[...xe].sort((Cr,$r)=>Cr.designation.localeCompare($r.designation,"fr",{sensitivity:"base"}));te.setTextColor(0,0,0),te.setFontSize(8),te.setFont("helvetica","normal");let mr=25,nr=Et;const jr=(xt-2*Et-10)/2;er.forEach(Cr=>{mr>wt-30&&nr===Et&&(nr=Et+jr+10,mr=25),mr>wt-30&&nr!==Et&&(te.addPage(),ft++,te.setFillColor(Ne[0],Ne[1],Ne[2]),te.rect(0,0,xt,12,"F"),te.setTextColor(255,255,255),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("INDEX ALPHABTIQUE",xt/2,8,{align:"center"}),te.setFontSize(9),te.setTextColor(100,100,100),te.setFont("helvetica","normal"),te.text(`${ft}`,xt-Et,wt-10,{align:"right"}),nr=Et,mr=25),te.setTextColor(0,0,0),te.setFontSize(8),te.setFont("helvetica","normal");let $r=Cr.designation;const vr=jr-20;if(te.getTextWidth($r)>vr){for(;te.getTextWidth($r+"...")>vr&&$r.length>0;)$r=$r.substring(0,$r.length-1);$r+="..."}te.text($r,nr,mr),te.setTextColor(Ne[0],Ne[1],Ne[2]),te.setFont("helvetica","bold"),te.text(Cr.reference,nr+jr-5,mr,{align:"right"}),mr+=5}),te.setFontSize(9),te.setTextColor(100,100,100),te.setFont("helvetica","normal"),te.text(`${ft}`,xt-Et,wt-10,{align:"right"}),te.save(`catalogue_produits_${new Date().toISOString().split("T")[0]}.pdf`),We(!1)};return y.jsxs("div",{className:"products-page",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h1",{style:{margin:0},children:"Gestion des Produits"}),(()=>{const te=h();return te>0&&y.jsxs("div",{style:{padding:"0.5rem 1rem",background:"var(--card-bg)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[y.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Temps moyen de livraison: "}),y.jsxs("span",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--accent-color)"},children:[te," jours"]})]})})()]}),y.jsxs("div",{className:"filters",children:[y.jsx("input",{type:"text",placeholder:"Rechercher par rfrence ou dsignation...",value:v,onChange:te=>g(te.target.value),className:"search-input"}),y.jsxs("select",{value:_,onChange:te=>b(te.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Toutes les catgories"}),n.map(te=>y.jsx("option",{value:te.name,children:te.name},te.id))]}),y.jsxs("select",{value:E,onChange:te=>S(te.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les statuts"}),y.jsx("option",{value:"critical",children:"Critique"}),y.jsx("option",{value:"low",children:"Faible"}),y.jsx("option",{value:"medium",children:"Moyen"}),y.jsx("option",{value:"normal",children:"Normal"})]}),y.jsx("button",{onClick:cr,className:"btn btn-secondary",children:"Export PDF"}),y.jsx("button",{onClick:lr,className:"btn btn-secondary",children:"Export Excel"}),y.jsx("button",{onClick:()=>We(!0),className:"btn btn-primary",children:"Gnrer Catalogue PDF"})]}),Oe.length===0?y.jsx("p",{className:"no-data",children:"Aucun produit trouv"}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:_e,className:"products-table-container",children:y.jsxs("table",{className:"products-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Photo"}),y.jsx("th",{children:"Rfrence"}),y.jsx("th",{children:"Dsignation"}),y.jsx("th",{children:"Catgorie"}),y.jsx("th",{children:"Emplacement"}),y.jsx("th",{children:"Stock Actuel"}),y.jsx("th",{children:"Conso. Moy/j"}),y.jsx("th",{children:"Jours avant rupture"}),y.jsx("th",{children:"Prix Unitaire"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:ze.map(te=>{var xt;return y.jsxs("tr",{children:[y.jsx("td",{children:te.photo?y.jsx("img",{src:te.photo,alt:te.designation,className:"product-thumb"}):y.jsx("div",{className:"product-thumb-placeholder",children:"?"})}),y.jsx("td",{children:te.reference}),y.jsx("td",{children:te.designation}),y.jsx("td",{children:te.category}),y.jsxs("td",{title:`Raw: ${te.location} | Zone: ${te.storageZone} | Shelf: ${te.shelf} | Position: ${te.position}`,children:["[",X(te.location),"]"]}),y.jsx("td",{children:y.jsx("span",{className:`stock-value stock-${H(te)}`,children:te.currentStock})}),y.jsx("td",{children:((xt=ne[te.id])==null?void 0:xt.toFixed(1))||"0.0"}),y.jsx("td",{children:(()=>{const wt=ne[te.id]||0;if(wt===0)return"";const Et=Math.floor(te.currentStock/wt);return Et>999?"":Et})()}),y.jsx("td",{children:te.unitPrice?`${te.unitPrice.toFixed(2)} `:"-"}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{onClick:()=>Me(te),className:"btn-icon btn-edit",title:"Modifier",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),y.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(te.orderLink1||te.orderLink2||te.orderLink3||te.orderLink)&&y.jsx("button",{onClick:()=>ot(te),className:"btn-icon btn-gray",title:"Fournisseur",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),y.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})}),y.jsx("button",{onClick:()=>at(te),className:"btn-icon btn-order",title:"Commander",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"9",cy:"21",r:"1"}),y.jsx("circle",{cx:"20",cy:"21",r:"1"}),y.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})}),y.jsx("button",{onClick:()=>Dt(te.id),className:"btn-icon btn-delete-red",title:"Supprimer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})})]},te.id)})})]})}),Ie>1&&y.jsxs("div",{className:"pagination",children:[y.jsx("button",{onClick:()=>ke(te=>Math.max(1,te-1)),disabled:Re===1,className:"btn btn-secondary",children:" Prcdent"}),y.jsxs("span",{className:"pagination-info",children:["Page ",Re," sur ",Ie," (",Oe.length," produits)"]}),y.jsx("button",{onClick:()=>ke(te=>Math.min(Ie,te+1)),disabled:Re===Ie,className:"btn btn-secondary",children:"Suivant "})]})]}),T&&y.jsx("div",{className:"modal-overlay",onClick:me,children:y.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[y.jsx("h2",{children:"Modifier le Produit"}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Informations gnrales"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Dsignation"}),y.jsx("input",{type:"text",value:k.designation||"",onChange:te=>D({...k,designation:te.target.value})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Rfrence Client"}),y.jsx("input",{type:"text",value:k.customerReference||"",onChange:te=>D({...k,customerReference:te.target.value}),placeholder:"Rfrence du client (optionnel)"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Catgorie"}),y.jsx("select",{value:k.category||"",onChange:te=>D({...k,category:te.target.value}),children:n.map(te=>y.jsx("option",{value:te.name,children:te.name},te.id))})]}),y.jsx("div",{className:"form-group"})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Localisation"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Zone de stockage"}),y.jsx("select",{value:k.storageZone||"",onChange:te=>D({...k,storageZone:te.target.value}),children:a.map(te=>y.jsx("option",{value:te.name,children:te.name},te.id))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"N tagre"}),y.jsx("input",{type:"number",value:k.shelf!==void 0?k.shelf:"",min:"1",onChange:te=>D({...k,shelf:parseInt(te.target.value)||1})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"N Position"}),y.jsx("input",{type:"number",value:k.position!==void 0?k.position:"",min:"1",onChange:te=>D({...k,position:parseInt(te.target.value)||1})})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Gestion du stock"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Stock Actuel"}),y.jsx("input",{type:"number",value:k.currentStock!==void 0?k.currentStock:"",step:"1",min:"0",onChange:te=>D({...k,currentStock:parseInt(te.target.value)||0})})]}),y.jsx("div",{className:"form-group"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Unit"}),y.jsx("select",{value:k.unit||"",onChange:te=>D({...k,unit:te.target.value}),children:i.map(te=>y.jsxs("option",{value:te.abbreviation,children:[te.name," (",te.abbreviation,")"]},te.id))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Prix Unitaire ()"}),y.jsx("input",{type:"number",value:k.unitPrice!==void 0?k.unitPrice:"",step:"0.01",min:"0",placeholder:"0.00",onChange:te=>D({...k,unitPrice:parseFloat(te.target.value)||void 0})})]})]})]}),y.jsxs("div",{className:"form-section",children:[y.jsx("h2",{className:"form-section-title",children:"Fournisseurs et commandes"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier1",children:"Fournisseur 1"}),y.jsx("input",{type:"text",id:"supplier1",value:k.supplier1||"",onChange:te=>D({...k,supplier1:te.target.value}),placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink1",children:"Lien de Commande 1"}),y.jsx("input",{type:"url",id:"orderLink1",value:k.orderLink1||"",onChange:te=>D({...k,orderLink1:te.target.value}),placeholder:"https://exemple.com/produit"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier2",children:"Fournisseur 2"}),y.jsx("input",{type:"text",id:"supplier2",value:k.supplier2||"",onChange:te=>D({...k,supplier2:te.target.value}),placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink2",children:"Lien de Commande 2"}),y.jsx("input",{type:"url",id:"orderLink2",value:k.orderLink2||"",onChange:te=>D({...k,orderLink2:te.target.value}),placeholder:"https://exemple.com/produit"})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"supplier3",children:"Fournisseur 3"}),y.jsx("input",{type:"text",id:"supplier3",value:k.supplier3||"",onChange:te=>D({...k,supplier3:te.target.value}),placeholder:"Nom du fournisseur"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderLink3",children:"Lien de Commande 3"}),y.jsx("input",{type:"url",id:"orderLink3",value:k.orderLink3||"",onChange:te=>D({...k,orderLink3:te.target.value}),placeholder:"https://exemple.com/produit"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"photo",children:"Photo du Produit"}),y.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:st}),k.photo&&y.jsx("div",{className:"photo-preview",children:y.jsx("img",{src:k.photo,alt:"Aperu"})})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{onClick:me,className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{onClick:Fe,className:"btn btn-primary",children:"Enregistrer"})]})]})}),z&&y.jsx("div",{className:"modal-overlay",onClick:Ot,children:y.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),style:{maxWidth:"700px"},children:[y.jsx("h2",{children:"Rception de Stock"}),y.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:[z.reference," - ",z.designation]}),(()=>{const te=c().filter(xt=>xt.product_id===z.id);return te.length>0&&y.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.25rem",background:"var(--card-bg)",borderRadius:"8px",border:"2px solid var(--accent-color)"},children:[y.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"600",color:"var(--accent-color)"},children:" Commandes en attente"}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:te.map(xt=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"var(--bg-color)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[y.jsxs("div",{children:[y.jsxs("span",{style:{fontWeight:"700",fontSize:"1.1rem",color:"var(--text-primary)"},children:[xt.quantity," ",z.unit]}),y.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:"0.75rem",fontSize:"0.9rem"},children:["Command le ",new Date(xt.ordered_at).toLocaleDateString("fr-FR")]})]}),y.jsx("button",{onClick:async()=>{try{const wt=z.currentStock+xt.quantity;await t(z.id,{currentStock:wt}),await u(xt.id,{status:"received",received_at:new Date}),Ot()}catch(wt){console.error("Erreur lors de la rception:",wt),alert("Erreur lors de la rception")}},className:"btn btn-success",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:" Rceptionner"})]},xt.id))})]})})(),y.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.25rem",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[y.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"600"},children:" Rception manuelle"}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Quantit Reue *"}),y.jsx("input",{type:"number",value:q||"",step:"1",min:"1",onChange:te=>B(parseInt(te.target.value)||0),placeholder:"Quantit reue",autoFocus:!0})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{onClick:Ot,className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{onClick:lt,className:"btn btn-primary",children:"Valider la Rception"})]})]})}),ee&&y.jsx("div",{className:"modal-overlay",onClick:Ut,children:y.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[y.jsx("h2",{children:"Liens de Commande"}),y.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:[ee.reference," - ",ee.designation]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(ee.orderLink1||ee.orderLink)&&y.jsxs("a",{href:ee.orderLink1||ee.orderLink,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",padding:"1.5rem",borderRadius:"8px",background:"var(--card-bg)",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",gap:"0.75rem",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-2px)",te.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0)",te.currentTarget.style.boxShadow="none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--primary-color)",strokeWidth:"2",children:[y.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),y.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"var(--text-primary)"},children:ee.supplier1||"Fournisseur 1"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--primary-color)",fontSize:"0.9rem",fontWeight:"500"},children:[y.jsx("span",{children:"Ouvrir le lien"}),y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),y.jsx("polyline",{points:"15 3 21 3 21 9"}),y.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]}),ee.orderLink2&&y.jsxs("a",{href:ee.orderLink2,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",padding:"1.5rem",borderRadius:"8px",background:"var(--card-bg)",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",gap:"0.75rem",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-2px)",te.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0)",te.currentTarget.style.boxShadow="none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--primary-color)",strokeWidth:"2",children:[y.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),y.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"var(--text-primary)"},children:ee.supplier2||"Fournisseur 2"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--primary-color)",fontSize:"0.9rem",fontWeight:"500"},children:[y.jsx("span",{children:"Ouvrir le lien"}),y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),y.jsx("polyline",{points:"15 3 21 3 21 9"}),y.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]}),ee.orderLink3&&y.jsxs("a",{href:ee.orderLink3,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",padding:"1.5rem",borderRadius:"8px",background:"var(--card-bg)",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",gap:"0.75rem",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-2px)",te.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0)",te.currentTarget.style.boxShadow="none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--primary-color)",strokeWidth:"2",children:[y.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),y.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),y.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),y.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"var(--text-primary)"},children:ee.supplier3||"Fournisseur 3"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--primary-color)",fontSize:"0.9rem",fontWeight:"500"},children:[y.jsx("span",{children:"Ouvrir le lien"}),y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),y.jsx("polyline",{points:"15 3 21 3 21 9"}),y.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]})]}),y.jsx("div",{className:"modal-actions",style:{marginTop:"1.5rem"},children:y.jsx("button",{onClick:Ut,className:"btn btn-secondary",children:"Fermer"})})]})}),U&&y.jsx("div",{className:"modal-overlay",onClick:Ht,children:y.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[y.jsx("h2",{children:"Commander un Produit"}),y.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:[U.reference," - ",U.designation]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"orderQuantity",children:"Quantit commande *"}),y.jsx("input",{type:"number",id:"orderQuantity",value:oe,onChange:te=>ae(parseInt(te.target.value)||0),min:"1",placeholder:"0",autoFocus:!0})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{onClick:Ht,className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{onClick:gr,className:"btn btn-primary",children:"Enregistrer la Commande"})]})]})}),$e&&y.jsx("div",{className:"modal-overlay",onClick:()=>We(!1),children:y.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),style:{maxWidth:"600px"},children:[y.jsx("h2",{children:"Configuration du Catalogue PDF"}),y.jsx("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:"Personnalisez les informations  inclure dans votre catalogue"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[y.jsxs("div",{style:{padding:"1rem",background:"var(--bg-secondary)",borderRadius:"8px"},children:[y.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1rem",fontWeight:"600"},children:"Options d'affichage"}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:j.includePhotos,onChange:te=>Y({...j,includePhotos:te.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),y.jsx("span",{children:"Inclure les photos des produits"})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:j.includeBarcodes,onChange:te=>Y({...j,includeBarcodes:te.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),y.jsx("span",{children:"Inclure les codes-barres"})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:j.includeStock,onChange:te=>Y({...j,includeStock:te.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),y.jsx("span",{children:"Inclure les niveaux de stock"})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:j.includeLocation,onChange:te=>Y({...j,includeLocation:te.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),y.jsx("span",{children:"Inclure les emplacements"})]})]}),y.jsxs("div",{style:{padding:"1rem",background:"var(--bg-secondary)",borderRadius:"8px"},children:[y.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1rem",fontWeight:"600"},children:"Filtrer par catgories"}),y.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.75rem"},children:"Laissez vide pour inclure toutes les catgories"}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",maxHeight:"200px",overflowY:"auto"},children:n.map(te=>y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:j.selectedCategories.includes(te.name),onChange:xt=>{xt.target.checked?Y({...j,selectedCategories:[...j.selectedCategories,te.name]}):Y({...j,selectedCategories:j.selectedCategories.filter(wt=>wt!==te.name)})},style:{width:"18px",height:"18px",cursor:"pointer"}}),y.jsx("span",{children:te.name}),y.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.875rem",color:"var(--text-secondary)"},children:["(",e.filter(xt=>xt.category===te.name).length," produits)"]})]},te.id))})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{onClick:()=>We(!1),className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{onClick:Jt,className:"btn btn-primary",disabled:j.selectedCategories.length>0&&e.filter(te=>j.selectedCategories.includes(te.category)).length===0,children:"Gnrer le Catalogue PDF"})]})]})})]})},tfe=()=>{const{categories:e,addCategory:t,updateCategory:r,deleteCategory:n,units:i,addUnit:a,deleteUnit:o,storageZones:s,addStorageZone:c,updateStorageZone:u,deleteStorageZone:h}=Ji(),[p,v]=L.useState({name:"",description:""}),[g,_]=L.useState({name:"",abbreviation:"",isDefault:!1}),[b,E]=L.useState({name:"",description:""}),[S,T]=L.useState(null),[O,k]=L.useState(null),D=K=>{K.preventDefault(),p.name.trim()&&(t(p),v({name:"",description:""}))},z=K=>{K.preventDefault(),S&&S.name.trim()&&(r(S.id,{name:S.name,description:S.description}),T(null))},F=K=>{K.preventDefault(),g.name.trim()&&g.abbreviation.trim()&&(a(g),_({name:"",abbreviation:"",isDefault:!1}))},q=K=>{window.confirm("tes-vous sr de vouloir supprimer cette catgorie ?")&&n(K)},B=K=>{window.confirm("tes-vous sr de vouloir supprimer cette unit ?")&&o(K)},ee=K=>{K.preventDefault(),b.name.trim()&&(c(b),E({name:"",description:""}))},W=K=>{K.preventDefault(),O&&O.name.trim()&&(u(O.id,{name:O.name,description:O.description}),k(null))},U=K=>{window.confirm("tes-vous sr de vouloir supprimer cette zone ?")&&h(K)};return y.jsxs("div",{className:"settings-page",children:[y.jsx("h1",{children:"Paramtres"}),y.jsxs("div",{className:"settings-section",children:[y.jsx("h2",{children:"Gestion des Catgories"}),y.jsx("form",{onSubmit:D,className:"add-form",children:y.jsxs("div",{className:"form-row",children:[y.jsx("input",{type:"text",placeholder:"Nom de la catgorie",value:p.name,onChange:K=>v({...p,name:K.target.value}),className:"form-input"}),y.jsx("input",{type:"text",placeholder:"Description (optionnel)",value:p.description,onChange:K=>v({...p,description:K.target.value}),className:"form-input"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),y.jsx("div",{className:"items-list",children:e.length===0?y.jsx("p",{className:"no-data",children:"Aucune catgorie"}):y.jsxs("table",{className:"settings-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nom"}),y.jsx("th",{children:"Description"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:e.map(K=>y.jsx("tr",{children:(S==null?void 0:S.id)===K.id?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:S.name,onChange:oe=>T({...S,name:oe.target.value}),className:"form-input"})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:S.description||"",onChange:oe=>T({...S,description:oe.target.value}),className:"form-input"})}),y.jsxs("td",{children:[y.jsx("button",{onClick:z,className:"btn-icon btn-edit",title:"Enregistrer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})}),y.jsx("button",{onClick:()=>T(null),className:"btn-icon btn-gray",title:"Annuler",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("td",{children:y.jsx("strong",{children:K.name})}),y.jsx("td",{children:K.description||"-"}),y.jsxs("td",{children:[y.jsx("button",{onClick:()=>T(K),className:"btn-icon btn-edit",title:"Modifier",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M12 20h9"}),y.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),y.jsx("button",{onClick:()=>q(K.id),className:"btn-icon btn-delete",title:"Supprimer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})]})},K.id))})]})})]}),y.jsxs("div",{className:"settings-section",children:[y.jsx("h2",{children:"Gestion des Units"}),y.jsx("p",{className:"section-description",children:"Les units permettent de dfinir comment mesurer vos stocks (pices, kg, L, etc.)"}),y.jsx("form",{onSubmit:F,className:"add-form",children:y.jsxs("div",{className:"form-row",children:[y.jsx("input",{type:"text",placeholder:"Nom de l'unit (ex: Kilogramme)",value:g.name,onChange:K=>_({...g,name:K.target.value}),className:"form-input"}),y.jsx("input",{type:"text",placeholder:"Abrviation (ex: kg)",value:g.abbreviation,onChange:K=>_({...g,abbreviation:K.target.value}),className:"form-input",style:{maxWidth:"150px"}}),y.jsxs("label",{className:"checkbox-label",children:[y.jsx("input",{type:"checkbox",checked:g.isDefault,onChange:K=>_({...g,isDefault:K.target.checked})}),"Par dfaut"]}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),y.jsx("div",{className:"items-list",children:i.length===0?y.jsx("p",{className:"no-data",children:"Aucune unit"}):y.jsxs("table",{className:"settings-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nom"}),y.jsx("th",{children:"Abrviation"}),y.jsx("th",{children:"Par dfaut"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:i.map(K=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("strong",{children:K.name})}),y.jsx("td",{children:K.abbreviation}),y.jsx("td",{children:K.isDefault?"":"-"}),y.jsx("td",{children:y.jsx("button",{onClick:()=>B(K.id),className:"btn-icon btn-delete",title:"Supprimer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})})]},K.id))})]})})]}),y.jsxs("div",{className:"settings-section",children:[y.jsx("h2",{children:"Gestion des Zones de Stockage"}),y.jsx("p",{className:"section-description",children:"Les zones de stockage permettent d'organiser vos produits par emplacement physique"}),y.jsx("form",{onSubmit:ee,className:"add-form",children:y.jsxs("div",{className:"form-row",children:[y.jsx("input",{type:"text",placeholder:"Nom de la zone (ex: Zone A)",value:b.name,onChange:K=>E({...b,name:K.target.value}),className:"form-input"}),y.jsx("input",{type:"text",placeholder:"Description (optionnel)",value:b.description,onChange:K=>E({...b,description:K.target.value}),className:"form-input"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),y.jsx("div",{className:"items-list",children:s.length===0?y.jsx("p",{className:"no-data",children:"Aucune zone de stockage"}):y.jsxs("table",{className:"settings-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Nom"}),y.jsx("th",{children:"Description"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:s.map(K=>y.jsx("tr",{children:(O==null?void 0:O.id)===K.id?y.jsxs(y.Fragment,{children:[y.jsx("td",{children:y.jsx("input",{type:"text",value:O.name,onChange:oe=>k({...O,name:oe.target.value}),className:"form-input"})}),y.jsx("td",{children:y.jsx("input",{type:"text",value:O.description||"",onChange:oe=>k({...O,description:oe.target.value}),className:"form-input"})}),y.jsxs("td",{children:[y.jsx("button",{onClick:W,className:"btn-icon btn-edit",title:"Enregistrer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})}),y.jsx("button",{onClick:()=>k(null),className:"btn-icon btn-gray",title:"Annuler",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("td",{children:y.jsx("strong",{children:K.name})}),y.jsx("td",{children:K.description||"-"}),y.jsxs("td",{children:[y.jsx("button",{onClick:()=>k(K),className:"btn-icon btn-edit",title:"Modifier",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M12 20h9"}),y.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),y.jsx("button",{onClick:()=>U(K.id),className:"btn-icon btn-delete",title:"Supprimer",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})]})},K.id))})]})})]})]})},rfe=()=>{const{exitRequests:e,updateExitRequest:t,currentUser:r,getProductById:n}=Ji(),[i,a]=L.useState("pending"),[o,s]=L.useState(null),[c,u]=L.useState(null),[h,p]=L.useState(""),v=i?e.filter(T=>T.status===i):e,g=L.useMemo(()=>{const T=new Map;return v.forEach(O=>{const k=`${O.requestedBy}-${new Date(O.requestedAt).toISOString().slice(0,16)}`;T.has(k)||T.set(k,[]),T.get(k).push(O)}),T},[v]),_=L.useMemo(()=>Array.from(g.entries()).sort((T,O)=>{const k=new Date(T[1][0].requestedAt).getTime();return new Date(O[1][0].requestedAt).getTime()-k}),[g]),b=L.useCallback(async T=>{const O=g.get(T);if(!O)return;const k=O.filter(D=>D.status==="pending");if(k.length===0){alert("Aucune demande en attente dans ce panier");return}if(window.confirm(`Approuver ${k.length} demande(s) de ce panier ?`))try{for(const D of k)await t(D.id,{status:"approved",approvedBy:r==null?void 0:r.id,approvedAt:new Date});s(null)}catch(D){console.error("Erreur lors de l'approbation:",D),alert("Erreur lors de l'approbation du panier")}},[g,t,r]),E=L.useCallback(async T=>{if(!h.trim()){alert("Veuillez indiquer la raison du refus");return}const O=g.get(T);if(!O)return;const k=O.filter(D=>D.status==="pending");if(k.length===0){alert("Aucune demande en attente dans ce panier");return}try{for(const D of k)await t(D.id,{status:"rejected",approvedBy:r==null?void 0:r.id,approvedAt:new Date,notes:h});u(null),s(null),p("")}catch(D){console.error("Erreur lors du refus:",D),alert("Erreur lors du refus du panier")}},[g,h,t,r]),S=L.useCallback(T=>{const O=T.map(k=>k.status);return O.every(k=>k==="approved")?"approved":O.every(k=>k==="rejected")?"rejected":O.every(k=>k==="pending")?"pending":"mixed"},[]);return y.jsxs("div",{className:"requests-page",children:[y.jsx("h1",{children:"Gestion des Demandes"}),y.jsx("div",{className:"filters",children:y.jsxs("select",{value:i,onChange:T=>a(T.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les statuts"}),y.jsx("option",{value:"pending",children:"En attente"}),y.jsx("option",{value:"approved",children:"Approuves"}),y.jsx("option",{value:"rejected",children:"Refuses"})]})}),_.length===0?y.jsx("p",{className:"no-data",children:"Aucune demande trouve"}):y.jsx("div",{className:"products-table-container",children:y.jsxs("table",{className:"products-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date de la demande"}),y.jsx("th",{children:"Demand par"}),y.jsx("th",{children:"Nombre d'articles"}),y.jsx("th",{children:"Quantit totale"}),y.jsx("th",{children:"Statut"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:_.map(([T,O])=>{const k=S(O),D=O[0],z=O.some(q=>q.status==="pending"),F=O.reduce((q,B)=>q+B.quantity,0);return y.jsxs(Vu.Fragment,{children:[y.jsxs("tr",{children:[y.jsxs("td",{children:[new Date(D.requestedAt).toLocaleDateString("fr-FR")," "," ",new Date(D.requestedAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),y.jsx("td",{children:D.requestedBy}),y.jsxs("td",{children:[O.length," article",O.length>1?"s":""]}),y.jsx("td",{children:F}),y.jsx("td",{children:y.jsxs("span",{className:`stock-value stock-${k}`,children:[k==="pending"&&"En attente",k==="approved"&&"Approuv",k==="rejected"&&"Refus",k==="mixed"&&"Mixte"]})}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{onClick:()=>s(o===T?null:T),className:"btn-icon btn-edit",title:"Voir dtails",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),z&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>b(T),className:"btn-icon btn-approve",title:"Approuver le panier",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})}),y.jsx("button",{onClick:()=>u(T),className:"btn-icon btn-reject",title:"Refuser le panier",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})})]}),c===T&&y.jsx("tr",{children:y.jsx("td",{colSpan:6,style:{padding:"1rem",background:"var(--card-bg)"},children:y.jsxs("div",{className:"reject-form",style:{margin:0},children:[y.jsx("textarea",{placeholder:"Raison du refus...",value:h,onChange:q=>p(q.target.value),rows:3,style:{width:"100%",marginBottom:"0.5rem"}}),y.jsxs("div",{className:"reject-actions",style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[y.jsx("button",{onClick:()=>{u(null),p("")},className:"btn btn-secondary",children:"Annuler"}),y.jsx("button",{onClick:()=>E(T),className:"btn btn-danger",children:"Confirmer le Refus"})]})]})})})]},T)})})]})}),o&&y.jsx("div",{className:"modal-overlay",onClick:()=>s(null),children:y.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),style:{maxWidth:"900px"},children:[y.jsx("h2",{children:"Dtails du Panier"}),y.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["Demand par ",g.get(o)[0].requestedBy," le ",new Date(g.get(o)[0].requestedAt).toLocaleString("fr-FR")]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"500px",overflowY:"auto"},children:g.get(o).map(T=>{const O=n(T.productId),k=O&&O.currentStock<T.quantity;return y.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"var(--card-bg)",borderRadius:"8px",border:k?"2px solid #f59e0b":"1px solid var(--border-color)",alignItems:"center"},children:[O&&O.photo?y.jsx("img",{src:O.photo,alt:T.productDesignation,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}}):y.jsx("div",{style:{width:"100px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-secondary)",borderRadius:"8px",fontSize:"2.5rem"},children:""}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.2rem"},children:T.productDesignation}),y.jsx("p",{style:{margin:"0.25rem 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:T.productReference}),y.jsxs("p",{style:{margin:"0.25rem 0",fontSize:"1rem"},children:[y.jsx("strong",{children:"Quantit demande:"})," ",T.quantity," ",O==null?void 0:O.unit]}),O&&y.jsxs("p",{style:{margin:"0.25rem 0",fontSize:"0.95rem",color:k?"#f59e0b":"var(--text-color)"},children:[y.jsx("strong",{children:"Stock actuel:"})," ",O.currentStock," ",O.unit,k&&"  Stock insuffisant"]}),T.status==="rejected"&&T.notes&&y.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#ef4444",fontSize:"0.9rem"},children:[y.jsx("strong",{children:"Raison du refus:"})," ",T.notes]})]})]},T.id)})}),y.jsx("div",{className:"modal-actions",style:{marginTop:"1.5rem"},children:y.jsx("button",{onClick:()=>s(null),className:"btn btn-secondary",children:"Fermer"})})]})})]})},nfe=()=>{const{orders:e,updateOrder:t,updateProduct:r,getProductById:n}=Ji(),{addNotification:i}=px(),[a,o]=L.useState("pending"),s=L.useMemo(()=>[...a?e.filter(g=>g.status===a):e].sort((g,_)=>new Date(_.ordered_at).getTime()-new Date(g.ordered_at).getTime()),[e,a]),c=L.useCallback(async v=>{const g=e.find(b=>b.id===v);if(!g)return;const _=n(g.product_id);if(!_){alert("Produit introuvable");return}try{const b=_.currentStock+g.quantity;await r(_.id,{currentStock:b}),await t(v,{status:"received",received_at:new Date}),i({type:"success",title:"Commande rceptionne",message:`${g.quantity} ${_.unit} de ${_.designation} ajout(s) au stock`,duration:5e3})}catch(b){console.error("Erreur lors de la rception:",b),i({type:"error",title:"Erreur",message:"Erreur lors de la rception de la commande",duration:5e3})}},[e,n,r,t,i]),u=L.useCallback(async v=>{if(window.confirm("tes-vous sr de vouloir annuler cette commande ?"))try{await t(v,{status:"cancelled"}),i({type:"success",title:"Commande annule",message:"La commande a t annule",duration:3e3})}catch(g){console.error("Erreur lors de l'annulation:",g),i({type:"error",title:"Erreur",message:"Erreur lors de l'annulation de la commande",duration:5e3})}},[t,i]),h=L.useCallback(v=>{switch(v){case"pending":return"status-badge medium";case"received":return"status-badge normal";case"cancelled":return"status-badge critical";default:return"status-badge"}},[]),p=L.useCallback(v=>{switch(v){case"pending":return"En attente";case"received":return"Reue";case"cancelled":return"Annule";default:return v}},[]);return y.jsxs("div",{className:"orders-page",children:[y.jsx("h1",{children:"Commandes"}),y.jsx("div",{className:"filters",children:y.jsxs("select",{value:a,onChange:v=>o(v.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les statuts"}),y.jsx("option",{value:"pending",children:"En attente"}),y.jsx("option",{value:"received",children:"Reues"}),y.jsx("option",{value:"cancelled",children:"Annules"})]})}),s.length===0?y.jsx("p",{className:"no-data",children:"Aucune commande trouve"}):y.jsx("div",{className:"products-table-container",children:y.jsxs("table",{className:"products-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Image"}),y.jsx("th",{children:"Rfrence"}),y.jsx("th",{children:"Dsignation"}),y.jsx("th",{children:"Quantit"}),y.jsx("th",{children:"Command par"}),y.jsx("th",{children:"Date de commande"}),y.jsx("th",{children:"Statut"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:s.map(v=>{const g=n(v.product_id);return y.jsxs("tr",{children:[y.jsx("td",{children:g&&g.photo?y.jsx("img",{src:g.photo,alt:v.product_designation,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}}):y.jsx("div",{style:{width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-secondary)",borderRadius:"4px",fontSize:"1.5rem"},children:""})}),y.jsx("td",{style:{color:"var(--primary-color)",fontWeight:"bold"},children:v.product_reference}),y.jsx("td",{children:v.product_designation}),y.jsxs("td",{children:[v.quantity," ",g==null?void 0:g.unit]}),y.jsx("td",{children:v.ordered_by_name}),y.jsxs("td",{children:[new Date(v.ordered_at).toLocaleDateString("fr-FR")," "," ",new Date(v.ordered_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),v.status==="received"&&v.received_at&&y.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:["Reue: ",new Date(v.received_at).toLocaleDateString("fr-FR")," "," ",new Date(v.received_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),y.jsx("td",{children:y.jsx("span",{className:h(v.status),children:p(v.status)})}),y.jsx("td",{children:v.status==="pending"&&y.jsxs("div",{className:"actions",children:[y.jsx("button",{onClick:()=>c(v.id),className:"btn-icon btn-approve",title:"Rceptionner",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})}),y.jsx("button",{onClick:()=>u(v.id),className:"btn-icon btn-reject",title:"Annuler",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]},v.id)})})]})})]})};function Sj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Sj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Sj(e))&&(n&&(n+=" "),n+=t);return n}var Mx={},Aj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Aj);var vE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vE);var Fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Fx);var Bx={},Cj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Cj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cj,r=Fx;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",u="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const p=i[s];u?p==="\\"&&s+1<o?(s++,c+=i[s]):p===u?u="":c+=p:h?p==='"'||p==="'"?u=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,s++}return c&&a.push(c),a}e.toPath=n})(Bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj,r=vE,n=Fx,i=Bx;function a(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const h=s[c];return h===void 0?r.isDeepKey(c)?a(s,i.toPath(c),u):u:h}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const h=s[c];return h===void 0?u:h}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const h=s[c];return h===void 0?u:h}}}function o(s,c,u){if(c.length===0)return u;let h=s;for(let p=0;p<c.length;p++){if(h==null||t.isUnsafeProperty(c[p]))return u;h=h[c[p]]}return h===void 0?u:h}e.get=a})(Mx);var ife=Mx.get;const fh=bl(ife);var Tj={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE=Symbol.for("react.transitional.element"),yE=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),zx=Symbol.for("react.consumer"),Hx=Symbol.for("react.context"),Vx=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),afe=Symbol.for("react.view_transition"),ofe=Symbol.for("react.client.reference");function qs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xE:switch(e=e.type,e){case Ux:case Wx:case $x:case qx:case Gx:case afe:return e;default:switch(e=e&&e.$$typeof,e){case Hx:case Vx:case Xx:case Kx:return e;case zx:return e;default:return t}}case yE:return t}}}On.ContextConsumer=zx;On.ContextProvider=Hx;On.Element=xE;On.ForwardRef=Vx;On.Fragment=Ux;On.Lazy=Xx;On.Memo=Kx;On.Portal=yE;On.Profiler=Wx;On.StrictMode=$x;On.Suspense=qx;On.SuspenseList=Gx;On.isContextConsumer=function(e){return qs(e)===zx};On.isContextProvider=function(e){return qs(e)===Hx};On.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xE};On.isForwardRef=function(e){return qs(e)===Vx};On.isFragment=function(e){return qs(e)===Ux};On.isLazy=function(e){return qs(e)===Xx};On.isMemo=function(e){return qs(e)===Kx};On.isPortal=function(e){return qs(e)===yE};On.isProfiler=function(e){return qs(e)===Wx};On.isStrictMode=function(e){return qs(e)===$x};On.isSuspense=function(e){return qs(e)===qx};On.isSuspenseList=function(e){return qs(e)===Gx};On.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ux||e===Wx||e===$x||e===qx||e===Gx||typeof e=="object"&&e!==null&&(e.$$typeof===Xx||e.$$typeof===Kx||e.$$typeof===Hx||e.$$typeof===zx||e.$$typeof===Vx||e.$$typeof===ofe||e.getModuleId!==void 0)};On.typeOf=qs;Tj.exports=On;var sfe=Tj.exports,ua=e=>e===0?0:e>0?1:-1,hs=e=>typeof e=="number"&&e!=+e,Wf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,pr=e=>(typeof e=="number"||e instanceof Number)&&!hs(e),Vl=e=>pr(e)||typeof e=="string",lfe=0,_p=e=>{var t=++lfe;return"".concat(e||"").concat(t)},Xa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pr(t)&&typeof t!="string")return n;var a;if(Wf(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return hs(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Oj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function di(e,t,r){return pr(e)&&pr(t)?e+r*(t-e):t}function kj(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):fh(n,t))===r)}var Yn=e=>e===null||typeof e>"u",Qp=e=>Yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cfe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wE(e){if(typeof e!="string")return!1;var t=cfe;return t.includes(e)}var ufe=["viewBox","children"],fO=["points","pathLength"],hb={svg:ufe,polygon:fO,polyline:fO},bE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{wE(i)&&(n[i]=a=>r[i](r,a))}),n},ffe=(e,t,r)=>n=>(e(t,r,n),null),eg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];wE(i)&&typeof a=="function"&&(n||(n={}),n[i]=ffe(a,t,r))}),n},hfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Nj(e){if(typeof e!="string")return!1;var t=hfe;return t.includes(e)}function Kl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Nj(n)});return Object.fromEntries(t)}var hO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dO=null,db=null,Pj=e=>{if(e===dO&&Array.isArray(db))return db;var t=[];return L.Children.forEach(e,r=>{Yn(r)||(sfe.isFragment(r)?t=t.concat(Pj(r.props.children)):t.push(r))}),db=t,dO=e,t};function _E(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>hO(i)):n=[hO(t)],Pj(e).forEach(i=>{var a=fh(i,"type.displayName")||fh(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var Ij=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,dfe=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(hb==null?void 0:hb[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&a.includes(t)||Nj(t)),c=!!r&&wE(t);return o||s||c},ii=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(L.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;dfe((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},pfe=["children","width","height","viewBox","className","style","title","desc"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function gfe(e,t){if(e==null)return{};var r,n,i=mfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EE=L.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:c,desc:u}=e,h=gfe(e,pfe),p=a||{width:n,height:i,x:0,y:0},v=rn("recharts-surface",o);return L.createElement("svg",h_({},ii(h,!0,"svg"),{className:v,width:n,height:i,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),L.createElement("title",null,c),L.createElement("desc",null,u),r)}),vfe=["children","className"];function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(null,arguments)}function xfe(e,t){if(e==null)return{};var r,n,i=yfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ia=L.forwardRef((e,t)=>{var{children:r,className:n}=e,i=xfe(e,vfe),a=rn("recharts-layer",n);return L.createElement("g",d_({className:a},ii(i,!0),{ref:t}),r)}),Rj=L.createContext(null),wfe=()=>L.useContext(Rj);function In(e){return function(){return e}}const Lj=Math.cos,av=Math.sin,Sl=Math.sqrt,ov=Math.PI,Yx=2*ov,p_=Math.PI,g_=2*p_,Pf=1e-6,bfe=g_-Pf;function Dj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _fe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Dj;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Efe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Dj:_fe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,u=i-r,h=o-t,p=s-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Pf)if(!(Math.abs(p*c-u*h)>Pf)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,_=i-s,b=c*c+u*u,E=g*g+_*_,S=Math.sqrt(b),T=Math.sqrt(v),O=a*Math.tan((p_-Math.acos((b+v-E)/(2*S*T)))/2),k=O/T,D=O/S;Math.abs(k-1)>Pf&&this._append`L${t+k*h},${r+k*p}`,this._append`A${a},${a},0,0,${+(p*g>h*_)},${this._x1=t+D*c},${this._y1=r+D*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=t+s,h=r+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Pf||Math.abs(this._y1-h)>Pf)&&this._append`L${u},${h}`,n&&(v<0&&(v=v%g_+g_),v>bfe?this._append`A${n},${n},0,1,${p},${t-s},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=h}`:v>Pf&&this._append`A${n},${n},0,${+(v>=p_)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function SE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Efe(t)}function AE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jj(e){this._context=e}jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zx(e){return new jj(e)}function Mj(e){return e[0]}function Fj(e){return e[1]}function Bj(e,t){var r=In(!0),n=null,i=Zx,a=null,o=SE(s);e=typeof e=="function"?e:e===void 0?Mj:In(e),t=typeof t=="function"?t:t===void 0?Fj:In(t);function s(c){var u,h=(c=AE(c)).length,p,v=!1,g;for(n==null&&(a=i(g=o())),u=0;u<=h;++u)!(u<h&&r(p=c[u],u,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(p,u,c),+t(p,u,c));if(g)return a=null,g+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:In(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:In(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:In(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function Sm(e,t,r){var n=null,i=In(!0),a=null,o=Zx,s=null,c=SE(u);e=typeof e=="function"?e:e===void 0?Mj:In(+e),t=typeof t=="function"?t:In(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Fj:In(+r);function u(p){var v,g,_,b=(p=AE(p)).length,E,S=!1,T,O=new Array(b),k=new Array(b);for(a==null&&(s=o(T=c())),v=0;v<=b;++v){if(!(v<b&&i(E=p[v],v,p))===S)if(S=!S)g=v,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=v-1;_>=g;--_)s.point(O[_],k[_]);s.lineEnd(),s.areaEnd()}S&&(O[v]=+e(E,v,p),k[v]=+t(E,v,p),s.point(n?+n(E,v,p):O[v],r?+r(E,v,p):k[v]))}if(T)return s=null,T+""||null}function h(){return Bj().defined(i).curve(o).context(a)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:In(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:In(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:In(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:In(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:In(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:In(+p),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:In(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,a!=null&&(s=o(a)),u):o},u.context=function(p){return arguments.length?(p==null?a=s=null:s=o(a=p),u):a},u}class Uj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Sfe(e){return new Uj(e,!0)}function Afe(e){return new Uj(e,!1)}const CE={draw(e,t){const r=Sl(t/ov);e.moveTo(r,0),e.arc(0,0,r,0,Yx)}},Cfe={draw(e,t){const r=Sl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$j=Sl(1/3),Tfe=$j*2,Ofe={draw(e,t){const r=Sl(t/Tfe),n=r*$j;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kfe={draw(e,t){const r=Sl(t),n=-r/2;e.rect(n,n,r,r)}},Nfe=.8908130915292852,Wj=av(ov/10)/av(7*ov/10),Pfe=av(Yx/10)*Wj,Ife=-Lj(Yx/10)*Wj,Rfe={draw(e,t){const r=Sl(t*Nfe),n=Pfe*r,i=Ife*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Yx*a/5,s=Lj(o),c=av(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*i,c*n+s*i)}e.closePath()}},pb=Sl(3),Lfe={draw(e,t){const r=-Sl(t/(pb*3));e.moveTo(0,r*2),e.lineTo(-pb*r,-r),e.lineTo(pb*r,-r),e.closePath()}},Cs=-.5,Ts=Sl(3)/2,m_=1/Sl(12),Dfe=(m_/2+1)*3,jfe={draw(e,t){const r=Sl(t/Dfe),n=r/2,i=r*m_,a=n,o=r*m_+r,s=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Cs*n-Ts*i,Ts*n+Cs*i),e.lineTo(Cs*a-Ts*o,Ts*a+Cs*o),e.lineTo(Cs*s-Ts*c,Ts*s+Cs*c),e.lineTo(Cs*n+Ts*i,Cs*i-Ts*n),e.lineTo(Cs*a+Ts*o,Cs*o-Ts*a),e.lineTo(Cs*s+Ts*c,Cs*c-Ts*s),e.closePath()}};function Mfe(e,t){let r=null,n=SE(i);e=typeof e=="function"?e:In(e||CE),t=typeof t=="function"?t:In(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:In(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:In(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function sv(){}function lv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zj(e){this._context=e}zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ffe(e){return new zj(e)}function Hj(e){this._context=e}Hj.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bfe(e){return new Hj(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ufe(e){return new Vj(e)}function qj(e){this._context=e}qj.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $fe(e){return new qj(e)}function pO(e){return e<0?-1:1}function gO(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(pO(a)+pO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function mO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gb(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function cv(e){this._context=e}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gb(this,this._t0,mO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gb(this,mO(this,r=gO(this,e,t)),r);break;default:gb(this,this._t0,r=gO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Gj(e){this._context=new Kj(e)}(Gj.prototype=Object.create(cv.prototype)).point=function(e,t){cv.prototype.point.call(this,t,e)};function Kj(e){this._context=e}Kj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Wfe(e){return new cv(e)}function zfe(e){return new Gj(e)}function Xj(e){this._context=e}Xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vO(e),i=vO(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vO(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Hfe(e){return new Xj(e)}function Jx(e,t){this._context=e,this._t=t}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Vfe(e){return new Jx(e,.5)}function qfe(e){return new Jx(e,0)}function Gfe(e){return new Jx(e,1)}function Y0(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function v_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Kfe(e,t){return e[t]}function Xfe(e){const t=[];return t.key=e,t}function Yfe(){var e=In([]),t=v_,r=Y0,n=Kfe;function i(a){var o=Array.from(e.apply(this,arguments),Xfe),s,c=o.length,u=-1,h;for(const p of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(p,o[s].key,u,a)]).data=p;for(s=0,h=AE(t(o));s<c;++s)o[h[s]].index=s;return r(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:In(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:In(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?v_:typeof a=="function"?a:In(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Y0,i):r},i}function Zfe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Y0(e,t)}}function Jfe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Y0(e,t)}}function Qfe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var h=e[t[s]],p=h[n][1]||0,v=h[n-1][1]||0,g=(p-v)/2,_=0;_<s;++_){var b=e[t[_]],E=b[n][1]||0,S=b[n-1][1]||0;g+=E-S}c+=p,u+=g*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Y0(e,t)}}var ehe=["type","size","sizeType"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(null,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){the(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function the(e,t,r){return(t=rhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rhe(e){var t=nhe(e,"string");return typeof t=="symbol"?t:t+""}function nhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ihe(e,t){if(e==null)return{};var r,n,i=ahe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ahe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yj={symbolCircle:CE,symbolCross:Cfe,symbolDiamond:Ofe,symbolSquare:kfe,symbolStar:Rfe,symbolTriangle:Lfe,symbolWye:jfe},ohe=Math.PI/180,she=e=>{var t="symbol".concat(Qp(e));return Yj[t]||CE},lhe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*ohe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},che=(e,t)=>{Yj["symbol".concat(Qp(e))]=t},TE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=ihe(e,ehe),a=yO(yO({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var v=she(o),g=Mfe().type(v).size(lhe(r,n,o));return g()},{className:c,cx:u,cy:h}=a,p=ii(a,!0);return u===+u&&h===+h&&r===+r?L.createElement("path",x_({},p,{className:rn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:s()})):null};TE.registerSymbol=che;function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(null,arguments)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){OE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OE(e,t,r){return(t=fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fhe(e){var t=hhe(e,"string");return typeof t=="symbol"?t:t+""}function hhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Os=32;class kE extends L.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=Os/2,a=Os/6,o=Os/3,s=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Os,y2:i,className:"recharts-legend-icon"});if(c==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Os,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return L.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Os/8,"h").concat(Os,"v").concat(Os*3/4,"h").concat(-Os,"z"),className:"recharts-legend-icon"});if(L.isValidElement(t.legendIcon)){var u=uhe({},t);return delete u.legendIcon,L.cloneElement(t.legendIcon,u)}return L.createElement(TE,{fill:s,cx:i,cy:i,size:Os,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:Os,height:Os},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var v=h.formatter||i,g=rn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?a:h.color,b=v?v(h.value,h,p):h.value;return L.createElement("li",y_({className:g,style:c,key:"legend-item-".concat(p)},eg(this.props,h,p)),L.createElement(EE,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(h,o)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}OE(kE,"displayName","Legend");OE(kE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Zj={},Jj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(Jj);var NE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(NE);var Qj={},Qx={},eM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(eM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Qx);var tM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(tM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qx,r=tM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Qj);var rM={},nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mx;function r(n){return function(i){return t.get(i,n)}}e.property=r})(nM);var iM={},mb={},vb={},PE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(PE);var IE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(IE);var RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(RE);var bO;function dhe(){return bO||(bO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LE(),r=PE,n=IE,i=RE;function a(p,v,g){return typeof g!="function"?t.isMatch(p,v):o(p,v,function _(b,E,S,T,O,k){const D=g(b,E,S,T,O,k);return D!==void 0?!!D:o(b,E,_,k)},new Map)}function o(p,v,g,_){if(v===p)return!0;switch(typeof v){case"object":return s(p,v,g,_);case"function":return Object.keys(v).length>0?o(p,{...v},g,_):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function s(p,v,g,_){if(v==null)return!0;if(Array.isArray(v))return u(p,v,g,_);if(v instanceof Map)return c(p,v,g,_);if(v instanceof Set)return h(p,v,g,_);const b=Object.keys(v);if(p==null)return b.length===0;if(b.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let E=0;E<b.length;E++){const S=b[E];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!g(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,g,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,E]of v.entries()){const S=p.get(b);if(g(S,E,b,p,v,_)===!1)return!1}return!0}function u(p,v,g,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let E=0;E<v.length;E++){const S=v[E];let T=!1;for(let O=0;O<p.length;O++){if(b.has(O))continue;const k=p[O];let D=!1;if(g(k,S,E,p,v,_)&&(D=!0),D){b.add(O),T=!0;break}}if(!T)return!1}return!0}function h(p,v,g,_){return v.size===0?!0:p instanceof Set?u([...p],[...v],g,_):!1}e.isMatchWith=a,e.isSetMatch=h}(vb)),vb}var _O;function LE(){return _O||(_O=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dhe();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(mb)),mb}var aM={},DE={},oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(oM);var jE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jE);var ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",_="[object Error]",b="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",k="[object BigUint64Array]",D="[object Int8Array]",z="[object Int16Array]",F="[object Int32Array]",q="[object BigInt64Array]",B="[object Float32Array]",ee="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=b,e.dateTag=s,e.errorTag=_,e.float32ArrayTag=B,e.float64ArrayTag=ee,e.functionTag=p,e.int16ArrayTag=z,e.int32ArrayTag=F,e.int8ArrayTag=D,e.mapTag=c,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=T,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=S})(ME);var sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM,r=jE,n=ME,i=IE,a=sM;function o(h,p){return s(h,void 0,h,new Map,p)}function s(h,p,v,g=new Map,_=void 0){const b=_==null?void 0:_(h,p,v,g);if(b!==void 0)return b;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const E=new Array(h.length);g.set(h,E);for(let S=0;S<h.length;S++)E[S]=s(h[S],S,v,g,_);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;g.set(h,E);for(const[S,T]of h)E.set(S,s(T,S,v,g,_));return E}if(h instanceof Set){const E=new Set;g.set(h,E);for(const S of h)E.add(s(S,void 0,v,g,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,E);for(let S=0;S<h.length;S++)E[S]=s(h[S],S,v,g,_);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,E),c(E,h,v,g,_),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return g.set(h,E),c(E,h,v,g,_),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return g.set(h,E),c(E,h,v,g,_),E}if(h instanceof Error){const E=new h.constructor;return g.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,v,g,_),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return g.set(h,E),c(E,h,v,g,_),E}if(h instanceof Number){const E=new Number(h.valueOf());return g.set(h,E),c(E,h,v,g,_),E}if(h instanceof String){const E=new String(h.valueOf());return g.set(h,E),c(E,h,v,g,_),E}if(typeof h=="object"&&u(h)){const E=Object.create(Object.getPrototypeOf(h));return g.set(h,E),c(E,h,v,g,_),E}return h}function c(h,p,v=h,g,_){const b=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<b.length;E++){const S=b[E],T=Object.getOwnPropertyDescriptor(h,S);(T==null||T.writable)&&(h[S]=s(p[S],S,v,g,_))}}function u(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(aM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LE(),r=aM;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(iM);var lM={},cM={},uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE,r=ME;function n(i,a){return t.cloneDeepWith(i,(o,s,c,u)=>{const h=a==null?void 0:a(o,s,c,u);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(uM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(cM);var fM={},FE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(FE);var hM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(hM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE,r=FE,n=hM,i=Bx;function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=i.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let h=0;h<c.length;h++){const p=c[h];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=a})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LE(),r=Fx,n=cM,i=Mx,a=fM;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const h=i.get(u,s);return h===void 0?a.has(u,s):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=o})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE,r=nM,n=iM,i=lM;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(rM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jj,r=NE,n=Qj,i=rM;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(Zj);var phe=Zj.uniqBy;const EO=bl(phe);function dM(e,t,r){return t===!0?EO(e,r):typeof t=="function"?EO(e,t):e}var pM={exports:{}},gM={},mM={exports:{}},vM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=L;function ghe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mhe=typeof Object.is=="function"?Object.is:ghe,vhe=Z0.useState,xhe=Z0.useEffect,yhe=Z0.useLayoutEffect,whe=Z0.useDebugValue;function bhe(e,t){var r=t(),n=vhe({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return yhe(function(){i.value=r,i.getSnapshot=t,xb(i)&&a({inst:i})},[e,r,t]),xhe(function(){return xb(i)&&a({inst:i}),e(function(){xb(i)&&a({inst:i})})},[e]),whe(r),r}function xb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mhe(e,r)}catch{return!0}}function _he(e,t){return t()}var Ehe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_he:bhe;vM.useSyncExternalStore=Z0.useSyncExternalStore!==void 0?Z0.useSyncExternalStore:Ehe;mM.exports=vM;var She=mM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=L,Ahe=She;function Che(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var The=typeof Object.is=="function"?Object.is:Che,Ohe=Ahe.useSyncExternalStore,khe=ey.useRef,Nhe=ey.useEffect,Phe=ey.useMemo,Ihe=ey.useDebugValue;gM.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=khe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Phe(function(){function c(g){if(!u){if(u=!0,h=g,g=n(g),i!==void 0&&o.hasValue){var _=o.value;if(i(_,g))return p=_}return p=g}if(_=p,The(h,g))return _;var b=n(g);return i!==void 0&&i(_,b)?(h=g,_):(h=g,p=b)}var u=!1,h,p,v=r===void 0?null:r;return[function(){return c(t())},v===null?void 0:function(){return c(v())}]},[t,r,n,i]);var s=Ohe(e,a[0],a[1]);return Nhe(function(){o.hasValue=!0,o.value=s},[s]),Ihe(s),s};pM.exports=gM;var Rhe=pM.exports,BE=L.createContext(null),Lhe=e=>e,ai=()=>{var e=L.useContext(BE);return e?e.store.dispatch:Lhe},i2=()=>{},Dhe=()=>i2,jhe=(e,t)=>e===t;function ar(e){var t=L.useContext(BE);return Rhe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dhe,t?t.store.getState:i2,t?t.store.getState:i2,t?e:i2,jhe)}function Mhe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Fhe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Bhe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var SO=e=>Array.isArray(e)?e:[e];function Uhe(e){const t=Array.isArray(e[0])?e[0]:e;return Bhe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $he(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Whe=class{constructor(e){this.value=e}deref(){return this.value}},zhe=typeof WeakRef<"u"?WeakRef:Whe,Hhe=0,AO=1;function Am(){return{s:Hhe,v:void 0,o:null,p:null}}function xM(e,t={}){let r=Am();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var p;let s=r;const{length:c}=arguments;for(let v=0,g=c;v<g;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let b=s.o;b===null&&(s.o=b=new WeakMap);const E=b.get(_);E===void 0?(s=Am(),b.set(_,s)):s=E}else{let b=s.p;b===null&&(s.p=b=new Map);const E=b.get(_);E===void 0?(s=Am(),b.set(_,s)):s=E}}const u=s;let h;if(s.s===AO)h=s.v;else if(h=e.apply(null,arguments),a++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new zhe(h):h}return u.s=AO,u.v=h,h}return o.clearCache=()=>{r=Am(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Vhe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Mhe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:g=xM,argsMemoizeOptions:_=[]}=h,b=SO(v),E=SO(_),S=Uhe(i),T=p(function(){return a++,u.apply(null,arguments)},...b),O=g(function(){o++;const D=$he(S,arguments);return s=T.apply(null,D),s},...E);return Object.assign(O,{resultFunc:u,memoizedResultFunc:T,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var nt=Vhe(xM),qhe=Object.assign((e,t=nt)=>{Fhe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>qhe}),yM={},wM={},bM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(bM);var _M={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(_M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM,r=_M,n=Bx;function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(g=>String(g));const u=(g,_)=>{let b=g;for(let E=0;E<_.length&&b!=null;++E)b=b[_[E]];return b},h=(g,_)=>_==null||g==null?_:typeof g=="object"&&"key"in g?Object.hasOwn(_,g.key)?_[g.key]:u(_,g.path):typeof g=="function"?g(_):Array.isArray(g)?u(_,g):typeof _=="object"?_[g]:_,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(_=>h(_,g))})).slice().sort((g,_)=>{for(let b=0;b<p.length;b++){const E=t.compareValues(g.criteria[b],_.criteria[b],s[b]);if(E!==0)return E}return 0}).map(g=>g.original)}e.orderBy=i})(wM);var EM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const h=s[u];Array.isArray(h)&&c<a?o(h,c+1):i.push(h)}};return o(r,0),i}e.flatten=t})(EM);var $E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE,r=Qx,n=PE,i=RE;function a(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.eq(c[s],o):!1}e.isIterateeCall=a})($E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wM,r=EM,n=$E;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(yM);var Ghe=yM.sortBy;const ty=bl(Ghe);var SM=e=>e.legend.settings,Khe=e=>e.legend.size,Xhe=e=>e.legend.payload,Yhe=nt([Xhe,SM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ty(n,r):n});function Zhe(){return ar(Yhe)}var Cm=1;function AM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=L.useState({height:0,left:0,top:0,width:0}),n=L.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Cm||Math.abs(o.left-t.left)>Cm||Math.abs(o.top-t.top)>Cm||Math.abs(o.width-t.width)>Cm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ba(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jhe=typeof Symbol=="function"&&Symbol.observable||"@@observable",CO=Jhe,yb=()=>Math.random().toString(36).substring(7).split("").join("."),Qhe={INIT:`@@redux/INIT${yb()}`,REPLACE:`@@redux/REPLACE${yb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yb()}`},uv=Qhe;function WE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CM(e,t,r){if(typeof e!="function")throw new Error(ba(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ba(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ba(1));return r(CM)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((E,S)=>{o.set(S,E)}))}function h(){if(c)throw new Error(ba(3));return i}function p(E){if(typeof E!="function")throw new Error(ba(4));if(c)throw new Error(ba(5));let S=!0;u();const T=s++;return o.set(T,E),function(){if(S){if(c)throw new Error(ba(6));S=!1,u(),o.delete(T),a=null}}}function v(E){if(!WE(E))throw new Error(ba(7));if(typeof E.type>"u")throw new Error(ba(8));if(typeof E.type!="string")throw new Error(ba(17));if(c)throw new Error(ba(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=o).forEach(T=>{T()}),E}function g(E){if(typeof E!="function")throw new Error(ba(10));n=E,v({type:uv.REPLACE})}function _(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(ba(11));function T(){const k=S;k.next&&k.next(h())}return T(),{unsubscribe:E(T)}},[CO](){return this}}}return v({type:uv.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:g,[CO]:_}}function e0e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uv.INIT})>"u")throw new Error(ba(12));if(typeof r(void 0,{type:uv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ba(13))})}function TM(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{e0e(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const u={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],g=o[p],_=v(g,s);if(typeof _>"u")throw s&&s.type,new Error(ba(14));u[p]=_,c=c||_!==g}return c=c||n.length!==Object.keys(o).length,c?u:o}}function fv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function t0e(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(ba(15))};const o={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},s=e.map(c=>c(o));return a=fv(...s)(i.dispatch),{...i,dispatch:a}}}function OM(e){return WE(e)&&"type"in e&&typeof e.type=="string"}var kM=Symbol.for("immer-nothing"),TO=Symbol.for("immer-draftable"),ds=Symbol.for("immer-state");function dl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var J0=Object.getPrototypeOf;function hh(e){return!!e&&!!e[ds]}function zc(e){var t;return e?NM(e)||Array.isArray(e)||!!e[TO]||!!((t=e.constructor)!=null&&t[TO])||tg(e)||ny(e):!1}var r0e=Object.prototype.constructor.toString();function NM(e){if(!e||typeof e!="object")return!1;const t=J0(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===r0e}function hv(e,t){ry(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ry(e){const t=e[ds];return t?t.type_:Array.isArray(e)?1:tg(e)?2:ny(e)?3:0}function w_(e,t){return ry(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PM(e,t,r){const n=ry(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function n0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tg(e){return e instanceof Map}function ny(e){return e instanceof Set}function If(e){return e.copy_||e.base_}function b_(e,t){if(tg(e))return new Map(e);if(ny(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=NM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ds];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(J0(e),n)}else{const n=J0(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function zE(e,t=!1){return iy(e)||hh(e)||!zc(e)||(ry(e)>1&&Object.defineProperties(e,{set:{value:Tm},add:{value:Tm},clear:{value:Tm},delete:{value:Tm}}),Object.freeze(e),t&&Object.values(e).forEach(r=>zE(r,!0))),e}function Tm(){dl(2)}function iy(e){return Object.isFrozen(e)}var i0e={};function dh(e){const t=i0e[e];return t||dl(0,e),t}var Ep;function IM(){return Ep}function a0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OO(e,t){t&&(dh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function __(e){E_(e),e.drafts_.forEach(o0e),e.drafts_=null}function E_(e){e===Ep&&(Ep=e.parent_)}function kO(e){return Ep=a0e(Ep,e)}function o0e(e){const t=e[ds];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ds].modified_&&(__(t),dl(4)),zc(e)&&(e=dv(t,e),t.parent_||pv(t,e)),t.patches_&&dh("Patches").generateReplacementPatches_(r[ds].base_,e,t.patches_,t.inversePatches_)):e=dv(t,r,[]),__(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kM?e:void 0}function dv(e,t,r){if(iy(t))return t;const n=t[ds];if(!n)return hv(t,(i,a)=>PO(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return pv(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),hv(a,(s,c)=>PO(e,n,i,s,c,r,o)),pv(e,i,!1),r&&e.patches_&&dh("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function PO(e,t,r,n,i,a,o){if(hh(i)){const s=a&&t&&t.type_!==3&&!w_(t.assigned_,n)?a.concat(n):void 0,c=dv(e,i,s);if(PM(r,n,c),hh(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(zc(i)&&!iy(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;dv(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&pv(e,i)}}function pv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zE(t,r)}function s0e(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:IM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=HE;r&&(i=[n],a=Sp);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var HE={get(e,t){if(t===ds)return e;const r=If(e);if(!w_(r,t))return l0e(e,r,t);const n=r[t];return e.finalized_||!zc(n)?n:n===wb(e.base_,t)?(bb(e),e.copy_[t]=A_(n,e)):n},has(e,t){return t in If(e)},ownKeys(e){return Reflect.ownKeys(If(e))},set(e,t,r){const n=RM(If(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=wb(If(e),t),a=i==null?void 0:i[ds];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(n0e(r,i)&&(r!==void 0||w_(e.base_,t)))return!0;bb(e),S_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bb(e),S_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=If(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){dl(11)},getPrototypeOf(e){return J0(e.base_)},setPrototypeOf(){dl(12)}},Sp={};hv(HE,(e,t)=>{Sp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sp.deleteProperty=function(e,t){return Sp.set.call(this,e,t,void 0)};Sp.set=function(e,t,r){return HE.set.call(this,e[0],t,r,e[0])};function wb(e,t){const r=e[ds];return(r?If(r):e)[t]}function l0e(e,t,r){var i;const n=RM(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function RM(e,t){if(!(t in e))return;let r=J0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=J0(r)}}function S_(e){e.modified_||(e.modified_=!0,e.parent_&&S_(e.parent_))}function bb(e){e.copy_||(e.copy_=b_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var c0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(c=a,...u){return o.produce(c,h=>r.call(this,h,...u))}}typeof r!="function"&&dl(6),n!==void 0&&typeof n!="function"&&dl(7);let i;if(zc(t)){const a=kO(this),o=A_(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?__(a):E_(a)}return OO(a,n),NO(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===kM&&(i=void 0),this.autoFreeze_&&zE(i,!0),n){const a=[],o=[];dh("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else dl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zc(e)||dl(8),hh(e)&&(e=Lc(e));const t=kO(this),r=A_(e,void 0);return r[ds].isManual_=!0,E_(t),r}finishDraft(e,t){const r=e&&e[ds];(!r||!r.isManual_)&&dl(9);const{scope_:n}=r;return OO(n,t),NO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=dh("Patches").applyPatches_;return hh(e)?n(e,t):this.produce(e,i=>n(i,t))}};function A_(e,t){const r=tg(e)?dh("MapSet").proxyMap_(e,t):ny(e)?dh("MapSet").proxySet_(e,t):s0e(e,t);return(t?t.scope_:IM()).drafts_.push(r),r}function Lc(e){return hh(e)||dl(10,e),LM(e)}function LM(e){if(!zc(e)||iy(e))return e;const t=e[ds];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=b_(e,t.scope_.immer_.useStrictShallowCopy_)}else r=b_(e,!0);return hv(r,(n,i)=>{PM(r,n,LM(i))}),t&&(t.finalized_=!1),r}var u0e=new c0e,DM=u0e.produce;function jM(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var f0e=jM(),h0e=jM,d0e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fv:fv.apply(null,arguments)};function Ws(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(cs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>OM(n)&&n.type===e,r}var MM=class w1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,w1.prototype)}static get[Symbol.species](){return w1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new w1(...t[0].concat(this)):new w1(...t.concat(this))}};function IO(e){return zc(e)?DM(e,()=>{}):e}function Om(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function p0e(e){return typeof e=="boolean"}var g0e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new MM;return r&&(p0e(r)?o.push(f0e):o.push(h0e(r.extraArgument))),o},m0e="RTK_autoBatch",RO=e=>t=>{setTimeout(t,e)},v0e=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RO(10):e.type==="callback"?e.queueNotification:RO(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return s.add(h),()=>{v(),s.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[m0e]),a=!i,a&&(o||(o=!0,c(u))),n.dispatch(h)}finally{i=!0}}})},x0e=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new MM(e);return n&&i.push(v0e(typeof n=="object"?n:void 0)),i};function y0e(e){const t=g0e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(WE(r))s=TM(r);else throw new Error(cs(1));let c;typeof n=="function"?c=n(t):c=t();let u=fv;i&&(u=d0e({trace:!1,...typeof i=="object"&&i}));const h=t0e(...c),p=x0e(h);let v=typeof o=="function"?o(p):p();const g=u(...v);return CM(s,a,g)}function FM(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(cs(28));if(s in t)throw new Error(cs(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function w0e(e){return typeof e=="function"}function b0e(e,t){let[r,n,i]=FM(t),a;if(w0e(e))a=()=>IO(e());else{const s=IO(e);a=()=>s}function o(s=a(),c){let u=[r[c.type],...n.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[i]),u.reduce((h,p)=>{if(p)if(hh(h)){const g=p(h,c);return g===void 0?h:g}else{if(zc(h))return DM(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},s)}return o.getInitialState=a,o}var _0e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E0e=(e=21)=>{let t="",r=e;for(;r--;)t+=_0e[Math.random()*64|0];return t},S0e=Symbol.for("rtk-slice-createasyncthunk");function A0e(e,t){return`${e}/${t}`}function C0e({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[S0e];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(cs(11));const s=(typeof i.reducers=="function"?i.reducers(O0e()):i.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,D){const z=typeof k=="string"?k:k.type;if(!z)throw new Error(cs(12));if(z in u.sliceCaseReducersByType)throw new Error(cs(13));return u.sliceCaseReducersByType[z]=D,h},addMatcher(k,D){return u.sliceMatchers.push({matcher:k,reducer:D}),h},exposeAction(k,D){return u.actionCreators[k]=D,h},exposeCaseReducer(k,D){return u.sliceCaseReducersByName[k]=D,h}};c.forEach(k=>{const D=s[k],z={reducerName:k,type:A0e(a,k),createNotation:typeof i.reducers=="function"};N0e(D)?I0e(z,D,h,t):k0e(z,D,h)});function p(){const[k={},D=[],z=void 0]=typeof i.extraReducers=="function"?FM(i.extraReducers):[i.extraReducers],F={...k,...u.sliceCaseReducersByType};return b0e(i.initialState,q=>{for(let B in F)q.addCase(B,F[B]);for(let B of u.sliceMatchers)q.addMatcher(B.matcher,B.reducer);for(let B of D)q.addMatcher(B.matcher,B.reducer);z&&q.addDefaultCase(z)})}const v=k=>k,g=new Map,_=new WeakMap;let b;function E(k,D){return b||(b=p()),b(k,D)}function S(){return b||(b=p()),b.getInitialState()}function T(k,D=!1){function z(q){let B=q[k];return typeof B>"u"&&D&&(B=Om(_,z,S)),B}function F(q=v){const B=Om(g,D,()=>new WeakMap);return Om(B,q,()=>{const ee={};for(const[W,U]of Object.entries(i.selectors??{}))ee[W]=T0e(U,q,()=>Om(_,q,S),D);return ee})}return{reducerPath:k,getSelectors:F,get selectors(){return F(z)},selectSlice:z}}const O={name:a,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...T(o),injectInto(k,{reducerPath:D,...z}={}){const F=D??o;return k.inject({reducerPath:F,reducer:E},z),{...O,...T(F,!0)}}};return O}}function T0e(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var vs=C0e();function O0e(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function k0e({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!P0e(n))throw new Error(cs(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ws(e,o):Ws(e))}function N0e(e){return e._reducerDefinitionType==="asyncThunk"}function P0e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function I0e({type:e,reducerName:t},r,n,i){if(!i)throw new Error(cs(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:u,options:h}=r,p=i(e,a,h);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),s&&n.addCase(p.pending,s),c&&n.addCase(p.rejected,c),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:o||km,pending:s||km,rejected:c||km,settled:u||km})}function km(){}var R0e="task",BM="listener",UM="completed",VE="cancelled",L0e=`task-${VE}`,D0e=`task-${UM}`,C_=`${BM}-${VE}`,j0e=`${BM}-${UM}`,ay=class{constructor(e){sn(this,"name","TaskAbortError");sn(this,"message");this.code=e,this.message=`${R0e} ${VE} (reason: ${e})`}},qE=(e,t)=>{if(typeof e!="function")throw new TypeError(cs(32))},gv=()=>{},$M=(e,t=gv)=>(e.catch(t),e),WM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Zf=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Jf=e=>{if(e.aborted){const{reason:t}=e;throw new ay(t)}};function zM(e,t){let r=gv;return new Promise((n,i)=>{const a=()=>i(new ay(e.reason));if(e.aborted){a();return}r=WM(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=gv})}var M0e=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ay?"cancelled":"rejected",error:r}}finally{t==null||t()}},mv=e=>t=>$M(zM(e,t).then(r=>(Jf(e),r))),HM=e=>{const t=mv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:M0}=Object,LO={},oy="listenerMiddleware",F0e=(e,t)=>{const r=n=>WM(e,()=>Zf(n,e.reason));return(n,i)=>{qE(n);const a=new AbortController;r(a);const o=M0e(async()=>{Jf(e),Jf(a.signal);const s=await n({pause:mv(a.signal),delay:HM(a.signal),signal:a.signal});return Jf(a.signal),s},()=>Zf(a,D0e));return i!=null&&i.autoJoin&&t.push(o.catch(gv)),{result:mv(e)(o),cancel(){Zf(a,L0e)}}}},B0e=(e,t)=>{const r=async(n,i)=>{Jf(t);let a=()=>{};const s=[new Promise((c,u)=>{let h=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),u()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await zM(t,Promise.race(s));return Jf(t),c}finally{a()}};return(n,i)=>$M(r(n,i))},VM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ws(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(cs(21));return qE(a),{predicate:i,type:t,effect:a}},qM=M0(e=>{const{type:t,predicate:r,effect:n}=VM(e);return{id:E0e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cs(22))}}},{withTypes:()=>qM}),DO=(e,t)=>{const{type:r,effect:n,predicate:i}=VM(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},T_=e=>{e.pending.forEach(t=>{Zf(t,C_)})},U0e=e=>()=>{e.forEach(T_),e.clear()},jO=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},GM=M0(Ws(`${oy}/add`),{withTypes:()=>GM}),$0e=Ws(`${oy}/removeAll`),KM=M0(Ws(`${oy}/remove`),{withTypes:()=>KM}),W0e=(...e)=>{console.error(`${oy}/error`,...e)},rg=(e={})=>{const t=new Map,{extra:r,onError:n=W0e}=e;qE(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&T_(h)}),a=h=>{const p=DO(t,h)??qM(h);return i(p)};M0(a,{withTypes:()=>a});const o=h=>{const p=DO(t,h);return p&&(p.unsubscribe(),h.cancelActive&&T_(p)),!!p};M0(o,{withTypes:()=>o});const s=async(h,p,v,g)=>{const _=new AbortController,b=B0e(a,_.signal),E=[];try{h.pending.add(_),await Promise.resolve(h.effect(p,M0({},v,{getOriginalState:g,condition:(S,T)=>b(S,T).then(Boolean),take:b,delay:HM(_.signal),pause:mv(_.signal),extra:r,signal:_.signal,fork:F0e(_.signal,E),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,T,O)=>{S!==_&&(Zf(S,C_),O.delete(S))})},cancel:()=>{Zf(_,C_),h.pending.delete(_)},throwIfCancelled:()=>{Jf(_.signal)}})))}catch(S){S instanceof ay||jO(n,S,{raisedBy:"effect"})}finally{await Promise.all(E),Zf(_,j0e),h.pending.delete(_)}},c=U0e(t);return{middleware:h=>p=>v=>{if(!OM(v))return p(v);if(GM.match(v))return a(v.payload);if($0e.match(v)){c();return}if(KM.match(v))return o(v.payload);let g=h.getState();const _=()=>{if(g===LO)throw new Error(cs(23));return g};let b;try{if(b=p(v),t.size>0){const E=h.getState(),S=Array.from(t.values());for(const T of S){let O=!1;try{O=T.predicate(v,E,g)}catch(k){O=!1,jO(n,k,{raisedBy:"predicate"})}O&&s(T,v,h,_)}}}finally{g=LO}return b},startListening:a,stopListening:o,clearListeners:c}};function cs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var z0e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XM=vs({name:"chartLayout",initialState:z0e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:H0e,setLayout:V0e,setChartSize:q0e,setScale:G0e}=XM.actions,K0e=XM.reducer;function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){X0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X0e(e,t,r){return(t=Y0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y0e(e){var t=Z0e(e,"string");return typeof t=="symbol"?t:t+""}function Z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vv=Math.PI/180,J0e=e=>e*180/Math.PI,Di=(e,t,r,n)=>({x:e+Math.cos(-vv*n)*r,y:t+Math.sin(-vv*n)*r}),YM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Q0e=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},ede=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=Q0e({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:o,angle:J0e(c),angleInRadian:c}},tde=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},rde=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},nde=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=ede({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:u}=tde(t),h=a,p;if(c<=u){for(;h>u;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=u}else{for(;h>c;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=c}return p?FO(FO({},t),{},{radius:i,angle:rde(h,t)}):null};function ZM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ide(e,t,r){return(t=ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=ode(e,"string");return typeof t=="symbol"?t:t+""}function ode(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(e,t,r){return Yn(e)||Yn(t)?r:Vl(t)?fh(e,t,r):typeof t=="function"?t(e):r}var sde=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var u=c>0?r[c-1].coordinate:r[s-1].coordinate,h=r[c].coordinate,p=c>=s-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(ua(h-u)!==ua(p-h)){var g=[];if(ua(p-h)===ua(i[1]-i[0])){v=p;var _=h+i[1]-i[0];g[0]=Math.min(_,(_+u)/2),g[1]=Math.max(_,(_+u)/2)}else{v=u;var b=p+i[1]-i[0];g[0]=Math.min(h,(b+h)/2),g[1]=Math.max(h,(b+h)/2)}var E=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>E[0]&&e<=E[1]||e>=g[0]&&e<=g[1]){({index:o}=r[c]);break}}else{var S=Math.min(u,p),T=Math.max(u,p);if(e>(S+h)/2&&e<=(T+h)/2){({index:o}=r[c]);break}}}else if(t){for(var O=0;O<s;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<s-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===s-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},lde=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&pr(e[a]))return Ls(Ls({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&pr(e[o]))return Ls(Ls({},e),{},{[o]:e[o]+(i||0)})}return e},ff=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JM=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},QM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:h,ticks:p,niceTicks:v,axisType:g}=e;if(!o)return null;var _=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(b=g==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*b:b,p||v){var E=(p||v||[]).map((S,T)=>{var O=n?n.indexOf(S):S;return{coordinate:o(O)+b,value:S,offset:b,index:T}});return E.filter(S=>!hs(S.coordinate))}return c&&u?u.map((S,T)=>({coordinate:o(S)+b,value:S,index:T,offset:b})):o.ticks&&h!=null?o.ticks(h).map((S,T)=>({coordinate:o(S)+b,value:S,offset:b,index:T})):o.domain().map((S,T)=>({coordinate:o(S)+b,value:n?n[S]:S,index:T,offset:b}))},UO=1e-4,cde=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-UO,a=Math.max(n[0],n[1])+UO,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},ude=(e,t)=>{if(!t||t.length!==2||!pr(t[0])||!pr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pr(e[0])||e[0]<r)&&(i[0]=r),(!pr(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},fde=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=hs(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},hde=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=hs(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},dde={sign:fde,expand:Zfe,none:Y0,silhouette:Jfe,wiggle:Qfe,positive:hde},pde=(e,t,r)=>{var n=dde[r],i=Yfe().keys(t).value((a,o)=>+Ln(a,o,0)).order(v_).offset(n);return i(e)};function gde(e){return e==null?void 0:String(e)}function $O(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yn(i[t.dataKey])){var s=kj(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Ln(i,Yn(o)?t.dataKey:o);return Yn(c)?null:t.scale(c)}var WO=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ln(a,t.dataKey,t.scale.domain()[o]);return Yn(s)?null:t.scale(s)-i/2+n},mde=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},vde=e=>{var t=e.flat(2).filter(pr);return[Math.min(...t),Math.max(...t)]},xde=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],yde=(e,t,r)=>{if(e!=null)return xde(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((c,u)=>{var h=ZM(u,t,r),p=vde(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},zO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ap=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ty(t,h=>h.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],u=i[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function VO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ls(Ls({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ad(e,t){if(e)return String(e);if(typeof t=="string")return t}function wde(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?nde({x:e,y:t},n):null}var bde=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Ls(Ls(Ls({},n),Di(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=n;return Ls(Ls(Ls({},n),Di(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},_de=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Yc=e=>e.layout.width,Zc=e=>e.layout.height,Ede=e=>e.layout.scale,e9=e=>e.layout.margin,sy=nt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ly=nt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),t9="data-recharts-item-index",r9="data-recharts-item-data-key",ng=60;function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Sde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sde(e,t,r){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ade(e){var t=Cde(e,"string");return typeof t=="symbol"?t:t+""}function Cde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tde=e=>e.brush.height;function Ode(e){var t=ly(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ng;return r+i}return r},0)}function kde(e){var t=ly(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ng;return r+i}return r},0)}function Nde(e){var t=sy(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Pde(e){var t=sy(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qi=nt([Yc,Zc,e9,Tde,Ode,kde,Nde,Pde,SM,Khe],(e,t,r,n,i,a,o,s,c,u)=>{var h={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+s},v=Nm(Nm({},p),h),g=v.bottom;v.bottom+=n,v=lde(v,c,u);var _=e-v.left-v.right,b=t-v.top-v.bottom;return Nm(Nm({brushBottom:g},v),{},{width:Math.max(_,0),height:Math.max(b,0)})}),Ide=nt(Qi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),GE=nt(Yc,Zc,(e,t)=>({x:0,y:0,width:e,height:t})),Rde=L.createContext(null),Io=()=>L.useContext(Rde)!=null,cy=e=>e.brush,uy=nt([cy,Qi,e9],(e,t,r)=>({height:e.height,x:pr(e.x)?e.x:t.left,y:pr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:pr(e.width)?e.width:t.width})),KE=()=>{var e,t=Io(),r=ar(Ide),n=ar(uy),i=(e=ar(cy))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Lde={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},n9=()=>{var e;return(e=ar(Qi))!==null&&e!==void 0?e:Lde},XE=()=>ar(Yc),YE=()=>ar(Zc),Dde=()=>ar(e=>e.layout.margin),Zr=e=>e.layout.layoutType,fy=()=>ar(Zr),jde={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i9=vs({name:"legend",initialState:jde,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Lc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:GO,setLegendSettings:Mde,addLegendPayload:a9,removeLegendPayload:o9}=i9.actions,Fde=i9.reducer,Bde=["contextPayload"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(null,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){ZE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZE(e,t,r){return(t=Ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ude(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wde(e,t){if(e==null)return{};var r,n,i=zde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hde(e){return e.value}function Vde(e){var{contextPayload:t}=e,r=Wde(e,Bde),n=dM(t,e.payloadUniqBy,Hde),i=Q0(Q0({},r),{},{payload:n});return L.isValidElement(e.content)?L.cloneElement(e.content,i):typeof e.content=="function"?L.createElement(e.content,i):L.createElement(kE,i)}function qde(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:c}=t,u,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Q0(Q0({},u),h)}function Gde(e){var t=ai();return L.useEffect(()=>{t(Mde(e))},[t,e]),null}function Kde(e){var t=ai();return L.useEffect(()=>(t(GO(e)),()=>{t(GO({width:0,height:0}))}),[t,e]),null}function Xde(e){var t=Zhe(),r=wfe(),n=Dde(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[c,u]=AM([t]),h=XE(),p=YE();if(h==null||p==null)return null;var v=h-(n.left||0)-(n.right||0),g=Cp.getWidthOrHeight(e.layout,a,i,v),_=s?o:Q0(Q0({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||a||"auto"},qde(o,e,n,h,p,c)),o),b=s??r;if(b==null)return null;var E=L.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:u},L.createElement(Gde,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),L.createElement(Kde,{width:c.width,height:c.height}),L.createElement(Vde,O_({},e,g,{margin:n,chartWidth:h,chartHeight:p,contextPayload:t})));return n4.createPortal(E,b)}class Cp extends L.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&pr(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return L.createElement(Xde,this.props)}}ZE(Cp,"displayName","Legend");ZE(Cp,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Yde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yde(e,t,r){return(t=Zde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zde(e){var t=Jde(e,"string");return typeof t=="symbol"?t:t+""}function Jde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qde(e){return Array.isArray(e)&&Vl(e[0])&&Vl(e[1])?e.join(" ~ "):e}var e1e=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:h,labelFormatter:p,accessibilityLayer:v=!1}=e,g=()=>{if(a&&a.length){var D={padding:0,margin:0},z=(s?ty(a,s):a).map((F,q)=>{if(F.type==="none")return null;var B=F.formatter||o||Qde,{value:ee,name:W}=F,U=ee,K=W;if(B){var oe=B(ee,W,F,q,a);if(Array.isArray(oe))[U,K]=oe;else if(oe!=null)U=oe;else return null}var ae=_b({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},n);return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:ae},Vl(K)?L.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Vl(K)?L.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,L.createElement("span",{className:"recharts-tooltip-item-value"},U),L.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:D},z)}return null},_=_b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=_b({margin:0},i),E=!Yn(h),S=E?h:"",T=rn("recharts-default-tooltip",c),O=rn("recharts-tooltip-label",u);E&&p&&a!==void 0&&a!==null&&(S=p(h,a));var k=v?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",k_({className:T,style:_},k),L.createElement("p",{className:O,style:b},L.isValidElement(S)?S:"".concat(S)),g())},n1="recharts-tooltip-wrapper",t1e={visibility:"hidden"};function r1e(e){var{coordinate:t,translateX:r,translateY:n}=e;return rn(n1,{["".concat(n1,"-right")]:pr(r)&&t&&pr(t.x)&&r>=t.x,["".concat(n1,"-left")]:pr(r)&&t&&pr(t.x)&&r<t.x,["".concat(n1,"-bottom")]:pr(n)&&t&&pr(t.y)&&n>=t.y,["".concat(n1,"-top")]:pr(n)&&t&&pr(t.y)&&n<t.y})}function YO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(a&&pr(a[n]))return a[n];var h=r[n]-s-(i>0?i:0),p=r[n]+i;if(t[n])return o[n]?h:p;var v=c[n];if(v==null)return 0;if(o[n]){var g=h,_=v;return g<_?Math.max(p,v):Math.max(h,v)}if(u==null)return 0;var b=p+s,E=v+u;return b>E?Math.max(h,v):Math.max(p,v)}function n1e(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function i1e(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,h,p;return o.height>0&&o.width>0&&r?(h=YO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=YO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=n1e({translateX:h,translateY:p,useTranslate3d:s})):u=t1e,{cssProperties:u,cssClasses:r1e({translateX:h,translateY:p,coordinate:r})}}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){N_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N_(e,t,r){return(t=a1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1e(e){var t=o1e(e,"string");return typeof t=="symbol"?t:t+""}function o1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class s1e extends L.PureComponent{constructor(){super(...arguments),N_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),N_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:h,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:_,lastBoundingBox:b,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:T,cssProperties:O}=i1e({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:g}),k=S?{}:Pm(Pm({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),D=Pm(Pm({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},_);return L.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:D,ref:E},a)}}var l1e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hf={devToolsEnabled:!1,isSsr:l1e()},s9=()=>ar(e=>e.rootProps.accessibilityLayer);function ps(e){return Number.isFinite(e)}function ed(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(null,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){c1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1e(e,t,r){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek={curveBasisClosed:Bfe,curveBasisOpen:Ufe,curveBasis:Ffe,curveBumpX:Sfe,curveBumpY:Afe,curveLinearClosed:$fe,curveLinear:Zx,curveMonotoneX:Wfe,curveMonotoneY:zfe,curveNatural:Hfe,curveStep:Vfe,curveStepAfter:Gfe,curveStepBefore:qfe},Im=e=>ps(e.x)&&ps(e.y),i1=e=>e.x,a1=e=>e.y,h1e=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Qp(e));return(r==="curveMonotone"||r==="curveBump")&&t?ek["".concat(r).concat(t==="vertical"?"Y":"X")]:ek[r]||Zx},d1e=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=h1e(t,i),s=a?r.filter(Im):r,c;if(Array.isArray(n)){var u=a?n.filter(p=>Im(p)):n,h=s.map((p,v)=>QO(QO({},p),{},{base:u[v]}));return i==="vertical"?c=Sm().y(a1).x1(i1).x0(p=>p.base.x):c=Sm().x(i1).y1(a1).y0(p=>p.base.y),c.defined(Im).curve(o),c(h)}return i==="vertical"&&pr(n)?c=Sm().y(a1).x1(i1).x0(n):pr(n)?c=Sm().x(i1).y1(a1).y0(n):c=Bj().x(i1).y(a1),c.defined(Im).curve(o),c(s)},JE=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?d1e(e):n;return L.createElement("path",P_({},Kl(e),bE(e),{className:rn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},p1e=["x","y","top","left","width","height","className"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(null,arguments)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){m1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m1e(e,t,r){return(t=v1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v1e(e){var t=x1e(e,"string");return typeof t=="symbol"?t:t+""}function x1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y1e(e,t){if(e==null)return{};var r,n,i=w1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b1e=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),_1e=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,c=y1e(e,p1e),u=g1e({x:t,y:r,top:n,left:i,width:a,height:o},c);return!pr(t)||!pr(r)||!pr(a)||!pr(o)||!pr(n)||!pr(i)?null:L.createElement("path",I_({},ii(u,!0),{className:rn("recharts-cross",s),d:b1e(t,r,a,o,n,i)}))};function E1e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){A1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A1e(e,t,r){return(t=C1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C1e(e){var t=T1e(e,"string");return typeof t=="symbol"?t:t+""}function T1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(e,t){var r=S1e({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function O1e(){}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){k1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k1e(e,t,r){return(t=N1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N1e(e){var t=P1e(e,"string");return typeof t=="symbol"?t:t+""}function P1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),l9=(e,t,r)=>e.map(n=>"".concat(I1e(n)," ").concat(t,"ms ").concat(r)).join(","),R1e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Tp=(e,t)=>Object.keys(t).reduce((r,n)=>ik(ik({},r),{},{[n]:e(n,t[n])}),{});function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return(t=D1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1e(e){var t=j1e(e,"string");return typeof t=="symbol"?t:t+""}function j1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xv=(e,t,r)=>e+(t-e)*r,R_=e=>{var{from:t,to:r}=e;return t!==r},c9=(e,t,r)=>{var n=Tp((i,a)=>{if(R_(a)){var[o,s]=e(a.from,a.to,a.velocity);return Sa(Sa({},a),{},{from:o,velocity:s})}return a},t);return r<1?Tp((i,a)=>R_(a)?Sa(Sa({},a),{},{velocity:xv(a.velocity,n[i].velocity,r),from:xv(a.from,n[i].from,r)}):a,t):c9(e,n,r-1)};function M1e(e,t,r,n,i,a){var o,s=n.reduce((v,g)=>Sa(Sa({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),c=()=>Tp((v,g)=>g.from,s),u=()=>!Object.values(s).filter(R_).length,h=null,p=v=>{o||(o=v);var g=v-o,_=g/r.dt;s=c9(r,s,_),i(Sa(Sa(Sa({},e),t),c())),o=v,u()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function F1e(e,t,r,n,i,a,o){var s=null,c=i.reduce((p,v)=>Sa(Sa({},p),{},{[v]:[e[v],t[v]]}),{}),u,h=p=>{u||(u=p);var v=(p-u)/n,g=Tp((b,E)=>xv(...E,r(v)),c);if(a(Sa(Sa(Sa({},e),t),g)),v<1)s=o.setTimeout(h);else{var _=Tp((b,E)=>xv(...E,r(1)),c);a(Sa(Sa(Sa({},e),t),_))}};return()=>(s=o.setTimeout(h),()=>{s()})}const B1e=(e,t,r,n,i,a)=>{var o=R1e(e,t);return r.isStepper===!0?M1e(e,t,r,o,i,a):F1e(e,t,r,n,o,i,a)};var yv=1e-4,u9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],f9=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ok=(e,t)=>r=>{var n=u9(e,t);return f9(n,r)},U1e=(e,t)=>r=>{var n=u9(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return f9(i,r)},sk=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([t,n,r,i]=o);var u=ok(t,r),h=ok(n,i),p=U1e(t,r),v=_=>_>1?1:_<0?0:_,g=_=>{for(var b=_>1?1:_,E=b,S=0;S<8;++S){var T=u(E)-b,O=p(E);if(Math.abs(T-b)<yv||O<yv)return h(E);E=v(E-T/O)}return h(E)};return g.isStepper=!1,g},$1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,c)=>{var u=-(o-s)*r,h=c*n,p=c+(u-h)*i/1e3,v=c*i/1e3+o;return Math.abs(v-s)<yv&&Math.abs(p)<yv?[s,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},W1e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sk(e);case"spring":return $1e();default:if(e.split("(")[0]==="cubic-bezier")return sk(e)}return typeof e=="function"?e:null};function z1e(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class H1e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function V1e(){return z1e(new H1e)}var q1e=L.createContext(V1e);function G1e(e,t){var r=L.useContext(q1e);return L.useMemo(()=>t??r(e),[e,t,r])}var K1e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lk={t:0},Eb={t:1};function ig(e){var t=Ra(e,K1e),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,h=G1e(t.animationId,t.animationManager),[p,v]=L.useState(r?lk:Eb),g=L.useRef(null);return L.useEffect(()=>{r||v(Eb)},[r]),L.useEffect(()=>{if(!r||!n)return O1e;var _=B1e(lk,Eb,W1e(a),i,v,h.getTimeoutController()),b=()=>{g.current=_()};return h.start([c,o,b,i,s]),()=>{h.stop(),g.current&&g.current(),s()}},[r,n,i,a,o,c,s,h]),u(p.t)}function ag(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=L.useRef(_p(t)),n=L.useRef(e);return n.current!==e&&(r.current=_p(t),n.current=e),r.current}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){X1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X1e(e,t,r){return(t=Y1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1e(e){var t=Z1e(e,"string");return typeof t=="symbol"?t:t+""}function Z1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}var fk=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];u="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+s*h[0],",").concat(t)),u+="L ".concat(e+r-s*h[1],",").concat(t),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*h[1])),u+="L ".concat(e+r,",").concat(t+n-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-s*h[2],",").concat(t+n)),u+="L ".concat(e+s*h[3],",").concat(t+n),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*h[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);u="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+s*g,",").concat(t,`
            L `).concat(e+r-s*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*g,`
            L `).concat(e+r,",").concat(t+n-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-s*g,",").concat(t+n,`
            L `).concat(e+s*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*g," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},J1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h9=e=>{var t=Ra(e,J1e),r=L.useRef(null),[n,i]=L.useState(-1);L.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:u,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:_,isUpdateAnimationActive:b}=t,E=L.useRef(s),S=L.useRef(c),T=L.useRef(a),O=L.useRef(o),k=L.useMemo(()=>({x:a,y:o,width:s,height:c,radius:u}),[a,o,s,c,u]),D=ag(k,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var z=rn("recharts-rectangle",h);if(!b)return L.createElement("path",wv({},ii(t,!0),{className:z,d:fk(a,o,s,c,u)}));var F=E.current,q=S.current,B=T.current,ee=O.current,W="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),K=l9(["strokeDasharray"],v,typeof p=="string"?p:void 0);return L.createElement(ig,{animationId:D,key:D,canBegin:n>0,duration:v,easing:p,isActive:b,begin:g},oe=>{var ae=di(F,s,oe),Re=di(q,c,oe),ke=di(B,a,oe),we=di(ee,o,oe);r.current&&(E.current=ae,S.current=Re,T.current=ke,O.current=we);var _e;return _?oe>0?_e={transition:K,strokeDasharray:U}:_e={strokeDasharray:W}:_e={strokeDasharray:U},L.createElement("path",wv({},ii(t,!0),{className:z,d:fk(ke,we,ae,Re,u),ref:r,style:uk(uk({},_e),t.style)}))})};function d9(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Di(t,r,n,i),s=Di(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(null,arguments)}var Q1e=(e,t)=>{var r=ua(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Rm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,h=Math.asin(s/u)/vv,p=c?i:i+a*h,v=Di(t,r,u,p),g=Di(t,r,n,p),_=c?i-a*h:i,b=Di(t,r,u*Math.cos(h*vv),_);return{center:v,circleTangency:g,lineTangency:b,theta:h}},p9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=Q1e(a,o),c=a+s,u=Di(t,r,i,a),h=Di(t,r,i,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=Di(t,r,n,a),g=Di(t,r,n,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},epe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,h=ua(u-c),{circleTangency:p,lineTangency:v,theta:g}=Rm({cx:t,cy:r,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:b,theta:E}=Rm({cx:t,cy:r,radius:i,angle:u,sign:-h,cornerRadius:a,cornerIsExternal:s}),S=s?Math.abs(c-u):Math.abs(c-u)-g-E;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):p9({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:k,theta:D}=Rm({cx:t,cy:r,radius:n,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:z,lineTangency:F,theta:q}=Rm({cx:t,cy:r,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),B=s?Math.abs(c-u):Math.abs(c-u)-D-q;if(B<0&&a===0)return"".concat(T,"L").concat(t,",").concat(r,"Z");T+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else T+="L".concat(t,",").concat(r,"Z");return T},tpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g9=e=>{var t=Ra(e,tpe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:h,className:p}=t;if(a<i||u===h)return null;var v=rn("recharts-sector",p),g=a-i,_=Xa(o,g,0,!0),b;return _>0&&Math.abs(u-h)<360?b=epe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,g/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:h}):b=p9({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:h}),L.createElement("path",L_({},ii(t,!0),{className:v,d:b}))};function rpe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:c,innerRadius:u,outerRadius:h,angle:p}=t,v=Di(s,c,u,p),g=Di(s,c,h,p);n=v.x,i=v.y,a=g.x,o=g.y}else return d9(t);return[{x:n,y:i},{x:a,y:o}]}var m9={},v9={},x9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(x9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(v9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$E,r=v9;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=i,i+=o;return c}e.range=n})(m9);var npe=m9.range;const y9=bl(npe);function Hu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ipe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QE(e){let t,r,n;e.length!==2?(t=Hu,r=(s,c)=>Hu(e(s),c),n=(s,c)=>e(s)-c):(t=e===Hu||e===ipe?e:ape,r=e,n=e);function i(s,c,u=0,h=s.length){if(u<h){if(t(c,c)!==0)return h;do{const p=u+h>>>1;r(s[p],c)<0?u=p+1:h=p}while(u<h)}return u}function a(s,c,u=0,h=s.length){if(u<h){if(t(c,c)!==0)return h;do{const p=u+h>>>1;r(s[p],c)<=0?u=p+1:h=p}while(u<h)}return u}function o(s,c,u=0,h=s.length){const p=i(s,c,u,h-1);return p>u&&n(s[p-1],c)>-n(s[p],c)?p-1:p}return{left:i,center:o,right:a}}function ape(){return 0}function w9(e){return e===null?NaN:+e}function*ope(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const spe=QE(Hu),og=spe.right;QE(w9).center;class hk extends Map{constructor(t,r=upe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(dk(this,t))}has(t){return super.has(dk(this,t))}set(t,r){return super.set(lpe(this,t),r)}delete(t){return super.delete(cpe(this,t))}}function dk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function upe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fpe(e=Hu){if(e===Hu)return b9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function b9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hpe=Math.sqrt(50),dpe=Math.sqrt(10),ppe=Math.sqrt(2);function bv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=hpe?10:a>=dpe?5:a>=ppe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?bv(e,t,r*2):[s,c,u]}function D_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?bv(t,e,r):bv(e,t,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function j_(e,t,r){return t=+t,e=+e,r=+r,bv(e,t,r)[2]}function M_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?j_(t,e,r):j_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function pk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _9(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?b9:fpe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*p/c+v)),_=Math.min(n,Math.floor(t+(c-u)*p/c+v));_9(e,t,g,_,i)}const a=e[t];let o=r,s=n;for(o1(e,r,t),i(e[n],a)>0&&o1(e,r,n);o<s;){for(o1(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?o1(e,r,s):(++s,o1(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function o1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gpe(e,t,r){if(e=Float64Array.from(ope(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gk(e);if(t>=1)return pk(e);var n,i=(n-1)*t,a=Math.floor(i),o=pk(_9(e,a).subarray(0,a+1)),s=gk(e.subarray(a+1));return o+(s-o)*(i-a)}}function mpe(e,t,r=w9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function vpe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F_=Symbol("implicit");function eS(){var e=new hk,t=[],r=[],n=F_;function i(a){let o=e.get(a);if(o===void 0){if(n!==F_)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new hk;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eS(t,r).unknown(n)},Gs.apply(i,arguments),i}function tS(){var e=eS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,c=0,u=0,h=.5;delete e.unknown;function p(){var v=t().length,g=i<n,_=g?i:n,b=g?n:i;a=(b-_)/Math.max(1,v-c+u*2),s&&(a=Math.floor(a)),_+=(b-_-a*(v-c))*h,o=a*(1-c),s&&(_=Math.round(_),o=Math.round(o));var E=vpe(v).map(function(S){return _+a*S});return r(g?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,s=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(v){return arguments.length?(s=!!v,p()):s},e.padding=function(v){return arguments.length?(c=Math.min(1,u=+v),p()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},e.paddingOuter=function(v){return arguments.length?(u=+v,p()):u},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return tS(t(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(h)},Gs.apply(p(),arguments)}function E9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return E9(t())},e}function xpe(){return E9(tS.apply(null,arguments).paddingInner(1))}function rS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function S9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sg(){}var Op=.7,_v=1/Op,F0="\\s*([+-]?\\d+)\\s*",kp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ype=/^#([0-9a-f]{3,8})$/,wpe=new RegExp(`^rgb\\(${F0},${F0},${F0}\\)$`),bpe=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),_pe=new RegExp(`^rgba\\(${F0},${F0},${F0},${kp}\\)$`),Epe=new RegExp(`^rgba\\(${zl},${zl},${zl},${kp}\\)$`),Spe=new RegExp(`^hsl\\(${kp},${zl},${zl}\\)$`),Ape=new RegExp(`^hsla\\(${kp},${zl},${zl},${kp}\\)$`),mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rS(sg,Np,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vk,formatHex:vk,formatHex8:Cpe,formatHsl:Tpe,formatRgb:xk,toString:xk});function vk(){return this.rgb().formatHex()}function Cpe(){return this.rgb().formatHex8()}function Tpe(){return A9(this).formatHsl()}function xk(){return this.rgb().formatRgb()}function Np(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ype.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yk(t):r===3?new So(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wpe.exec(e))?new So(t[1],t[2],t[3],1):(t=bpe.exec(e))?new So(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_pe.exec(e))?Lm(t[1],t[2],t[3],t[4]):(t=Epe.exec(e))?Lm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Spe.exec(e))?_k(t[1],t[2]/100,t[3]/100,1):(t=Ape.exec(e))?_k(t[1],t[2]/100,t[3]/100,t[4]):mk.hasOwnProperty(e)?yk(mk[e]):e==="transparent"?new So(NaN,NaN,NaN,0):null}function yk(e){return new So(e>>16&255,e>>8&255,e&255,1)}function Lm(e,t,r,n){return n<=0&&(e=t=r=NaN),new So(e,t,r,n)}function Ope(e){return e instanceof sg||(e=Np(e)),e?(e=e.rgb(),new So(e.r,e.g,e.b,e.opacity)):new So}function B_(e,t,r,n){return arguments.length===1?Ope(e):new So(e,t,r,n??1)}function So(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rS(So,B_,S9(sg,{brighter(e){return e=e==null?_v:Math.pow(_v,e),new So(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Op:Math.pow(Op,e),new So(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new So(Qf(this.r),Qf(this.g),Qf(this.b),Ev(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wk,formatHex:wk,formatHex8:kpe,formatRgb:bk,toString:bk}));function wk(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}`}function kpe(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}${zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const e=Ev(this.opacity);return`${e===1?"rgb(":"rgba("}${Qf(this.r)}, ${Qf(this.g)}, ${Qf(this.b)}${e===1?")":`, ${e})`}`}function Ev(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zf(e){return e=Qf(e),(e<16?"0":"")+e.toString(16)}function _k(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pl(e,t,r,n)}function A9(e){if(e instanceof pl)return new pl(e.h,e.s,e.l,e.opacity);if(e instanceof sg||(e=Np(e)),!e)return new pl;if(e instanceof pl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new pl(o,s,c,e.opacity)}function Npe(e,t,r,n){return arguments.length===1?A9(e):new pl(e,t,r,n??1)}function pl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rS(pl,Npe,S9(sg,{brighter(e){return e=e==null?_v:Math.pow(_v,e),new pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Op:Math.pow(Op,e),new pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new So(Sb(e>=240?e-240:e+120,i,n),Sb(e,i,n),Sb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new pl(Ek(this.h),Dm(this.s),Dm(this.l),Ev(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ev(this.opacity);return`${e===1?"hsl(":"hsla("}${Ek(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ek(e){return e=(e||0)%360,e<0?e+360:e}function Dm(e){return Math.max(0,Math.min(1,e||0))}function Sb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nS=e=>()=>e;function Ppe(e,t){return function(r){return e+r*t}}function Ipe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Rpe(e){return(e=+e)==1?C9:function(t,r){return r-t?Ipe(t,r,e):nS(isNaN(t)?r:t)}}function C9(e,t){var r=t-e;return r?Ppe(e,r):nS(isNaN(e)?t:e)}const Sk=function e(t){var r=Rpe(t);function n(i,a){var o=r((i=B_(i)).r,(a=B_(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=C9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=c(h),i.opacity=u(h),i+""}}return n.gamma=e,n}(1);function Lpe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Dpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jpe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Cd(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Mpe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Fpe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Cd(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var U_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ab=new RegExp(U_.source,"g");function Bpe(e){return function(){return e}}function Upe(e){return function(t){return e(t)+""}}function $pe(e,t){var r=U_.lastIndex=Ab.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=U_.exec(e))&&(i=Ab.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Sv(n,i)})),r=Ab.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Upe(c[0].x):Bpe(t):(t=c.length,function(u){for(var h=0,p;h<t;++h)s[(p=c[h]).i]=p.x(u);return s.join("")})}function Cd(e,t){var r=typeof t,n;return t==null||r==="boolean"?nS(t):(r==="number"?Sv:r==="string"?(n=Np(t))?(t=n,Sk):$pe:t instanceof Np?Sk:t instanceof Date?Mpe:Dpe(t)?Lpe:Array.isArray(t)?jpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fpe:Sv)(e,t)}function iS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Wpe(e,t){t===void 0&&(t=e,e=Cd);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function zpe(e){return function(){return e}}function Av(e){return+e}var Ak=[0,1];function so(e){return e}function $_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zpe(isNaN(t)?NaN:.5)}function Hpe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Vpe(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=$_(i,n),a=r(o,a)):(n=$_(n,i),a=r(a,o)),function(s){return a(n(s))}}function qpe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=$_(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var c=og(e,s,1,n)-1;return a[c](i[c](s))}}function lg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hy(){var e=Ak,t=Ak,r=Cd,n,i,a,o=so,s,c,u;function h(){var v=Math.min(e.length,t.length);return o!==so&&(o=Hpe(e[0],e[v-1])),s=v>2?qpe:Vpe,c=u=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=s(e.map(n),t,r)))(n(o(v)))}return p.invert=function(v){return o(i((u||(u=s(t,e.map(n),Sv)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Av),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=iS,h()},p.clamp=function(v){return arguments.length?(o=v?!0:so,h()):o!==so},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,g){return n=v,i=g,h()}}function aS(){return hy()(so,so)}function Gpe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function td(e){return e=Cv(Math.abs(e)),e?e[1]:NaN}function Kpe(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Xpe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ype=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pp(e){if(!(t=Ype.exec(e)))throw new Error("invalid format: "+e);var t;return new oS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pp.prototype=oS.prototype;function oS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zpe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var T9;function Jpe(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(T9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Cv(e,Math.max(0,t+a-1))[0]}function Ck(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Gpe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ck(e*100,t),r:Ck,s:Jpe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ok(e){return e}var kk=Array.prototype.map,Nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qpe(e){var t=e.grouping===void 0||e.thousands===void 0?Ok:Kpe(kk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ok:Xpe(kk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Pp(p);var v=p.fill,g=p.align,_=p.sign,b=p.symbol,E=p.zero,S=p.width,T=p.comma,O=p.precision,k=p.trim,D=p.type;D==="n"?(T=!0,D="g"):Tk[D]||(O===void 0&&(O=12),k=!0,D="g"),(E||v==="0"&&g==="=")&&(E=!0,v="0",g="=");var z=b==="$"?r:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",F=b==="$"?n:/[%p]/.test(D)?o:"",q=Tk[D],B=/[defgprs%]/.test(D);O=O===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function ee(W){var U=z,K=F,oe,ae,Re;if(D==="c")K=q(W)+K,W="";else{W=+W;var ke=W<0||1/W<0;if(W=isNaN(W)?c:q(Math.abs(W),O),k&&(W=Zpe(W)),ke&&+W==0&&_!=="+"&&(ke=!1),U=(ke?_==="("?_:s:_==="-"||_==="("?"":_)+U,K=(D==="s"?Nk[8+T9/3]:"")+K+(ke&&_==="("?")":""),B){for(oe=-1,ae=W.length;++oe<ae;)if(Re=W.charCodeAt(oe),48>Re||Re>57){K=(Re===46?i+W.slice(oe+1):W.slice(oe))+K,W=W.slice(0,oe);break}}}T&&!E&&(W=t(W,1/0));var we=U.length+W.length+K.length,_e=we<S?new Array(S-we+1).join(v):"";switch(T&&E&&(W=t(_e+W,_e.length?S-K.length:1/0),_e=""),g){case"<":W=U+W+K+_e;break;case"=":W=U+_e+W+K;break;case"^":W=_e.slice(0,we=_e.length>>1)+U+W+K+_e.slice(we);break;default:W=_e+U+W+K;break}return a(W)}return ee.toString=function(){return p+""},ee}function h(p,v){var g=u((p=Pp(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(td(v)/3)))*3,b=Math.pow(10,-_),E=Nk[8+_/3];return function(S){return g(b*S)+E}}return{format:u,formatPrefix:h}}var jm,sS,O9;ege({thousands:",",grouping:[3],currency:["$",""]});function ege(e){return jm=Qpe(e),sS=jm.format,O9=jm.formatPrefix,jm}function tge(e){return Math.max(0,-td(Math.abs(e)))}function rge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(td(t)/3)))*3-td(Math.abs(e)))}function nge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,td(t)-td(e))+1}function k9(e,t,r,n){var i=M_(e,t,r),a;switch(n=Pp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=rge(i,o))&&(n.precision=a),O9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nge(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tge(i))&&(n.precision=a-(n.type==="%")*2);break}}return sS(n)}function df(e){var t=e.domain;return e.ticks=function(r){var n=t();return D_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return k9(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,h=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);h-- >0;){if(u=j_(o,s,r),u===c)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function N9(){var e=aS();return e.copy=function(){return lg(e,N9())},Gs.apply(e,arguments),df(e)}function P9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Av),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return P9(e).unknown(t)},e=arguments.length?Array.from(e,Av):[0,1],df(r)}function I9(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Pk(e){return Math.log(e)}function Ik(e){return Math.exp(e)}function ige(e){return-Math.log(-e)}function age(e){return-Math.exp(-e)}function oge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sge(e){return e===10?oge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Rk(e){return(t,r)=>-e(-t,r)}function lS(e){const t=e(Pk,Ik),r=t.domain;let n=10,i,a;function o(){return i=lge(n),a=sge(n),r()[0]<0?(i=Rk(i),a=Rk(a),e(ige,age)):e(Pk,Ik),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],h=c[c.length-1];const p=h<u;p&&([u,h]=[h,u]);let v=i(u),g=i(h),_,b;const E=s==null?10:+s;let S=[];if(!(n%1)&&g-v<E){if(v=Math.floor(v),g=Math.ceil(g),u>0){for(;v<=g;++v)for(_=1;_<n;++_)if(b=v<0?_/a(-v):_*a(v),!(b<u)){if(b>h)break;S.push(b)}}else for(;v<=g;++v)for(_=n-1;_>=1;--_)if(b=v>0?_/a(-v):_*a(v),!(b<u)){if(b>h)break;S.push(b)}S.length*2<E&&(S=D_(u,h,E))}else S=D_(v,g,Math.min(g-v,E)).map(a);return p?S.reverse():S},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pp(c)).precision==null&&(c.trim=!0),c=sS(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=u?c(h):""}},t.nice=()=>r(I9(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function R9(){const e=lS(hy()).domain([1,10]);return e.copy=()=>lg(e,R9()).base(e.base()),Gs.apply(e,arguments),e}function Lk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Dk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cS(e){var t=1,r=e(Lk(t),Dk(t));return r.constant=function(n){return arguments.length?e(Lk(t=+n),Dk(t)):t},df(r)}function L9(){var e=cS(hy());return e.copy=function(){return lg(e,L9()).constant(e.constant())},Gs.apply(e,arguments)}function jk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uge(e){return e<0?-e*e:e*e}function uS(e){var t=e(so,so),r=1;function n(){return r===1?e(so,so):r===.5?e(cge,uge):e(jk(r),jk(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},df(t)}function fS(){var e=uS(hy());return e.copy=function(){return lg(e,fS()).exponent(e.exponent())},Gs.apply(e,arguments),e}function fge(){return fS.apply(null,arguments).exponent(.5)}function Mk(e){return Math.sign(e)*e*e}function hge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function D9(){var e=aS(),t=[0,1],r=!1,n;function i(a){var o=hge(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(Mk(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Av)).map(Mk)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return D9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gs.apply(i,arguments),df(i)}function j9(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=mpe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[og(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Hu),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return j9().domain(e).range(t).unknown(n)},Gs.apply(a,arguments)}function M9(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[og(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return M9().domain([e,t]).range(i).unknown(a)},Gs.apply(df(o),arguments)}function F9(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[og(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return F9().domain(e).range(t).unknown(r)},Gs.apply(i,arguments)}const Cb=new Date,Tb=new Date;function ea(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>ea(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Cb.setTime(+a),Tb.setTime(+o),e(Cb),e(Tb),Math.floor(r(Cb,Tb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Tv=ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Tv);Tv.range;const Tc=1e3,Ms=Tc*60,Oc=Ms*60,Hc=Oc*24,hS=Hc*7,Fk=Hc*30,Ob=Hc*365,Hf=ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getUTCSeconds());Hf.range;const dS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tc)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getMinutes());dS.range;const pS=ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCMinutes());pS.range;const gS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tc-e.getMinutes()*Ms)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getHours());gS.range;const mS=ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getUTCHours());mS.range;const cg=ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/Hc,e=>e.getDate()-1);cg.range;const dy=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hc,e=>e.getUTCDate()-1);dy.range;const B9=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hc,e=>Math.floor(e/Hc));B9.range;function Nh(e){return ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/hS)}const py=Nh(0),Ov=Nh(1),dge=Nh(2),pge=Nh(3),rd=Nh(4),gge=Nh(5),mge=Nh(6);py.range;Ov.range;dge.range;pge.range;rd.range;gge.range;mge.range;function Ph(e){return ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hS)}const gy=Ph(0),kv=Ph(1),vge=Ph(2),xge=Ph(3),nd=Ph(4),yge=Ph(5),wge=Ph(6);gy.range;kv.range;vge.range;xge.range;nd.range;yge.range;wge.range;const vS=ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vS.range;const xS=ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xS.range;const Vc=ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vc.range;const qc=ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qc.range;function U9(e,t,r,n,i,a){const o=[[Hf,1,Tc],[Hf,5,5*Tc],[Hf,15,15*Tc],[Hf,30,30*Tc],[a,1,Ms],[a,5,5*Ms],[a,15,15*Ms],[a,30,30*Ms],[i,1,Oc],[i,3,3*Oc],[i,6,6*Oc],[i,12,12*Oc],[n,1,Hc],[n,2,2*Hc],[r,1,hS],[t,1,Fk],[t,3,3*Fk],[e,1,Ob]];function s(u,h,p){const v=h<u;v&&([u,h]=[h,u]);const g=p&&typeof p.range=="function"?p:c(u,h,p),_=g?g.range(u,+h+1):[];return v?_.reverse():_}function c(u,h,p){const v=Math.abs(h-u)/p,g=QE(([,,E])=>E).right(o,v);if(g===o.length)return e.every(M_(u/Ob,h/Ob,p));if(g===0)return Tv.every(Math.max(M_(u,h,p),1));const[_,b]=o[v/o[g-1][2]<o[g][2]/v?g-1:g];return _.every(b)}return[s,c]}const[bge,_ge]=U9(qc,xS,gy,B9,mS,pS),[Ege,Sge]=U9(Vc,vS,py,cg,gS,dS);function kb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Age(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=l1(i),h=c1(i),p=l1(a),v=c1(a),g=l1(o),_=c1(o),b=l1(s),E=c1(s),S=l1(c),T=c1(c),O={a:ke,A:we,b:_e,B:$e,c:null,d:Hk,e:Hk,f:Kge,g:ime,G:ome,H:Vge,I:qge,j:Gge,L:$9,m:Xge,M:Yge,p:We,q:j,Q:Gk,s:Kk,S:Zge,u:Jge,U:Qge,V:eme,w:tme,W:rme,x:null,X:null,y:nme,Y:ame,Z:sme,"%":qk},k={a:Y,A:H,b:X,B:ne,c:null,d:Vk,e:Vk,f:fme,g:bme,G:Eme,H:lme,I:cme,j:ume,L:z9,m:hme,M:dme,p:Oe,q:Ie,Q:Gk,s:Kk,S:pme,u:gme,U:mme,V:vme,w:xme,W:yme,x:null,X:null,y:wme,Y:_me,Z:Sme,"%":qk},D={a:ee,A:W,b:U,B:K,c:oe,d:Wk,e:Wk,f:$ge,g:$k,G:Uk,H:zk,I:zk,j:Mge,L:Uge,m:jge,M:Fge,p:B,q:Dge,Q:zge,s:Hge,S:Bge,u:Nge,U:Pge,V:Ige,w:kge,W:Rge,x:ae,X:Re,y:$k,Y:Uk,Z:Lge,"%":Wge};O.x=z(r,O),O.X=z(n,O),O.c=z(t,O),k.x=z(r,k),k.X=z(n,k),k.c=z(t,k);function z(be,Pe){return function(ze){var Me=[],st=-1,Fe=0,me=be.length,Dt,lt,Ot;for(ze instanceof Date||(ze=new Date(+ze));++st<me;)be.charCodeAt(st)===37&&(Me.push(be.slice(Fe,st)),(lt=Bk[Dt=be.charAt(++st)])!=null?Dt=be.charAt(++st):lt=Dt==="e"?" ":"0",(Ot=Pe[Dt])&&(Dt=Ot(ze,lt)),Me.push(Dt),Fe=st+1);return Me.push(be.slice(Fe,st)),Me.join("")}}function F(be,Pe){return function(ze){var Me=s1(1900,void 0,1),st=q(Me,be,ze+="",0),Fe,me;if(st!=ze.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(Pe&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(Fe=Nb(s1(Me.y,0,1)),me=Fe.getUTCDay(),Fe=me>4||me===0?kv.ceil(Fe):kv(Fe),Fe=dy.offset(Fe,(Me.V-1)*7),Me.y=Fe.getUTCFullYear(),Me.m=Fe.getUTCMonth(),Me.d=Fe.getUTCDate()+(Me.w+6)%7):(Fe=kb(s1(Me.y,0,1)),me=Fe.getDay(),Fe=me>4||me===0?Ov.ceil(Fe):Ov(Fe),Fe=cg.offset(Fe,(Me.V-1)*7),Me.y=Fe.getFullYear(),Me.m=Fe.getMonth(),Me.d=Fe.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),me="Z"in Me?Nb(s1(Me.y,0,1)).getUTCDay():kb(s1(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(me+5)%7:Me.w+Me.U*7-(me+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,Nb(Me)):kb(Me)}}function q(be,Pe,ze,Me){for(var st=0,Fe=Pe.length,me=ze.length,Dt,lt;st<Fe;){if(Me>=me)return-1;if(Dt=Pe.charCodeAt(st++),Dt===37){if(Dt=Pe.charAt(st++),lt=D[Dt in Bk?Pe.charAt(st++):Dt],!lt||(Me=lt(be,ze,Me))<0)return-1}else if(Dt!=ze.charCodeAt(Me++))return-1}return Me}function B(be,Pe,ze){var Me=u.exec(Pe.slice(ze));return Me?(be.p=h.get(Me[0].toLowerCase()),ze+Me[0].length):-1}function ee(be,Pe,ze){var Me=g.exec(Pe.slice(ze));return Me?(be.w=_.get(Me[0].toLowerCase()),ze+Me[0].length):-1}function W(be,Pe,ze){var Me=p.exec(Pe.slice(ze));return Me?(be.w=v.get(Me[0].toLowerCase()),ze+Me[0].length):-1}function U(be,Pe,ze){var Me=S.exec(Pe.slice(ze));return Me?(be.m=T.get(Me[0].toLowerCase()),ze+Me[0].length):-1}function K(be,Pe,ze){var Me=b.exec(Pe.slice(ze));return Me?(be.m=E.get(Me[0].toLowerCase()),ze+Me[0].length):-1}function oe(be,Pe,ze){return q(be,t,Pe,ze)}function ae(be,Pe,ze){return q(be,r,Pe,ze)}function Re(be,Pe,ze){return q(be,n,Pe,ze)}function ke(be){return o[be.getDay()]}function we(be){return a[be.getDay()]}function _e(be){return c[be.getMonth()]}function $e(be){return s[be.getMonth()]}function We(be){return i[+(be.getHours()>=12)]}function j(be){return 1+~~(be.getMonth()/3)}function Y(be){return o[be.getUTCDay()]}function H(be){return a[be.getUTCDay()]}function X(be){return c[be.getUTCMonth()]}function ne(be){return s[be.getUTCMonth()]}function Oe(be){return i[+(be.getUTCHours()>=12)]}function Ie(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Pe=z(be+="",O);return Pe.toString=function(){return be},Pe},parse:function(be){var Pe=F(be+="",!1);return Pe.toString=function(){return be},Pe},utcFormat:function(be){var Pe=z(be+="",k);return Pe.toString=function(){return be},Pe},utcParse:function(be){var Pe=F(be+="",!0);return Pe.toString=function(){return be},Pe}}}var Bk={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,Cge=/^%/,Tge=/[\\^$*+?|[\]().{}]/g;function nn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Oge(e){return e.replace(Tge,"\\$&")}function l1(e){return new RegExp("^(?:"+e.map(Oge).join("|")+")","i")}function c1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kge(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nge(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Pge(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ige(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Rge(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Uk(e,t,r){var n=ha.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $k(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lge(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Dge(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jge(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Wk(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Mge(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zk(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Fge(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Bge(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Uge(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $ge(e,t,r){var n=ha.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wge(e,t,r){var n=Cge.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zge(e,t,r){var n=ha.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Hge(e,t,r){var n=ha.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Hk(e,t){return nn(e.getDate(),t,2)}function Vge(e,t){return nn(e.getHours(),t,2)}function qge(e,t){return nn(e.getHours()%12||12,t,2)}function Gge(e,t){return nn(1+cg.count(Vc(e),e),t,3)}function $9(e,t){return nn(e.getMilliseconds(),t,3)}function Kge(e,t){return $9(e,t)+"000"}function Xge(e,t){return nn(e.getMonth()+1,t,2)}function Yge(e,t){return nn(e.getMinutes(),t,2)}function Zge(e,t){return nn(e.getSeconds(),t,2)}function Jge(e){var t=e.getDay();return t===0?7:t}function Qge(e,t){return nn(py.count(Vc(e)-1,e),t,2)}function W9(e){var t=e.getDay();return t>=4||t===0?rd(e):rd.ceil(e)}function eme(e,t){return e=W9(e),nn(rd.count(Vc(e),e)+(Vc(e).getDay()===4),t,2)}function tme(e){return e.getDay()}function rme(e,t){return nn(Ov.count(Vc(e)-1,e),t,2)}function nme(e,t){return nn(e.getFullYear()%100,t,2)}function ime(e,t){return e=W9(e),nn(e.getFullYear()%100,t,2)}function ame(e,t){return nn(e.getFullYear()%1e4,t,4)}function ome(e,t){var r=e.getDay();return e=r>=4||r===0?rd(e):rd.ceil(e),nn(e.getFullYear()%1e4,t,4)}function sme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nn(t/60|0,"0",2)+nn(t%60,"0",2)}function Vk(e,t){return nn(e.getUTCDate(),t,2)}function lme(e,t){return nn(e.getUTCHours(),t,2)}function cme(e,t){return nn(e.getUTCHours()%12||12,t,2)}function ume(e,t){return nn(1+dy.count(qc(e),e),t,3)}function z9(e,t){return nn(e.getUTCMilliseconds(),t,3)}function fme(e,t){return z9(e,t)+"000"}function hme(e,t){return nn(e.getUTCMonth()+1,t,2)}function dme(e,t){return nn(e.getUTCMinutes(),t,2)}function pme(e,t){return nn(e.getUTCSeconds(),t,2)}function gme(e){var t=e.getUTCDay();return t===0?7:t}function mme(e,t){return nn(gy.count(qc(e)-1,e),t,2)}function H9(e){var t=e.getUTCDay();return t>=4||t===0?nd(e):nd.ceil(e)}function vme(e,t){return e=H9(e),nn(nd.count(qc(e),e)+(qc(e).getUTCDay()===4),t,2)}function xme(e){return e.getUTCDay()}function yme(e,t){return nn(kv.count(qc(e)-1,e),t,2)}function wme(e,t){return nn(e.getUTCFullYear()%100,t,2)}function bme(e,t){return e=H9(e),nn(e.getUTCFullYear()%100,t,2)}function _me(e,t){return nn(e.getUTCFullYear()%1e4,t,4)}function Eme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nd(e):nd.ceil(e),nn(e.getUTCFullYear()%1e4,t,4)}function Sme(){return"+0000"}function qk(){return"%"}function Gk(e){return+e}function Kk(e){return Math.floor(+e/1e3)}var Jh,V9,q9;Ame({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ame(e){return Jh=Age(e),V9=Jh.format,Jh.parse,q9=Jh.utcFormat,Jh.utcParse,Jh}function Cme(e){return new Date(e)}function Tme(e){return e instanceof Date?+e:+new Date(+e)}function yS(e,t,r,n,i,a,o,s,c,u){var h=aS(),p=h.invert,v=h.domain,g=u(".%L"),_=u(":%S"),b=u("%I:%M"),E=u("%I %p"),S=u("%a %d"),T=u("%b %d"),O=u("%B"),k=u("%Y");function D(z){return(c(z)<z?g:s(z)<z?_:o(z)<z?b:a(z)<z?E:n(z)<z?i(z)<z?S:T:r(z)<z?O:k)(z)}return h.invert=function(z){return new Date(p(z))},h.domain=function(z){return arguments.length?v(Array.from(z,Tme)):v().map(Cme)},h.ticks=function(z){var F=v();return e(F[0],F[F.length-1],z??10)},h.tickFormat=function(z,F){return F==null?D:u(F)},h.nice=function(z){var F=v();return(!z||typeof z.range!="function")&&(z=t(F[0],F[F.length-1],z??10)),z?v(I9(F,z)):h},h.copy=function(){return lg(h,yS(e,t,r,n,i,a,o,s,c,u))},h}function Ome(){return Gs.apply(yS(Ege,Sge,Vc,vS,py,cg,gS,dS,Hf,V9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kme(){return Gs.apply(yS(bge,_ge,qc,xS,gy,dy,mS,pS,Hf,q9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function my(){var e=0,t=1,r,n,i,a,o=so,s=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,s?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(s=!!p,u):s},u.interpolator=function(p){return arguments.length?(o=p,u):o};function h(p){return function(v){var g,_;return arguments.length?([g,_]=v,o=p(g,_),u):[o(0),o(1)]}}return u.range=h(Cd),u.rangeRound=h(iS),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function pf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function G9(){var e=df(my()(so));return e.copy=function(){return pf(e,G9())},Jc.apply(e,arguments)}function K9(){var e=lS(my()).domain([1,10]);return e.copy=function(){return pf(e,K9()).base(e.base())},Jc.apply(e,arguments)}function X9(){var e=cS(my());return e.copy=function(){return pf(e,X9()).constant(e.constant())},Jc.apply(e,arguments)}function wS(){var e=uS(my());return e.copy=function(){return pf(e,wS()).exponent(e.exponent())},Jc.apply(e,arguments)}function Nme(){return wS.apply(null,arguments).exponent(.5)}function Y9(){var e=[],t=so;function r(n){if(n!=null&&!isNaN(n=+n))return t((og(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>gpe(e,a/n))},r.copy=function(){return Y9(t).domain(e)},Jc.apply(r,arguments)}function vy(){var e=0,t=.5,r=1,n=1,i,a,o,s,c,u=so,h,p=!1,v;function g(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-a)*(n*b<n*a?s:c),u(p?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,i=h(e=+e),a=h(t=+t),o=h(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(p=!!b,g):p},g.interpolator=function(b){return arguments.length?(u=b,g):u};function _(b){return function(E){var S,T,O;return arguments.length?([S,T,O]=E,u=Wpe(b,[S,T,O]),g):[u(0),u(.5),u(1)]}}return g.range=_(Cd),g.rangeRound=_(iS),g.unknown=function(b){return arguments.length?(v=b,g):v},function(b){return h=b,i=b(e),a=b(t),o=b(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g}}function Z9(){var e=df(vy()(so));return e.copy=function(){return pf(e,Z9())},Jc.apply(e,arguments)}function J9(){var e=lS(vy()).domain([.1,1,10]);return e.copy=function(){return pf(e,J9()).base(e.base())},Jc.apply(e,arguments)}function Q9(){var e=cS(vy());return e.copy=function(){return pf(e,Q9()).constant(e.constant())},Jc.apply(e,arguments)}function bS(){var e=uS(vy());return e.copy=function(){return pf(e,bS()).exponent(e.exponent())},Jc.apply(e,arguments)}function Pme(){return bS.apply(null,arguments).exponent(.5)}const b1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tS,scaleDiverging:Z9,scaleDivergingLog:J9,scaleDivergingPow:bS,scaleDivergingSqrt:Pme,scaleDivergingSymlog:Q9,scaleIdentity:P9,scaleImplicit:F_,scaleLinear:N9,scaleLog:R9,scaleOrdinal:eS,scalePoint:xpe,scalePow:fS,scaleQuantile:j9,scaleQuantize:M9,scaleRadial:D9,scaleSequential:G9,scaleSequentialLog:K9,scaleSequentialPow:wS,scaleSequentialQuantile:Y9,scaleSequentialSqrt:Nme,scaleSequentialSymlog:X9,scaleSqrt:fge,scaleSymlog:L9,scaleThreshold:F9,scaleTime:Ome,scaleUtc:kme,tickFormat:k9},Symbol.toStringTag,{value:"Module"}));var gf=e=>e.chartData,_S=nt([gf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xy=(e,t,r,n)=>n?_S(e):gf(e);function id(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ps(t)&&ps(r))return!0}return!1}function Xk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Ime(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ps(r))i=r;else if(typeof r=="function")return;if(ps(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(id(o))return o}}function Rme(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(id(n))return Xk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(pr(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&zO.test(i)){var c=zO.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(pr(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&HO.test(a)){var h=HO.exec(a);if(h==null||t==null)s=void 0;else{var p=+h[1];s=t[1]+p}}else s=t==null?void 0:t[1];var v=[o,s];if(id(v))return t==null?v:Xk(v,t,r)}}}var Td=1e9,Lme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SS,Xn=!0,zs="[DecimalError] ",eh=zs+"Invalid argument: ",ES=zs+"Exponent out of range: ",Od=Math.floor,Rf=Math.pow,Dme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,as,ia=1e7,Bn=7,eF=9007199254740991,Nv=Od(eF/Bn),Zt={};Zt.absoluteValue=Zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Zt.comparedTo=Zt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Zt.decimalPlaces=Zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Zt.dividedBy=Zt.div=function(e){return Dc(this,new this.constructor(e))};Zt.dividedToIntegerBy=Zt.idiv=function(e){var t=this,r=t.constructor;return Tn(Dc(t,new r(e),0,1),r.precision)};Zt.equals=Zt.eq=function(e){return!this.cmp(e)};Zt.exponent=function(){return Mi(this)};Zt.greaterThan=Zt.gt=function(e){return this.cmp(e)>0};Zt.greaterThanOrEqualTo=Zt.gte=function(e){return this.cmp(e)>=0};Zt.isInteger=Zt.isint=function(){return this.e>this.d.length-2};Zt.isNegative=Zt.isneg=function(){return this.s<0};Zt.isPositive=Zt.ispos=function(){return this.s>0};Zt.isZero=function(){return this.s===0};Zt.lessThan=Zt.lt=function(e){return this.cmp(e)<0};Zt.lessThanOrEqualTo=Zt.lte=function(e){return this.cmp(e)<1};Zt.logarithm=Zt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(as))throw Error(zs+"NaN");if(r.s<1)throw Error(zs+(r.s?"NaN":"-Infinity"));return r.eq(as)?new n(0):(Xn=!1,t=Dc(Ip(r,a),Ip(e,a),a),Xn=!0,Tn(t,i))};Zt.minus=Zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nF(t,e):tF(t,(e.s=-e.s,e))};Zt.modulo=Zt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zs+"NaN");return r.s?(Xn=!1,t=Dc(r,e,0,1).times(e),Xn=!0,r.minus(t)):Tn(new n(r),i)};Zt.naturalExponential=Zt.exp=function(){return rF(this)};Zt.naturalLogarithm=Zt.ln=function(){return Ip(this)};Zt.negated=Zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Zt.plus=Zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tF(t,e):nF(t,(e.s=-e.s,e))};Zt.precision=Zt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eh+e);if(t=Mi(i)+1,n=i.d.length-1,r=n*Bn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Zt.squareRoot=Zt.sqrt=function(){var e,t,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(zs+"NaN")}for(e=Mi(s),Xn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ul(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Od((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Dc(s,a,o+2)).times(.5),Ul(a.d).slice(0,o)===(t=Ul(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Tn(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Xn=!0,Tn(n,r)};Zt.times=Zt.mul=function(e){var t,r,n,i,a,o,s,c,u,h=this,p=h.constructor,v=h.d,g=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,c=v.length,u=g.length,c<u&&(a=v,v=g,g=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+g[n]*v[i-n-1]+t,a[i--]=s%ia|0,t=s/ia|0;a[i]=(a[i]+t)%ia|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xn?Tn(e,p.precision):e};Zt.toDecimalPlaces=Zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ql(e,0,Td),t===void 0?t=n.rounding:ql(t,0,8),Tn(r,e+Mi(r)+1,t))};Zt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ph(n,!0):(ql(e,0,Td),t===void 0?t=i.rounding:ql(t,0,8),n=Tn(new i(n),e+1,t),r=ph(n,!0,e+1)),r};Zt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ph(i):(ql(e,0,Td),t===void 0?t=a.rounding:ql(t,0,8),n=Tn(new a(i),e+Mi(i)+1,t),r=ph(n.abs(),!1,e+Mi(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Zt.toInteger=Zt.toint=function(){var e=this,t=e.constructor;return Tn(new t(e),Mi(e)+1,t.rounding)};Zt.toNumber=function(){return+this};Zt.toPower=Zt.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(as);if(s=new c(s),!s.s){if(e.s<1)throw Error(zs+"Infinity");return s}if(s.eq(as))return s;if(n=c.precision,e.eq(as))return Tn(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=h<0?-h:h)<=eF){for(i=new c(as),t=Math.ceil(n/Bn+4),Xn=!1;r%2&&(i=i.times(s),Zk(i.d,t)),r=Od(r/2),r!==0;)s=s.times(s),Zk(s.d,t);return Xn=!0,e.s<0?new c(as).div(i):Tn(i,n)}}else if(a<0)throw Error(zs+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Xn=!1,i=e.times(Ip(s,n+u)),Xn=!0,i=rF(i),i.s=a,i};Zt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Mi(i),n=ph(i,r<=a.toExpNeg||r>=a.toExpPos)):(ql(e,1,Td),t===void 0?t=a.rounding:ql(t,0,8),i=Tn(new a(i),e,t),r=Mi(i),n=ph(i,e<=r||r<=a.toExpNeg,e)),n};Zt.toSignificantDigits=Zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ql(e,1,Td),t===void 0?t=n.rounding:ql(t,0,8)),Tn(new n(r),e,t)};Zt.toString=Zt.valueOf=Zt.val=Zt.toJSON=Zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mi(e),r=e.constructor;return ph(e,t<=r.toExpNeg||t>=r.toExpPos)};function tF(e,t){var r,n,i,a,o,s,c,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Xn?Tn(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(p/Bn),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ia|0,c[a]%=ia;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Xn?Tn(t,p):t}function ql(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eh+e)}function Ul(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Bn-n.length,r&&(a+=bu(r)),a+=n;o=e[t],n=o+"",r=Bn-n.length,r&&(a+=bu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Dc=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ia|0,o=a/ia|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ia+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,h,p,v,g,_,b,E,S,T,O,k,D,z,F,q,B=n.constructor,ee=n.s==i.s?1:-1,W=n.d,U=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(zs+"Division by zero");for(c=n.e-i.e,F=U.length,D=W.length,g=new B(ee),_=g.d=[],u=0;U[u]==(W[u]||0);)++u;if(U[u]>(W[u]||0)&&--c,a==null?T=a=B.precision:o?T=a+(Mi(n)-Mi(i))+1:T=a,T<0)return new B(0);if(T=T/Bn+2|0,u=0,F==1)for(h=0,U=U[0],T++;(u<D||h)&&T--;u++)O=h*ia+(W[u]||0),_[u]=O/U|0,h=O%U|0;else{for(h=ia/(U[0]+1)|0,h>1&&(U=e(U,h),W=e(W,h),F=U.length,D=W.length),k=F,b=W.slice(0,F),E=b.length;E<F;)b[E++]=0;q=U.slice(),q.unshift(0),z=U[0],U[1]>=ia/2&&++z;do h=0,s=t(U,b,F,E),s<0?(S=b[0],F!=E&&(S=S*ia+(b[1]||0)),h=S/z|0,h>1?(h>=ia&&(h=ia-1),p=e(U,h),v=p.length,E=b.length,s=t(p,b,v,E),s==1&&(h--,r(p,F<v?q:U,v))):(h==0&&(s=h=1),p=U.slice()),v=p.length,v<E&&p.unshift(0),r(b,p,E),s==-1&&(E=b.length,s=t(U,b,F,E),s<1&&(h++,r(b,F<E?q:U,E))),E=b.length):s===0&&(h++,b=[0]),_[u++]=h,s&&b[0]?b[E++]=W[k]||0:(b=[W[k]],E=1);while((k++<D||b[0]!==void 0)&&T--)}return _[0]||_.shift(),g.e=c,Tn(g,o?a+Mi(g)+1:a)}}();function rF(e,t){var r,n,i,a,o,s,c=0,u=0,h=e.constructor,p=h.precision;if(Mi(e)>16)throw Error(ES+Mi(e));if(!e.s)return new h(as);for(Xn=!1,s=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Rf(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new h(as),h.precision=s;;){if(i=Tn(i.times(e),s),r=r.times(++c),o=a.plus(Dc(i,r,s)),Ul(o.d).slice(0,s)===Ul(a.d).slice(0,s)){for(;u--;)a=Tn(a.times(a),s);return h.precision=p,t==null?(Xn=!0,Tn(a,p)):a}a=o}}function Mi(e){for(var t=e.e*Bn,r=e.d[0];r>=10;r/=10)t++;return t}function Pb(e,t,r){if(t>e.LN10.sd())throw Xn=!0,r&&(e.precision=r),Error(zs+"LN10 precision limit exceeded");return Tn(new e(e.LN10),t)}function bu(e){for(var t="";e--;)t+="0";return t}function Ip(e,t){var r,n,i,a,o,s,c,u,h,p=1,v=10,g=e,_=g.d,b=g.constructor,E=b.precision;if(g.s<1)throw Error(zs+(g.s?"NaN":"-Infinity"));if(g.eq(as))return new b(0);if(t==null?(Xn=!1,u=E):u=t,g.eq(10))return t==null&&(Xn=!0),Pb(b,u);if(u+=v,b.precision=u,r=Ul(_),n=r.charAt(0),a=Mi(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ul(g.d),n=r.charAt(0),p++;a=Mi(g),n>1?(g=new b("0."+r),a++):g=new b(n+"."+r.slice(1))}else return c=Pb(b,u+2,E).times(a+""),g=Ip(new b(n+"."+r.slice(1)),u-v).plus(c),b.precision=E,t==null?(Xn=!0,Tn(g,E)):g;for(s=o=g=Dc(g.minus(as),g.plus(as),u),h=Tn(g.times(g),u),i=3;;){if(o=Tn(o.times(h),u),c=s.plus(Dc(o,new b(i),u)),Ul(c.d).slice(0,u)===Ul(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Pb(b,u+2,E).times(a+""))),s=Dc(s,new b(p),u),b.precision=E,t==null?(Xn=!0,Tn(s,E)):s;s=c,i+=2}}function Yk(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Od(r/Bn),e.d=[],n=(r+1)%Bn,r<0&&(n+=Bn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Bn;n<i;)e.d.push(+t.slice(n,n+=Bn));t=t.slice(n),n=Bn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xn&&(e.e>Nv||e.e<-Nv))throw Error(ES+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tn(e,t,r){var n,i,a,o,s,c,u,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Bn,i=t,u=p[h=0];else{if(h=Math.ceil((n+1)/Bn),a=p.length,h>=a)return e;for(u=a=p[h],o=1;a>=10;a/=10)o++;n%=Bn,i=n-Bn+o}if(r!==void 0&&(a=Rf(10,o-i-1),s=u/a%10|0,c=t<0||p[h+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/Rf(10,o-i):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=Mi(e),p.length=1,t=t-a-1,p[0]=Rf(10,(Bn-t%Bn)%Bn),e.e=Od(-t/Bn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=Rf(10,Bn-n),p[h]=i>0?(u/Rf(10,o-i)%Rf(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==ia&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=ia)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(Xn&&(e.e>Nv||e.e<-Nv))throw Error(ES+Mi(e));return e}function nF(e,t){var r,n,i,a,o,s,c,u,h,p,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Xn?Tn(t,g):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(h=o<0,h?(r=c,o=-o,s=p.length):(r=p,n=u,s=c.length),i=Math.max(Math.ceil(g/Bn),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=p.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(r=c,c=p,p=r,t.s=-t.s),s=c.length,i=p.length-s;i>0;--i)c[s++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=ia-1;--c[a],c[i]+=ia}c[i]-=p[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Xn?Tn(t,g):t):new v(0)}function ph(e,t,r){var n,i=Mi(e),a=Ul(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+bu(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+bu(-i-1)+a,r&&(n=r-o)>0&&(a+=bu(n))):i>=o?(a+=bu(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+bu(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=bu(n))),e.s<0?"-"+a:a}function Zk(e,t){if(e.length>t)return e.length=t,!0}function iF(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(eh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Yk(o,a.toString())}else if(typeof a!="string")throw Error(eh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Dme.test(a))Yk(o,a);else throw Error(eh+a)}if(i.prototype=Zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iF,i.config=i.set=jme,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function jme(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,r,n,i=["precision",1,Td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Od(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(eh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eh+r+": "+n);return this}var SS=iF(Lme);as=new SS(1);const gn=SS;var Mme=e=>e,aF={},oF=e=>e===aF,Jk=e=>function t(){return arguments.length===0||arguments.length===1&&oF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sF=(e,t)=>e===1?t:Jk(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==aF).length;return a>=e?t(...n):sF(e-a,Jk(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(h=>oF(h)?s.shift():h);return t(...u,...s)}))}),yy=e=>sF(e.length,e),W_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Fme=yy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Bme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Mme;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,c)=>c(s),a(...arguments))}},z_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),lF=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[s])})||(t=i,r=e(...i)),r}};function cF(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function uF(e,t,r){for(var n=new gn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}yy((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});yy((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});yy((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var fF=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},hF=(e,t,r)=>{if(e.lte(0))return new gn(0);var n=cF(e.toNumber()),i=new gn(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new gn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return t?new gn(c.toNumber()):new gn(Math.ceil(c.toNumber()))},Ume=(e,t,r)=>{var n=new gn(1),i=new gn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new gn(10).pow(cF(e)-1),i=new gn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new gn(Math.floor(e)))}else e===0?i=new gn(Math.floor((t-1)/2)):r||(i=new gn(Math.floor(e)));var o=Math.floor((t-1)/2),s=Bme(Fme(c=>i.add(new gn(c-o).mul(n)).toNumber()),W_);return s(0,t)},dF=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var o=hF(new gn(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new gn(0):(s=new gn(t).add(r).div(2),s=s.sub(new gn(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new gn(r).sub(s).div(o).toNumber()),h=c+u+1;return h>n?dF(t,r,n,i,a+1):(h<n&&(u=r>0?u+(n-h):u,c=r>0?c:c+(n-h)),{step:o,tickMin:s.sub(new gn(c).mul(o)),tickMax:s.add(new gn(u).mul(o))})};function $me(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=fF([t,r]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...W_(0,n-1).map(()=>1/0)]:[...W_(0,n-1).map(()=>-1/0),s];return t>r?z_(c):c}if(o===s)return Ume(o,n,i);var{step:u,tickMin:h,tickMax:p}=dF(o,s,a,i,0),v=uF(h,p.add(new gn(.1).mul(u)),u);return t>r?z_(v):v}function Wme(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=fF([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),c=hF(new gn(o).sub(a).div(s-1),i,0),u=[...uF(new gn(a),new gn(o),c),o];return i===!1&&(u=u.map(h=>Math.round(h))),r>n?z_(u):u}var zme=lF($me),Hme=lF(Wme),pF=e=>e.rootProps.maxBarSize,Vme=e=>e.rootProps.barGap,gF=e=>e.rootProps.barCategoryGap,qme=e=>e.rootProps.barSize,ug=e=>e.rootProps.stackOffset,AS=e=>e.options.chartName,CS=e=>e.rootProps.syncId,mF=e=>e.rootProps.syncMethod,TS=e=>e.options.eventEmitter,_c={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Gme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_c.angleAxisId,includeHidden:!1,name:void 0,reversed:_c.reversed,scale:_c.scale,tick:_c.tick,tickCount:void 0,ticks:void 0,type:_c.type,unit:void 0},Kme={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:es.type,unit:void 0},Xme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_c.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_c.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_c.scale,tick:_c.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yme={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:"category",unit:void 0},OS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Xme:Gme,kS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Yme:Kme,by=e=>e.polarOptions,NS=nt([Yc,Zc,Qi],YM),vF=nt([by,NS],(e,t)=>{if(e!=null)return Xa(e.innerRadius,t,0)}),xF=nt([by,NS],(e,t)=>{if(e!=null)return Xa(e.outerRadius,t,t*.8)}),Zme=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},yF=nt([by],Zme);nt([OS,yF],wy);var wF=nt([NS,vF,xF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});nt([kS,wF],wy);var bF=nt([Zr,by,vF,xF,Yc,Zc],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:Xa(o,i,i/2),cy:Xa(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Zn=(e,t)=>t,fg=(e,t,r)=>r;function PS(e){return e==null?void 0:e.id}var ta=e=>{var t=Zr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},kd=e=>e.tooltip.settings.axisId,da=e=>{var t=ta(e),r=kd(e);return hg(e,t,r)},_F=nt([da],e=>e==null?void 0:e.dataKey);function EF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var h=PS(s);u.forEach((p,v)=>{var g=a==null||i?v:String(Ln(p,a,null)),_=Ln(p,s.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[h]:_}),o.set(g,b)})}}),Array.from(o.values())}function _y(e){return e.stackId!=null&&e.dataKey!=null}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){Jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jme(e,t,r){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qme(e){var t=e2e(e,"string");return typeof t=="symbol"?t:t+""}function e2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H_=[0,"auto"],Ko={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SF=(e,t)=>e.cartesianAxis.xAxis[t],Qc=(e,t)=>{var r=SF(e,t);return r??Ko},Xo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:H_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ng},AF=(e,t)=>e.cartesianAxis.yAxis[t],eu=(e,t)=>{var r=AF(e,t);return r??Xo},t2e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},IS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??t2e},Si=(e,t,r)=>{switch(t){case"xAxis":return Qc(e,r);case"yAxis":return eu(e,r);case"zAxis":return IS(e,r);case"angleAxis":return OS(e,r);case"radiusAxis":return kS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},r2e=(e,t,r)=>{switch(t){case"xAxis":return Qc(e,r);case"yAxis":return eu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hg=(e,t,r)=>{switch(t){case"xAxis":return Qc(e,r);case"yAxis":return eu(e,r);case"angleAxis":return OS(e,r);case"radiusAxis":return kS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},CF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function RS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ey=e=>e.graphicalItems.cartesianItems,n2e=nt([Zn,fg],RS),LS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),dg=nt([Ey,Si,n2e],LS),TF=nt([dg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_y)),OF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kF=nt([dg],OF),DS=e=>e.map(t=>t.data).filter(Boolean).flat(1),i2e=nt([dg],DS),jS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},MS=nt([i2e,xy],jS),FS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ln(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ln(i,n)}))):e.map(n=>({value:n})),Sy=nt([MS,Si,dg],FS);function NF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ih(e){return e.filter(t=>Vl(t)||t instanceof Date).map(Number).filter(t=>hs(t)===!1)}function a2e(e,t,r){return!r||typeof t!="number"||hs(t)?[]:r.length?Ih(r.flatMap(n=>{var i=Ln(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ps(a)||!ps(o)))return[t-a,t+o]})):[]}var o2e=nt([TF,xy,da],EF),PF=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,c=s.map(PS);return[o,{stackedData:pde(e,c,r),graphicalItems:s}]}))},V_=nt([o2e,TF,ug],PF),IF=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=yde(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},s2e=nt([V_,gf,Zn],IF),RF=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var s,c,u=(s=n[o.id])===null||s===void 0?void 0:s.filter(p=>NF(i,p)),h=Ln(a,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:h,errorDomain:a2e(a,h,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ln(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Ay=e=>e.errorBars,LF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>NF(r,n));nt([kF,Ay,Zn],LF);var l2e=nt([MS,Si,kF,Ay,Zn],RF);function c2e(e){var{value:t}=e;if(Vl(t)||t instanceof Date)return t}var eN=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ih(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},u2e=(e,t,r)=>{var n=e.map(c2e).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Oj(n))?y9(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},BS=e=>{var t;if(e==null||!("domain"in e))return H_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ih(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:H_},Iv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},DF=e=>e.referenceElements.dots,Nd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),f2e=nt([DF,Zn,fg],Nd),jF=e=>e.referenceElements.areas,h2e=nt([jF,Zn,fg],Nd),MF=e=>e.referenceElements.lines,d2e=nt([MF,Zn,fg],Nd),FF=(e,t)=>{var r=Ih(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},p2e=nt(f2e,Zn,FF),BF=(e,t)=>{var r=Ih(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},g2e=nt([h2e,Zn],BF),UF=(e,t)=>{var r=Ih(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},m2e=nt(d2e,Zn,UF),v2e=nt(p2e,m2e,g2e,(e,t,r)=>Iv(e,r,t)),$F=nt([Si],BS),US=(e,t,r,n,i,a,o)=>{var s=Ime(t,e.allowDataOverflow);if(s!=null)return s;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=c?Iv(r,i,eN(n)):Iv(i,eN(n));return Rme(t,u,e.allowDataOverflow)},x2e=nt([Si,$F,s2e,l2e,v2e,Zr,Zn],US),y2e=[0,1],$S=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=ff(t,a);return u&&s==null?y9(0,r.length):c==="category"?u2e(n,e,u):i==="expand"?y2e:o}},WS=nt([Si,Zr,MS,Sy,ug,Zn,x2e],$S),WF=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Qp(a));return s in b1?s:"point"}}},Pd=nt([Si,Zr,CF,AS,Zn],WF);function w2e(e){if(e!=null){if(e in b1)return b1[e]();var t="scale".concat(Qp(e));if(t in b1)return b1[t]()}}function zS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=w2e(t);if(i!=null){var a=i.domain(r).range(n);return cde(a),a}}}var HS=(e,t,r)=>{var n=BS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&id(e))return zme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&id(e))return Hme(e,t.tickCount,t.allowDecimals)}},VS=nt([WS,hg,Pd],HS),qS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&id(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},b2e=nt([Si,WS,VS,Zn],qS),_2e=nt(Sy,Si,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ih(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),zF=nt(_2e,Zr,gF,Qi,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!ps(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Xa(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),E2e=(e,t)=>{var r=Qc(e,t);return r==null||typeof r.padding!="string"?0:zF(e,"xAxis",t,r.padding)},S2e=(e,t)=>{var r=eu(e,t);return r==null||typeof r.padding!="string"?0:zF(e,"yAxis",t,r.padding)},A2e=nt(Qc,E2e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),C2e=nt(eu,S2e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),T2e=nt([Qi,A2e,uy,cy,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),O2e=nt([Qi,Zr,C2e,uy,cy,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pg=(e,t,r,n)=>{var i;switch(t){case"xAxis":return T2e(e,r,n);case"yAxis":return O2e(e,r,n);case"zAxis":return(i=IS(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return yF(e);case"radiusAxis":return wF(e,r);default:return}},HF=nt([Si,pg],wy),Id=nt([Si,Pd,b2e,HF],zS);nt([dg,Ay,Zn],LF);function VF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cy=(e,t)=>t,Ty=(e,t,r)=>r,k2e=nt(sy,Cy,Ty,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VF)),N2e=nt(ly,Cy,Ty,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VF)),qF=(e,t)=>({width:e.width,height:t.height}),P2e=(e,t)=>{var r=typeof t.width=="number"?t.width:ng;return{width:r,height:e.height}},GF=nt(Qi,Qc,qF),I2e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},R2e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},L2e=nt(Zc,Qi,k2e,Cy,Ty,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=qF(t,s);o==null&&(o=I2e(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),D2e=nt(Yc,Qi,N2e,Cy,Ty,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=P2e(t,s);o==null&&(o=R2e(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),j2e=(e,t)=>{var r=Qc(e,t);if(r!=null)return L2e(e,r.orientation,r.mirror)},M2e=nt([Qi,Qc,j2e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),F2e=(e,t)=>{var r=eu(e,t);if(r!=null)return D2e(e,r.orientation,r.mirror)},B2e=nt([Qi,eu,F2e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),KF=nt(Qi,eu,(e,t)=>{var r=typeof t.width=="number"?t.width:ng;return{width:r,height:e.height}}),tN=(e,t,r)=>{switch(t){case"xAxis":return GF(e,r).width;case"yAxis":return KF(e,r).height;default:return}},XF=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=ff(e,n),c=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&Oj(c))return c}},GS=nt([Zr,Sy,Si,Zn],XF),YF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=ff(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},KS=nt([Zr,Sy,hg,Zn],YF),rN=nt([Zr,r2e,Pd,Id,GS,KS,pg,VS,Zn],(e,t,r,n,i,a,o,s,c)=>{if(t==null)return null;var u=ff(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}),U2e=(e,t,r,n,i,a,o,s,c)=>{if(!(t==null||n==null)){var u=ff(e,c),{type:h,ticks:p,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/g:0;_=c==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*_:_;var b=p||i;if(b){var E=b.map((S,T)=>{var O=o?o.indexOf(S):S;return{index:T,coordinate:n(O)+_,value:S,offset:_}});return E.filter(S=>!hs(S.coordinate))}return u&&s?s.map((S,T)=>({coordinate:n(S)+_,value:S,index:T,offset:_})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+_,value:S,offset:_})):n.domain().map((S,T)=>({coordinate:n(S)+_,value:o?o[S]:S,index:T,offset:_}))}},ZF=nt([Zr,hg,Pd,Id,VS,pg,GS,KS,Zn],U2e),$2e=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=ff(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ua(n[0]-n[1])*2*u:u,s&&a?a.map((h,p)=>({coordinate:r(h)+u,value:h,index:p,offset:u})):r.ticks?r.ticks(c).map(h=>({coordinate:r(h)+u,value:h,offset:u})):r.domain().map((h,p)=>({coordinate:r(h)+u,value:i?i[h]:h,index:p,offset:u}))}},Ju=nt([Zr,hg,Id,pg,GS,KS,Zn],$2e),Qu=nt(Si,Id,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})}),W2e=nt([Si,Pd,WS,HF],zS);nt((e,t,r)=>IS(e,r),W2e,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})});var z2e=nt([Zr,sy,ly],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JF=e=>e.options.defaultTooltipEventType,QF=e=>e.options.validateTooltipEventTypes;function eB(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function XS(e,t){var r=JF(e),n=QF(e);return eB(t,r,n)}function H2e(e){return ar(t=>XS(t,e))}var tB=(e,t)=>{var r,n=Number(t);if(!(hs(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},V2e=e=>e.tooltip.settings,Cu={active:!1,index:null,dataKey:void 0,coordinate:void 0},q2e={itemInteraction:{click:Cu,hover:Cu},axisInteraction:{click:Cu,hover:Cu},keyboardInteraction:Cu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rB=vs({name:"tooltip",initialState:q2e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Lc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:G2e,removeTooltipEntrySettings:K2e,setTooltipSettingsState:X2e,setActiveMouseOverItemIndex:nB,mouseLeaveItem:Y2e,mouseLeaveChart:iB,setActiveClickItemIndex:Z2e,setMouseOverAxisIndex:aB,setMouseClickAxisIndex:J2e,setSyncInteraction:q_,setKeyboardInteraction:G_}=rB.actions,Q2e=rB.reducer;function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){eve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eve(e,t,r){return(t=tve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e){var t=rve(e,"string");return typeof t=="symbol"?t:t+""}function rve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nve(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ive(e){return e.index!=null}var oB=(e,t,r,n)=>{if(t==null)return Cu;var i=nve(e,t,r);if(i==null)return Cu;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ive(i)){if(a)return Mm(Mm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Mm(Mm({},Cu),{},{coordinate:i.coordinate})},YS=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ps(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},sB=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,a);if(u!=null)return u;var h=i==null?void 0:i[Number(a)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},lB=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},gg=e=>e.options.tooltipPayloadSearcher,Rd=e=>e.tooltip;function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ave(e,t,r){return(t=ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=sve(e,"string");return typeof t=="symbol"?t:t+""}function sve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lve(e,t){return e??t}var cB=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:h}=r,p=[];return e.reduce((v,g)=>{var _,{dataDefinedOnItem:b,settings:E}=g,S=lve(b,s),T=Array.isArray(S)?ZM(S,u,h):S,O=(_=E==null?void 0:E.dataKey)!==null&&_!==void 0?_:n,k=E==null?void 0:E.nameKey,D;if(n&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?D=kj(T,n,i):D=a(T,t,c,k),Array.isArray(D))D.forEach(F=>{var q=aN(aN({},E),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});v.push(VO({tooltipEntrySettings:q,dataKey:F.dataKey,payload:F.payload,value:Ln(F.payload,F.dataKey),name:F.name}))});else{var z;v.push(VO({tooltipEntrySettings:E,dataKey:O,payload:D,value:Ln(D,O),name:(z=Ln(D,k))!==null&&z!==void 0?z:E==null?void 0:E.name}))}return v},p)}},ZS=nt([da,Zr,CF,AS,ta],WF),cve=nt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uve=nt([ta,kd],RS),mg=nt([cve,da,uve],LS),fve=nt([mg],e=>e.filter(_y)),hve=nt([mg],DS),Ld=nt([hve,gf],jS),dve=nt([fve,gf,da],EF),JS=nt([Ld,da,mg],FS),pve=nt([da],BS),gve=nt([mg],e=>e.filter(_y)),mve=nt([dve,gve,ug],PF),vve=nt([mve,gf,ta],IF),xve=nt([mg],OF),yve=nt([Ld,da,xve,Ay,ta],RF),wve=nt([DF,ta,kd],Nd),bve=nt([wve,ta],FF),_ve=nt([jF,ta,kd],Nd),Eve=nt([_ve,ta],BF),Sve=nt([MF,ta,kd],Nd),Ave=nt([Sve,ta],UF),Cve=nt([bve,Ave,Eve],Iv),Tve=nt([da,pve,vve,yve,Cve,Zr,ta],US),uB=nt([da,Zr,Ld,JS,ug,ta,Tve],$S),Ove=nt([uB,da,ZS],HS),kve=nt([da,uB,Ove,ta],qS),fB=e=>{var t=ta(e),r=kd(e),n=!1;return pg(e,t,r,n)},hB=nt([da,fB],wy),dB=nt([da,ZS,kve,hB],zS),Nve=nt([Zr,JS,da,ta],XF),Pve=nt([Zr,JS,da,ta],YF),Ive=(e,t,r,n,i,a,o,s)=>{if(t){var{type:c}=t,u=ff(e,s);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ua(i[0]-i[1])*2*p:p,u&&o?o.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:a?a[v]:v,index:g,offset:p}))}}},tu=nt([Zr,da,ZS,dB,fB,Nve,Pve,ta],Ive),QS=nt([JF,QF,V2e],(e,t,r)=>eB(r.shared,e,t)),pB=e=>e.tooltip.settings.trigger,eA=e=>e.tooltip.settings.defaultIndex,Oy=nt([Rd,QS,pB,eA],oB),ef=nt([Oy,Ld],YS),gB=nt([tu,ef],tB),mB=nt([Oy],e=>{if(e)return e.dataKey}),vB=nt([Rd,QS,pB,eA],lB),Rve=nt([Yc,Zc,Zr,Qi,tu,eA,vB,gg],sB),Lve=nt([Oy,Rve],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dve=nt([Oy],e=>e.active),jve=nt([vB,ef,gf,_F,gB,gg,QS],cB),Mve=nt([jve],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t,r){return(t=Bve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bve(e){var t=Uve(e,"string");return typeof t=="symbol"?t:t+""}function Uve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ve=()=>ar(da),Wve=()=>{var e=$ve(),t=ar(tu),r=ar(dB);return Ap(sN(sN({},e),{},{scale:r}),t)},zve=()=>ar(AS),tA=(e,t)=>t,xB=(e,t,r)=>r,rA=(e,t,r,n)=>n,Hve=nt(tu,e=>ty(e,t=>t.coordinate)),nA=nt([Rd,tA,xB,rA],oB),yB=nt([nA,Ld],YS),Vve=(e,t,r)=>{if(t!=null){var n=Rd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},wB=nt([Rd,tA,xB,rA],lB),Rv=nt([Yc,Zc,Zr,Qi,tu,rA,wB,gg],sB),qve=nt([nA,Rv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),bB=nt(tu,yB,tB),Gve=nt([wB,yB,gf,_F,bB,gg,tA],cB),Kve=nt([nA],e=>({isActive:e.active,activeIndex:e.index})),Xve=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var c=wde(e.chartX,e.chartY,t,r,s);if(c){var u=_de(c,t),h=sde(u,o,a,n,i),p=bde(t,a,h,c);return{activeIndex:String(h),activeCoordinate:p}}}};function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(null,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){Yve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yve(e,t,r){return(t=Zve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zve(e){var t=Jve(e,"string");return typeof t=="symbol"?t:t+""}function Jve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qve(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:u}=e,h=t,p=r,v=n;if(!s||!h||u!=="ScatterChart"&&c!=="axis")return null;var g,_;if(u==="ScatterChart")g=h,_=_1e;else if(u==="BarChart")g=E1e(o,h,i,a),_=h9;else if(o==="radial"){var{cx:b,cy:E,radius:S,startAngle:T,endAngle:O}=d9(h);g={cx:b,cy:E,startAngle:T,endAngle:O,innerRadius:S,outerRadius:S},_=g9}else g={points:rpe(o,h,i)},_=JE;var k=typeof s=="object"&&"className"in s?s.className:void 0,D=Fm(Fm(Fm(Fm({stroke:"#ccc",pointerEvents:"none"},i),g),ii(s,!1)),{},{payload:p,payloadIndex:v,className:rn("recharts-tooltip-cursor",k)});return L.isValidElement(s)?L.cloneElement(s,D):L.createElement(_,D)}function exe(e){var t=Wve(),r=n9(),n=fy(),i=zve();return L.createElement(Qve,K_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var _B=L.createContext(null),txe=()=>L.useContext(_B),EB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||c,v),_=r?r+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],g]:c._events[_].push(g):(c._events[_]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)t.call(h,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},s.prototype.listeners=function(u){var h=r?r+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,_=new Array(g);v<g;v++)_[v]=p[v].fn;return _},s.prototype.listenerCount=function(u){var h=r?r+u:u,p=this._events[h];return p?p.fn?1:p.length:0},s.prototype.emit=function(u,h,p,v,g,_){var b=r?r+u:u;if(!this._events[b])return!1;var E=this._events[b],S=arguments.length,T,O;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,v),!0;case 5:return E.fn.call(E.context,h,p,v,g),!0;case 6:return E.fn.call(E.context,h,p,v,g,_),!0}for(O=1,T=new Array(S-1);O<S;O++)T[O-1]=arguments[O];E.fn.apply(E.context,T)}else{var k=E.length,D;for(O=0;O<k;O++)switch(E[O].once&&this.removeListener(u,E[O].fn,void 0,!0),S){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,h);break;case 3:E[O].fn.call(E[O].context,h,p);break;case 4:E[O].fn.call(E[O].context,h,p,v);break;default:if(!T)for(D=1,T=new Array(S-1);D<S;D++)T[D-1]=arguments[D];E[O].fn.apply(E[O].context,T)}}return!0},s.prototype.on=function(u,h,p){return a(this,u,h,p,!1)},s.prototype.once=function(u,h,p){return a(this,u,h,p,!0)},s.prototype.removeListener=function(u,h,p,v){var g=r?r+u:u;if(!this._events[g])return this;if(!h)return o(this,g),this;var _=this._events[g];if(_.fn)_.fn===h&&(!v||_.once)&&(!p||_.context===p)&&o(this,g);else{for(var b=0,E=[],S=_.length;b<S;b++)(_[b].fn!==h||v&&!_[b].once||p&&_[b].context!==p)&&E.push(_[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(EB);var rxe=EB.exports;const nxe=bl(rxe);var Rp=new nxe,X_="recharts.syncEvent.tooltip",cN="recharts.syncEvent.brush";function iA(e,t){if(t){var r=Number.parseInt(t,10);if(!hs(r))return e==null?void 0:e[r]}}var ixe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},SB=vs({name:"options",initialState:ixe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),axe=SB.reducer,{createEventEmitter:oxe}=SB.actions;function sxe(e){return e.tooltip.syncInteraction}var lxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AB=vs({name:"chartData",initialState:lxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:uN,setDataStartEndIndexes:cxe,setComputedData:lEe}=AB.actions,uxe=AB.reducer,fxe=["x","y"];function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t,r){return(t=dxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e,t){if(e==null)return{};var r,n,i=mxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CB=()=>{};function vxe(){var e=ar(CS),t=ar(TS),r=ai(),n=ar(mF),i=ar(tu),a=fy(),o=KE(),s=ar(c=>c.rootProps.className);L.useEffect(()=>{if(e==null)return CB;var c=(u,h,p)=>{if(t!==p&&e===u){if(n==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var g=h.payload.coordinate,{x:_,y:b}=g,E=gxe(g,fxe),S=Cf(Cf(Cf({},E),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof b=="number"&&{y:Math.max(o.y,Math.min(b,o.y+o.height))}),T=Cf(Cf({},h),{},{payload:Cf(Cf({},h.payload),{},{coordinate:S})});r(T)}else r(h);return}if(i!=null){var O;if(typeof n=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},D=n(i,k);O=i[D]}else n==="value"&&(O=i.find(K=>String(K.value)===h.payload.label));var{coordinate:z}=h.payload;if(O==null||h.payload.active===!1||z==null||o==null){r(q_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:F,y:q}=z,B=Math.min(F,o.x+o.width),ee=Math.min(q,o.y+o.height),W={x:a==="horizontal"?O.coordinate:B,y:a==="horizontal"?ee:O.coordinate},U=q_({active:h.payload.active,coordinate:W,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});r(U)}}};return Rp.on(X_,c),()=>{Rp.off(X_,c)}},[s,r,t,e,n,i,a,o])}function xxe(){var e=ar(CS),t=ar(TS),r=ai();L.useEffect(()=>{if(e==null)return CB;var n=(i,a,o)=>{t!==o&&e===i&&r(cxe(a))};return Rp.on(cN,n),()=>{Rp.off(cN,n)}},[r,t,e])}function yxe(){var e=ai();L.useEffect(()=>{e(oxe())},[e]),vxe(),xxe()}function wxe(e,t,r,n,i,a){var o=ar(v=>Vve(v,e,t)),s=ar(TS),c=ar(CS),u=ar(mF),h=ar(sxe),p=h==null?void 0:h.active;L.useEffect(()=>{if(!p&&c!=null&&s!=null){var v=q_({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Rp.emit(X_,c,v,s)}},[p,r,o,i,n,s,c,u,a])}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){bxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Exe(e,"string");return typeof t=="symbol"?t:t+""}function Exe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sxe(e){return e.dataKey}function Axe(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(e1e,t)}var pN=[],Cxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function u1(e){var t=Ra(e,Cxe),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:u,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:_,cursor:b,shared:E,trigger:S,defaultIndex:T,portal:O,axisId:k}=t,D=ai(),z=typeof T=="number"?String(T):T;L.useEffect(()=>{D(X2e({shared:E,trigger:S,axisId:k,active:r,defaultIndex:z}))},[D,E,S,k,r,z]);var F=KE(),q=s9(),B=H2e(E),{activeIndex:ee,isActive:W}=ar(X=>Kve(X,B,S,z)),U=ar(X=>Gve(X,B,S,z)),K=ar(X=>bB(X,B,S,z)),oe=ar(X=>qve(X,B,S,z)),ae=U,Re=txe(),ke=r??W,[we,_e]=AM([ae,ke]),$e=B==="axis"?K:void 0;wxe(B,S,oe,$e,ee,ke);var We=O??Re;if(We==null)return null;var j=ae??pN;ke||(j=pN),s&&j.length&&(j=dM(ae.filter(X=>X.value!=null&&(X.hide!==!0||t.includeHidden)),h,Sxe));var Y=j.length>0,H=L.createElement(s1e,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:ke,coordinate:oe,hasPayload:Y,offset:u,position:p,reverseDirection:v,useTranslate3d:g,viewBox:F,wrapperStyle:_,lastBoundingBox:we,innerRef:_e,hasPortalFromProps:!!O},Axe(o,dN(dN({},t),{},{payload:j,label:$e,active:ke,coordinate:oe,accessibilityLayer:q})));return L.createElement(L.Fragment,null,n4.createPortal(H,We),ke&&L.createElement(exe,{cursor:b,tooltipEventType:B,coordinate:oe,payload:ae,index:ee}))}var TB={},OB={},kB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),h=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},p=()=>{u&&h(),b()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{_(),o=void 0,s=null},E=()=>{h()},S=function(...T){if(i!=null&&i.aborted)return;o=this,s=T;const O=v==null;g(),c&&O&&h()};return S.schedule=g,S.cancel=b,S.flush=E,i==null||i.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(kB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kB;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let h,p=null;const v=t.debounce(function(...b){h=n.apply(this,b),p=null},i,{edges:u}),g=function(...b){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=n.apply(this,b),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},_=()=>(v.flush(),h);return g.cancel=v.cancel,g.flush=_,g}e.debounce=r})(OB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OB;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(TB);var Txe=TB.throttle;const Oxe=bl(Txe);var H1=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kxe(e,t,r){return(t=Nxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nxe(e){var t=Pxe(e,"string");return typeof t=="symbol"?t:t+""}function Pxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f1=L.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:h=0,id:p,className:v,onResize:g,style:_={}}=e,b=L.useRef(null),E=L.useRef();E.current=g,L.useImperativeHandle(t,()=>b.current);var[S,T]=L.useState({containerWidth:n.width,containerHeight:n.height}),O=L.useCallback((D,z)=>{T(F=>{var q=Math.round(D),B=Math.round(z);return F.containerWidth===q&&F.containerHeight===B?F:{containerWidth:q,containerHeight:B}})},[]);L.useEffect(()=>{var D=B=>{var ee,{width:W,height:U}=B[0].contentRect;O(W,U),(ee=E.current)===null||ee===void 0||ee.call(E,W,U)};h>0&&(D=Oxe(D,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),{width:F,height:q}=b.current.getBoundingClientRect();return O(F,q),z.observe(b.current),()=>{z.disconnect()}},[O,h]);var k=L.useMemo(()=>{var{containerWidth:D,containerHeight:z}=S;if(D<0||z<0)return null;H1(Wf(i)||Wf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),H1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Wf(i)?D:i,q=Wf(a)?z:a;return r&&r>0&&(F?q=F/r:q&&(F=q*r),c&&q>c&&(q=c)),H1(F>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,q,i,a,o,s,r),L.Children.map(u,B=>L.cloneElement(B,{width:F,height:q,style:Ib({width:F,height:q},B.props.style)}))},[r,u,a,c,s,o,S,i]);return L.createElement("div",{id:p?"".concat(p):void 0,className:rn("recharts-responsive-container",v),style:Ib(Ib({},_),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:b},L.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),ad=e=>null;ad.displayName="Cell";function Ixe(e,t,r){return(t=Rxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rxe(e){var t=Lxe(e,"string");return typeof t=="symbol"?t:t+""}function Lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dxe{constructor(t){Ixe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Mxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mxe(e,t,r){return(t=Fxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fxe(e){var t=Bxe(e,"string");return typeof t=="symbol"?t:t+""}function Bxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uxe={cacheSize:2e3,enableCache:!0},NB=jxe({},Uxe),vN=new Dxe(NB.cacheSize),$xe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xN="recharts_measurement_span";function Wxe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var yN=(e,t)=>{try{var r=document.getElementById(xN);r||(r=document.createElement("span"),r.setAttribute("id",xN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,$xe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},V1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hf.isSsr)return{width:0,height:0};if(!NB.enableCache)return yN(t,r);var n=Wxe(t,r),i=vN.get(n);if(i)return i;var a=yN(t,r);return vN.set(n,a),a},wN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vxe=Object.keys(PB),x0="NaN";function qxe(e,t){return e*PB[t]}class yo{static parse(t){var r,[,n,i]=(r=Hxe.exec(t))!==null&&r!==void 0?r:[];return new yo(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hs(t)&&(this.unit=""),r!==""&&!zxe.test(r)&&(this.num=NaN,this.unit=""),Vxe.includes(r)&&(this.num=qxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new yo(NaN,""):new yo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yo(NaN,""):new yo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yo(NaN,""):new yo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yo(NaN,""):new yo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hs(this.num)}}function IB(e){if(e.includes(x0))return x0;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=wN.exec(t))!==null&&r!==void 0?r:[],o=yo.parse(n??""),s=yo.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return x0;t=t.replace(wN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,h,p,v]=(u=bN.exec(t))!==null&&u!==void 0?u:[],g=yo.parse(h??""),_=yo.parse(v??""),b=p==="+"?g.add(_):g.subtract(_);if(b.isNaN())return x0;t=t.replace(bN,b.toString())}return t}var _N=/\(([^()]*)\)/;function Gxe(e){for(var t=e,r;(r=_N.exec(t))!=null;){var[,n]=r;t=t.replace(_N,IB(n))}return t}function Kxe(e){var t=e.replace(/\s+/g,"");return t=Gxe(t),t=IB(t),t}function Xxe(e){try{return Kxe(e)}catch{return x0}}function Rb(e){var t=Xxe(e.slice(5,-1));return t===x0?"":t}var Yxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zxe=["dx","dy","angle","className","breakAll"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(null,arguments)}function EN(e,t){if(e==null)return{};var r,n,i=Jxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RB=/[ \f\n\r\t\v\u2028\u2029]+/,LB=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Yn(t)||(r?i=t.toString().split(""):i=t.toString().split(RB));var a=i.map(s=>({word:s,width:V1(s,n).width})),o=r?0:V1("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Qxe=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=e,u=pr(a),h=o,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((U,K)=>{var{word:oe,width:ae}=K,Re=U[U.length-1];if(Re&&(n==null||i||Re.width+ae+r<Number(n)))Re.words.push(oe),Re.width+=ae+r;else{var ke={words:[oe],width:ae};U.push(ke)}return U},[])},v=p(t),g=ee=>ee.reduce((W,U)=>W.width>U.width?W:U);if(!u||i)return v;var _=v.length>a||g(v).width>Number(n);if(!_)return v;for(var b="",E=ee=>{var W=h.slice(0,ee),U=LB({breakAll:c,style:s,children:W+b}).wordsWithComputedWidth,K=p(U),oe=K.length>a||g(K).width>Number(n);return[oe,K]},S=0,T=h.length-1,O=0,k;S<=T&&O<=h.length-1;){var D=Math.floor((S+T)/2),z=D-1,[F,q]=E(z),[B]=E(D);if(!F&&!B&&(S=D+1),F&&B&&(T=D-1),!F&&B){k=q;break}O++}return k||v},SN=e=>{var t=Yn(e)?[]:e.toString().split(RB);return[{words:t}]},eye=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!hf.isSsr){var s,c,u=LB({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:h,spaceWidth:p}=u;s=h,c=p}else return SN(n);return Qxe({breakAll:a,children:n,maxLines:o,style:i},s,c,t,r)}return SN(n)},AN="#808080",ky=L.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:u=AN}=e,h=EN(e,Yxe),p=L.useMemo(()=>eye({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:g,angle:_,className:b,breakAll:E}=h,S=EN(h,Zxe);if(!Vl(r)||!Vl(n)||p.length===0)return null;var T=r+(pr(v)?v:0),O=n+(pr(g)?g:0),k;switch(c){case"start":k=Rb("calc(".concat(a,")"));break;case"middle":k=Rb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:k=Rb("calc(".concat(p.length-1," * -").concat(i,")"));break}var D=[];if(o){var z=p[0].width,{width:F}=h;D.push("scale(".concat(pr(F)?F/z:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(T,", ").concat(O,")")),D.length&&(S.transform=D.join(" ")),L.createElement("text",Y_({},ii(S,!0),{ref:t,x:T,y:O,className:rn("recharts-text",b),textAnchor:s,fill:u.includes("url")?AN:u}),p.map((q,B)=>{var ee=q.words.join(E?"":" ");return L.createElement("tspan",{x:T,dy:B===0?k:i,key:"".concat(ee,"-").concat(B)},ee)}))});ky.displayName="Text";var tye=["labelRef"];function rye(e,t){if(e==null)return{};var r,n,i=nye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iye(e,t,r){return(t=aye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aye(e){var t=oye(e,"string");return typeof t=="symbol"?t:t+""}function oye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(null,arguments)}var DB=L.createContext(null),sye=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=L.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return L.createElement(DB.Provider,{value:o},a)},jB=()=>{var e=L.useContext(DB),t=KE();return e||t},lye=L.createContext(null),cye=()=>{var e=L.useContext(lye),t=ar(bF);return e||t},uye=e=>{var{value:t,formatter:r}=e,n=Yn(e.children)?t:e.children;return typeof r=="function"?r(n):n},aA=e=>e!=null&&typeof e=="function",fye=(e,t)=>{var r=ua(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hye=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:h,startAngle:p,endAngle:v,clockWise:g}=i,_=(u+h)/2,b=fye(p,v),E=b>=0?1:-1,S,T;switch(t){case"insideStart":S=p+E*a,T=g;break;case"insideEnd":S=v-E*a,T=!g;break;case"end":S=v+E*a,T=g;break;default:throw new Error("Unsupported position ".concat(t))}T=b<=0?T:!T;var O=Di(s,c,_,S),k=Di(s,c,_,S+(T?1:-1)*359),D="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),z=Yn(e.id)?_p("recharts-radial-line-"):e.id;return L.createElement("text",Ec({},n,{dominantBaseline:"central",className:rn("recharts-radial-bar-label",o)}),L.createElement("defs",null,L.createElement("path",{id:z,d:D})),L.createElement("textPath",{xlinkHref:"#".concat(z)},r))},dye=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:h,y:p}=Di(n,i,o+t,u);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:g,y:_}=Di(n,i,v,u);return{x:g,y:_,textAnchor:"middle",verticalAnchor:"middle"}},MB=e=>"cx"in e&&pr(e.cx),pye=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!MB(r)&&(a=r);var{x:o,y:s,width:c,height:u}=t,h=u>=0?1:-1,p=h*n,v=h>0?"end":"start",g=h>0?"start":"end",_=c>=0?1:-1,b=_*n,E=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var T={x:o+c/2,y:s-h*n,textAnchor:"middle",verticalAnchor:v};return xi(xi({},T),a?{height:Math.max(s-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:s+u+p,textAnchor:"middle",verticalAnchor:g};return xi(xi({},O),a?{height:Math.max(a.y+a.height-(s+u),0),width:c}:{})}if(i==="left"){var k={x:o-b,y:s+u/2,textAnchor:E,verticalAnchor:"middle"};return xi(xi({},k),a?{width:Math.max(k.x-a.x,0),height:u}:{})}if(i==="right"){var D={x:o+c+b,y:s+u/2,textAnchor:S,verticalAnchor:"middle"};return xi(xi({},D),a?{width:Math.max(a.x+a.width-D.x,0),height:u}:{})}var z=a?{width:c,height:u}:{};return i==="insideLeft"?xi({x:o+b,y:s+u/2,textAnchor:S,verticalAnchor:"middle"},z):i==="insideRight"?xi({x:o+c-b,y:s+u/2,textAnchor:E,verticalAnchor:"middle"},z):i==="insideTop"?xi({x:o+c/2,y:s+p,textAnchor:"middle",verticalAnchor:g},z):i==="insideBottom"?xi({x:o+c/2,y:s+u-p,textAnchor:"middle",verticalAnchor:v},z):i==="insideTopLeft"?xi({x:o+b,y:s+p,textAnchor:S,verticalAnchor:g},z):i==="insideTopRight"?xi({x:o+c-b,y:s+p,textAnchor:E,verticalAnchor:g},z):i==="insideBottomLeft"?xi({x:o+b,y:s+u-p,textAnchor:S,verticalAnchor:v},z):i==="insideBottomRight"?xi({x:o+c-b,y:s+u-p,textAnchor:E,verticalAnchor:v},z):i&&typeof i=="object"&&(pr(i.x)||Wf(i.x))&&(pr(i.y)||Wf(i.y))?xi({x:o+Xa(i.x,c),y:s+Xa(i.y,u),textAnchor:"end",verticalAnchor:"end"},z):xi({x:o+c/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},z)},gye={offset:5};function _u(e){var t=Ra(e,gye),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:c,labelRef:u}=t,h=cye(),p=jB(),v=n==="center"?p:h??p,g=r||v;if(!g||Yn(i)&&Yn(a)&&!L.isValidElement(o)&&typeof o!="function")return null;var _=xi(xi({},t),{},{viewBox:g});if(L.isValidElement(o)){var{labelRef:b}=_,E=rye(_,tye);return L.cloneElement(o,E)}var S;if(typeof o=="function"){if(S=L.createElement(o,_),L.isValidElement(S))return S}else S=uye(t);var T=MB(g),O=ii(t,!0);if(T&&(n==="insideStart"||n==="insideEnd"||n==="end"))return hye(t,n,S,O,g);var k=T?dye(g,t.offset,t.position):pye(t,g);return L.createElement(ky,Ec({ref:u,className:rn("recharts-label",s)},O,k,{breakAll:c}),S)}_u.displayName="Label";var mye=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?L.createElement(_u,Ec({key:"label-implicit"},n)):Vl(e)?L.createElement(_u,Ec({key:"label-implicit",value:e},n)):L.isValidElement(e)?e.type===_u?L.cloneElement(e,xi({key:"label-implicit"},n)):L.createElement(_u,Ec({key:"label-implicit",content:e},n)):aA(e)?L.createElement(_u,Ec({key:"label-implicit",content:e},n)):e&&typeof e=="object"?L.createElement(_u,Ec({},e,{key:"label-implicit"},n)):null};function vye(e){var{label:t}=e,r=jB();return mye(t,r)||null}var FB={},BB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(BB);var UB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(UB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BB,r=UB,n=Qx;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(FB);var xye=FB.last;const yye=bl(xye);var wye=["valueAccessor"],bye=["dataKey","clockWise","id","textBreakAll"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function TN(e,t){if(e==null)return{};var r,n,i=_ye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eye=e=>Array.isArray(e.value)?yye(e.value):e.value,$B=L.createContext(void 0),WB=$B.Provider,zB=L.createContext(void 0),Sye=zB.Provider;function Aye(){return L.useContext($B)}function Cye(){return L.useContext(zB)}function a2(e){var{valueAccessor:t=Eye}=e,r=TN(e,wye),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=TN(r,bye),c=Aye(),u=Cye(),h=c||u;return!h||!h.length?null:L.createElement(Ia,{className:"recharts-label-list"},h.map((p,v)=>{var g,_=Yn(n)?t(p,v):Ln(p&&p.payload,n),b=Yn(a)?{}:{id:"".concat(a,"-").concat(v)};return L.createElement(_u,Lv({},ii(p,!0),s,b,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}a2.displayName="LabelList";function oA(e){var{label:t}=e;return t?t===!0?L.createElement(a2,{key:"labelList-implicit"}):L.isValidElement(t)||aA(t)?L.createElement(a2,{key:"labelList-implicit",content:t}):typeof t=="object"?L.createElement(a2,Lv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(null,arguments)}var HB=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=rn("recharts-dot",i);return t===+t&&r===+r&&n===+n?L.createElement("circle",Z_({},Kl(e),bE(e),{className:a,cx:t,cy:r,r:n})):null},VB=e=>e.graphicalItems.polarItems,Tye=nt([Zn,fg],RS),sA=nt([VB,Si,Tye],LS),Oye=nt([sA],DS),lA=nt([Oye,_S],jS),kye=nt([lA,Si,sA],FS),Nye=nt([lA,Si,sA],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ln(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ln(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),ON=()=>{},Pye=nt([Si,$F,ON,Nye,ON,Zr,Zn],US),qB=nt([Si,Zr,lA,kye,ug,Zn,Pye],$S),Iye=nt([qB,Si,Pd],HS);nt([Si,qB,Iye,Zn],qS);var Rye={radiusAxis:{},angleAxis:{}},GB=vs({name:"polarAxis",initialState:Rye,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cEe,removeRadiusAxis:uEe,addAngleAxis:fEe,removeAngleAxis:hEe}=GB.actions,Lye=GB.reducer;function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){Dye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dye(e,t,r){return(t=jye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=Mye(e,"string");return typeof t=="symbol"?t:t+""}function Mye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fye=(e,t)=>t,cA=nt([VB,Fye],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Bye=[],uA=(e,t,r)=>(r==null?void 0:r.length)===0?Bye:r,KB=nt([_S,cA,uA],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>NN(NN({},t.presentationProps),a.props))),i!=null)return i}}),Uye=nt([KB,cA,uA],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Ln(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:Ad(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),$ye=nt([KB,cA,uA,Qi],(e,t,r,n)=>{if(!(t==null||e==null))return jwe({offset:n,pieSettings:t,displayedData:e,cells:r})}),XB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(XB);var Wye=XB.isPlainObject;const zye=bl(Wye);function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){Hye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hye(e,t,r){return(t=Vye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}var RN=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Gye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kye=e=>{var t=Ra(e,Gye),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:h,isUpdateAnimationActive:p}=t,v=L.useRef(),[g,_]=L.useState(-1),b=L.useRef(i),E=L.useRef(a),S=L.useRef(o),T=L.useRef(r),O=L.useRef(n),k=ag(e,"trapezoid-");if(L.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var oe=v.current.getTotalLength();oe&&_(oe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var D=rn("recharts-trapezoid",s);if(!p)return L.createElement("g",null,L.createElement("path",Dv({},ii(t,!0),{className:D,d:RN(r,n,i,a,o)})));var z=b.current,F=E.current,q=S.current,B=T.current,ee=O.current,W="0px ".concat(g===-1?1:g,"px"),U="".concat(g,"px 0px"),K=l9(["strokeDasharray"],u,c);return L.createElement(ig,{animationId:k,key:k,canBegin:g>0,duration:u,easing:c,isActive:p,begin:h},oe=>{var ae=di(z,i,oe),Re=di(F,a,oe),ke=di(q,o,oe),we=di(B,r,oe),_e=di(ee,n,oe);v.current&&(b.current=ae,E.current=Re,S.current=ke,T.current=we,O.current=_e);var $e=oe>0?{transition:K,strokeDasharray:U}:{strokeDasharray:W};return L.createElement("path",Dv({},ii(t,!0),{className:D,d:RN(we,_e,ae,Re,ke),ref:v,style:IN(IN({},$e),t.style)}))})},Xye=["option","shapeType","propTransformer","activeClassName","isActive"];function Yye(e,t){if(e==null)return{};var r,n,i=Zye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){Jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jye(e,t,r){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qye(e){var t=ewe(e,"string");return typeof t=="symbol"?t:t+""}function ewe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function twe(e,t){return jv(jv({},t),e)}function rwe(e,t){return e==="symbols"}function DN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return L.createElement(h9,r);case"trapezoid":return L.createElement(Kye,r);case"sector":return L.createElement(g9,r);case"symbols":if(rwe(t))return L.createElement(TE,r);break;default:return null}}function nwe(e){return L.isValidElement(e)?e.props:e}function YB(e){var{option:t,shapeType:r,propTransformer:n=twe,activeClassName:i="recharts-active-shape",isActive:a}=e,o=Yye(e,Xye),s;if(L.isValidElement(t))s=L.cloneElement(t,jv(jv({},o),nwe(t)));else if(typeof t=="function")s=t(o);else if(zye(t)&&typeof t!="boolean"){var c=n(t,o);s=L.createElement(DN,{shapeType:r,elementProps:c})}else{var u=o;s=L.createElement(DN,{shapeType:r,elementProps:u})}return a?L.createElement(Ia,{className:i},s):s}var fA=(e,t)=>{var r=ai();return(n,i)=>a=>{e==null||e(n,i,a),r(nB({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},hA=e=>{var t=ai();return(r,n)=>i=>{e==null||e(r,n,i),t(Y2e())}},dA=(e,t)=>{var r=ai();return(n,i)=>a=>{e==null||e(n,i,a),r(Z2e({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function pA(e){var{fn:t,args:r}=e,n=ai(),i=Io();return L.useEffect(()=>{if(!i){var a=t(r);return n(G2e(a)),()=>{n(K2e(a))}}},[t,r,n,i]),null}var ZB=()=>{};function JB(e){var{legendPayload:t}=e,r=ai(),n=Io();return L.useEffect(()=>n?ZB:(r(a9(t)),()=>{r(o9(t))}),[r,n,t]),null}function iwe(e){var{legendPayload:t}=e,r=ai(),n=ar(Zr);return L.useEffect(()=>n!=="centric"&&n!=="radial"?ZB:(r(a9(t)),()=>{r(o9(t))}),[r,n,t]),null}var Lb,awe=()=>{var[e]=L.useState(()=>_p("uid-"));return e},owe=(Lb=SP.useId)!==null&&Lb!==void 0?Lb:awe;function swe(e,t){var r=owe();return t||(e?"".concat(e,"-").concat(r):r)}var lwe=L.createContext(void 0),gA=e=>{var{id:t,type:r,children:n}=e,i=swe("recharts-".concat(r),t);return L.createElement(lwe.Provider,{value:i},n(i))},cwe={cartesianItems:[],polarItems:[]},QB=vs({name:"graphicalItems",initialState:cwe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Lc(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Lc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Lc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:uwe,replaceCartesianGraphicalItem:fwe,removeCartesianGraphicalItem:hwe,addPolarGraphicalItem:dwe,removePolarGraphicalItem:pwe}=QB.actions,gwe=QB.reducer;function eU(e){var t=ai(),r=L.useRef(null);return L.useEffect(()=>{r.current===null?t(uwe(e)):r.current!==e&&t(fwe({prev:r.current,next:e})),r.current=e},[t,e]),L.useEffect(()=>()=>{r.current&&(t(hwe(r.current)),r.current=null)},[t]),null}function mwe(e){var t=ai();return L.useEffect(()=>(t(dwe(e)),()=>{t(pwe(e))}),[t,e]),null}var vwe=["onMouseEnter","onClick","onMouseLeave"],xwe=["id"],ywe=["id"];function mA(e,t){if(e==null)return{};var r,n,i=wwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bwe(e,t,r){return(t=_we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _we(e){var t=Ewe(e,"string");return typeof t=="symbol"?t:t+""}function Ewe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(null,arguments)}function Swe(e){var t=L.useMemo(()=>_E(e.children,ad),[e.children]),r=ar(n=>Uye(n,e.id,t));return r==null?null:L.createElement(iwe,{legendPayload:r})}function Awe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:Ad(s,t),hide:c,type:u,color:o,unit:""}}}var Cwe=(e,t)=>e>t?"start":e<t?"end":"middle",Twe=(e,t,r)=>Xa(typeof t=="function"?t(e):t,r,r*.8),Owe=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=YM(a,o),c=i+Xa(e.cx,a,a/2),u=n+Xa(e.cy,o,o/2),h=Xa(e.innerRadius,s,0),p=Twe(r,e.outerRadius,s),v=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:u,innerRadius:h,outerRadius:p,maxRadius:v}},kwe=(e,t)=>{var r=ua(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Nwe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Pwe=(e,t)=>{if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return L.createElement(JE,tf({},t,{type:"linear",className:r}))},Iwe=(e,t,r)=>{if(L.isValidElement(e))return L.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),L.isValidElement(n)))return n;var i=rn("recharts-pie-label-text",Nwe(e));return L.createElement(ky,tf({},t,{alignmentBaseline:"middle",className:i}),n)};function Rwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=Kl(r),c=ii(i,!1),u=ii(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((v,g)=>{var _=(v.startAngle+v.endAngle)/2,b=Di(v.cx,v.cy,v.outerRadius+h,_),E=Gn(Gn(Gn(Gn({},s),v),{},{stroke:"none"},c),{},{index:g,textAnchor:Cwe(b.x,v.cx)},b),S=Gn(Gn(Gn(Gn({},s),v),{},{fill:"none",stroke:v.fill},u),{},{index:g,points:[Di(v.cx,v.cy,v.outerRadius,_),b],key:"line"});return L.createElement(Ia,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},a&&Pwe(a,S),Iwe(i,E,Ln(v,o)))});return L.createElement(Ia,{className:"recharts-pie-labels"},p)}function Lwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?L.createElement(oA,{label:i}):L.createElement(Rwe,{sectors:t,props:r,showLabels:n})}function Dwe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=ar(ef),{onMouseEnter:o,onClick:s,onMouseLeave:c}=i,u=mA(i,vwe),h=fA(o,i.dataKey),p=hA(c),v=dA(s,i.dataKey);return t==null||t.length===0?null:L.createElement(L.Fragment,null,t.map((g,_)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var b=r&&String(_)===a,E=a?n:null,S=b?r:E,T=Gn(Gn({},g),{},{stroke:g.stroke,tabIndex:-1,[t9]:_,[r9]:i.dataKey});return L.createElement(Ia,tf({tabIndex:-1,className:"recharts-pie-sector"},eg(u,g,_),{onMouseEnter:h(g,_),onMouseLeave:p(g,_),onClick:v(g,_),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(_)}),L.createElement(YB,tf({option:S,isActive:b,shapeType:"sector"},T)))}))}function jwe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:c,dataKey:u,nameKey:h,tooltipType:p}=r,v=Math.abs(r.minAngle),g=kwe(s,c),_=Math.abs(g),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,E=n.filter(z=>Ln(z,u,0)!==0).length,S=(_>=360?E:E-1)*b,T=_-E*v-S,O=n.reduce((z,F)=>{var q=Ln(F,u,0);return z+(pr(q)?q:0)},0),k;if(O>0){var D;k=n.map((z,F)=>{var q=Ln(z,u,0),B=Ln(z,h,F),ee=Owe(r,a,z),W=(pr(q)?q:0)/O,U,K=Gn(Gn({},z),i&&i[F]&&i[F].props);F?U=D.endAngle+ua(g)*b*(q!==0?1:0):U=s;var oe=U+ua(g)*((q!==0?v:0)+W*T),ae=(U+oe)/2,Re=(ee.innerRadius+ee.outerRadius)/2,ke=[{name:B,value:q,payload:K,dataKey:u,type:p}],we=Di(ee.cx,ee.cy,Re,ae);return D=Gn(Gn(Gn(Gn({},r.presentationProps),{},{percent:W,cornerRadius:o,name:B,tooltipPayload:ke,midAngle:ae,middleRadius:Re,tooltipPosition:we},K),ee),{},{value:q,startAngle:U,endAngle:oe,payload:K,paddingAngle:ua(g)*b}),D})}return k}function Mwe(e){var{showLabels:t,sectors:r,children:n}=e,i=L.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return L.createElement(Sye,{value:t?i:void 0},n)}function Fwe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:c,inactiveShape:u,onAnimationStart:h,onAnimationEnd:p}=t,v=ag(t,"recharts-pie-"),g=r.current,[_,b]=L.useState(!1),E=L.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=L.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return L.createElement(Mwe,{showLabels:!_,sectors:n},L.createElement(ig,{animationId:v,begin:a,duration:o,isActive:i,easing:s,onAnimationStart:S,onAnimationEnd:E,key:v},T=>{var O=[],k=n&&n[0],D=k==null?void 0:k.startAngle;return n==null||n.forEach((z,F)=>{var q=g&&g[F],B=F>0?fh(z,"paddingAngle",0):0;if(q){var ee=di(q.endAngle-q.startAngle,z.endAngle-z.startAngle,T),W=Gn(Gn({},z),{},{startAngle:D+B,endAngle:D+ee+B});O.push(W),D=W.endAngle}else{var{endAngle:U,startAngle:K}=z,oe=di(0,U-K,T),ae=Gn(Gn({},z),{},{startAngle:D+B,endAngle:D+oe+B});O.push(ae),D=ae.endAngle}}),r.current=O,L.createElement(Ia,null,L.createElement(Dwe,{sectors:O,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),L.createElement(Lwe,{showLabels:!_,sectors:n,props:t}),t.children)}var Bwe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Uwe(e){var{id:t}=e,r=mA(e,xwe),{hide:n,className:i,rootTabIndex:a}=e,o=L.useMemo(()=>_E(e.children,ad),[e.children]),s=ar(h=>$ye(h,t,o)),c=L.useRef(null),u=rn("recharts-pie",i);return n||s==null?(c.current=null,L.createElement(Ia,{tabIndex:a,className:u})):L.createElement(L.Fragment,null,L.createElement(pA,{fn:Awe,args:Gn(Gn({},e),{},{sectors:s})}),L.createElement(Ia,{tabIndex:a,className:u},L.createElement(Fwe,{props:Gn(Gn({},r),{},{sectors:s}),previousSectorsRef:c})))}function J_(e){var t=Ra(e,Bwe),{id:r}=t,n=mA(t,ywe),i=Kl(n);return L.createElement(gA,{id:r,type:"pie"},a=>L.createElement(L.Fragment,null,L.createElement(mwe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),L.createElement(Swe,tf({},n,{id:a})),L.createElement(Uwe,tf({},n,{id:a}))))}J_.displayName="Pie";function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){$we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $we(e,t,r){return(t=Wwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=zwe(e,"string");return typeof t=="symbol"?t:t+""}function zwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hwe={xAxis:{},yAxis:{},zAxis:{}},tU=vs({name:"cartesianAxis",initialState:Hwe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=FN(FN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Vwe,removeXAxis:qwe,addYAxis:Gwe,removeYAxis:Kwe,addZAxis:dEe,removeZAxis:pEe,updateYAxisWidth:Xwe}=tU.actions,Ywe=tU.reducer,Zwe=nt([Qi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Jwe=nt([Zwe,Yc,Zc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),vA=()=>ar(Jwe),Qwe=()=>ar(Mve);function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t,r){return(t=tbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tbe(e){var t=rbe(e,"string");return typeof t=="symbol"?t:t+""}function rbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nbe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=UN(UN({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ii(i,!1)),bE(i)),s;return L.isValidElement(i)?s=L.cloneElement(i,o):typeof i=="function"?s=i(o):s=L.createElement(HB,o),L.createElement(Ia,{className:"recharts-active-dot"},s)};function ibe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ar(ef),o=Qwe();if(t==null||o==null)return null;var s=t.find(c=>o.includes(c.payload));return Yn(s)?null:nbe({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var abe="Invariant failed";function obe(e,t){throw new Error(abe)}var sbe=["x","y"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(null,arguments)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lbe(e,t,r){return(t=cbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cbe(e){var t=ube(e,"string");return typeof t=="symbol"?t:t+""}function ube(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fbe(e,t){if(e==null)return{};var r,n,i=hbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dbe(e,t){var{x:r,y:n}=e,i=fbe(e,sbe),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||i.height),h=parseInt(u,10),p="".concat(t.width||i.width),v=parseInt(p,10);return h1(h1(h1(h1(h1({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function xA(e){return L.createElement(YB,Q_({shapeType:"rectangle",propTransformer:dbe,activeClassName:"recharts-active-bar"},e))}var pbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(pr(t))return t;var a=pr(n)||Yn(n);return a?t(n,i):(a||obe(),r)}},gbe={},rU=vs({name:"errorBars",initialState:gbe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:gEe,replaceErrorBar:mEe,removeErrorBar:vEe}=rU.actions,mbe=rU.reducer,vbe=["children"];function xbe(e,t){if(e==null)return{};var r,n,i=ybe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ybe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wbe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bbe=L.createContext(wbe);function nU(e){var{children:t}=e,r=xbe(e,vbe);return L.createElement(bbe.Provider,{value:r},t)}function yA(e,t){var r,n,i=ar(u=>Qc(u,e)),a=ar(u=>eu(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ko.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Xo.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function iU(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=vA(),{needClipX:a,needClipY:o,needClip:s}=yA(t,r);if(!s)return null;var{x:c,y:u,width:h,height:p}=i;return L.createElement("clipPath",{id:"clipPath-".concat(n)},L.createElement("rect",{x:a?c:c-h/2,y:o?u:u-p/2,width:a?h:h*2,height:o?p:p*2}))}var _be=["onMouseEnter","onMouseLeave","onClick"],Ebe=["value","background","tooltipPosition"],Sbe=["id"],Abe=["onMouseEnter","onClick","onMouseLeave"];function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Cbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cbe(e,t,r){return(t=Tbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Obe(e,"string");return typeof t=="symbol"?t:t+""}function Obe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mv(e,t){if(e==null)return{};var r,n,i=kbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nbe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ad(r,t),payload:e}]};function Pbe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Ad(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function Ibe(e){var t=ar(ef),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,u=Mv(a,_be),h=fA(o,n),p=hA(s),v=dA(c,n);if(!i||r==null)return null;var g=ii(i,!1);return L.createElement(L.Fragment,null,r.map((_,b)=>{var{value:E,background:S,tooltipPosition:T}=_,O=Mv(_,Ebe);if(!S)return null;var k=h(_,b),D=p(_,b),z=v(_,b),F=oo(oo(oo(oo(oo({option:i,isActive:String(b)===t},O),{},{fill:"#eee"},S),g),eg(u,_,b)),{},{onMouseEnter:k,onMouseLeave:D,onClick:z,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return L.createElement(xA,rf({key:"background-bar-".concat(F.index)},F))}))}function Rbe(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return oo(oo({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return L.createElement(WB,{value:t?i:void 0},r)}function Lbe(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ar(ef),c=ar(mB),u=r&&String(a)===s&&(c==null||o===c),h=u?r:t;return L.createElement(xA,rf({},n,i,{isActive:u,option:h,index:a,dataKey:o}))}function Dbe(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return L.createElement(xA,rf({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function jbe(e){var{data:t,props:r}=e,n=Kl(r),{id:i}=n,a=Mv(n,Sbe),{shape:o,dataKey:s,activeBar:c}=r,{onMouseEnter:u,onClick:h,onMouseLeave:p}=r,v=Mv(r,Abe),g=fA(u,s),_=hA(p),b=dA(h,s);return t?L.createElement(L.Fragment,null,t.map((E,S)=>L.createElement(Ia,rf({className:"recharts-bar-rectangle"},eg(v,E,S),{onMouseEnter:g(E,S),onMouseLeave:_(E,S),onClick:b(E,S),key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(S)}),c?L.createElement(Lbe,{shape:o,activeBar:c,baseProps:a,entry:E,index:S,dataKey:s}):L.createElement(Dbe,{shape:o,baseProps:a,entry:E,index:S,dataKey:s})))):null}function Mbe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:h}=t,p=r.current,v=ag(t,"recharts-bar-"),[g,_]=L.useState(!1),b=!g,E=L.useCallback(()=>{typeof u=="function"&&u(),_(!1)},[u]),S=L.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return L.createElement(Rbe,{showLabels:b,rects:n},L.createElement(ig,{animationId:v,begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:v},T=>{var O=T===1?n:n==null?void 0:n.map((k,D)=>{var z=p&&p[D];if(z)return oo(oo({},k),{},{x:di(z.x,k.x,T),y:di(z.y,k.y,T),width:di(z.width,k.width,T),height:di(z.height,k.height,T)});if(i==="horizontal"){var F=di(0,k.height,T);return oo(oo({},k),{},{y:k.y+k.height-F,height:F})}var q=di(0,k.width,T);return oo(oo({},k),{},{width:q})});return T>0&&(r.current=O??null),O==null?null:L.createElement(Ia,null,L.createElement(jbe,{props:t,data:O}))}),L.createElement(oA,{label:t.label}),t.children)}function Fbe(e){var t=L.useRef(null);return L.createElement(Mbe,{previousRectanglesRef:t,props:e})}var aU=0,Bbe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ln(e,t)}};class Ube extends L.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var h=rn("recharts-bar",i),p=u;return L.createElement(Ia,{className:h,id:u},s&&L.createElement("defs",null,L.createElement(iU,{clipPathId:p,xAxisId:a,yAxisId:o})),L.createElement(Ia,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):void 0},L.createElement(Ibe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),L.createElement(Fbe,this.props)))}}var $be={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hf.isSsr,legendType:"rect",minPointSize:aU,xAxisId:0,yAxisId:0};function Wbe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:h}=e,{needClip:p}=yA(t,r),v=fy(),g=Io(),_=_E(e.children,ad),b=ar(T=>m5e(T,t,r,g,e.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,S=b==null?void 0:b[0];return S==null||S.height==null||S.width==null?E=0:E=v==="vertical"?S.height/2:S.width/2,L.createElement(nU,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Bbe,errorBarOffset:E},L.createElement(Ube,rf({},e,{layout:v,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:h})))}function zbe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:h,displayedData:p,offset:v,cells:g,parentViewBox:_}=e,b=t==="horizontal"?s:o,E=h?b.scale.domain():null,S=mde({numericAxis:b});return p.map((T,O)=>{var k,D,z,F,q,B;h?k=ude(h[O],E):(k=Ln(T,r),Array.isArray(k)||(k=[S,k]));var ee=pbe(n,aU)(k[1],O);if(t==="horizontal"){var W,[U,K]=[s.scale(k[0]),s.scale(k[1])];D=WO({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:T,index:O}),z=(W=K??U)!==null&&W!==void 0?W:void 0,F=i.size;var oe=U-K;if(q=hs(oe)?0:oe,B={x:D,y:v.top,width:F,height:v.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var ae=ua(q||ee)*(Math.abs(ee)-Math.abs(q));z-=ae,q+=ae}}else{var[Re,ke]=[o.scale(k[0]),o.scale(k[1])];if(D=Re,z=WO({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:T,index:O}),F=ke-Re,q=i.size,B={x:v.left,y:z,width:v.width,height:q},Math.abs(ee)>0&&Math.abs(F)<Math.abs(ee)){var we=ua(F||ee)*(Math.abs(ee)-Math.abs(F));F+=we}}if(D==null||z==null||F==null||q==null)return null;var _e=oo(oo({},T),{},{x:D,y:z,width:F,height:q,value:h?k:k[1],payload:T,background:B,tooltipPosition:{x:D+F/2,y:z+q/2},parentViewBox:_},g&&g[O]&&g[O].props);return _e}).filter(Boolean)}function Hbe(e){var t=Ra(e,$be),r=Io();return L.createElement(gA,{id:t.id,type:"bar"},n=>L.createElement(L.Fragment,null,L.createElement(JB,{legendPayload:Nbe(t)}),L.createElement(pA,{fn:Pbe,args:t}),L.createElement(eU,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:gde(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),L.createElement(Wbe,rf({},t,{id:n}))))}var oU=L.memo(Hbe);oU.displayName="Bar";function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return(t=qbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qbe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kbe=(e,t)=>t,Xbe=(e,t,r)=>r,Ybe=(e,t,r,n)=>n,Zbe=(e,t,r,n,i)=>i,vg=nt([Ey,Zbe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Jbe=nt([vg],e=>e==null?void 0:e.maxBarSize),Qbe=(e,t,r,n,i,a)=>a,HN=(e,t,r)=>{var n=r??e;if(!Yn(n))return Xa(n,t,0)},e5e=nt([Zr,Ey,Kbe,Xbe,Ybe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),t5e=(e,t,r,n)=>{var i=Zr(e);return i==="horizontal"?V_(e,"yAxis",r,n):V_(e,"xAxis",t,n)},r5e=(e,t,r)=>{var n=Zr(e);return n==="horizontal"?tN(e,"xAxis",t):tN(e,"yAxis",r)},n5e=(e,t,r)=>{var n={},i=e.filter(_y),a=e.filter(u=>u.stackId==null),o=i.reduce((u,h)=>(u[h.stackId]||(u[h.stackId]=[]),u[h.stackId].push(h),u),n),s=Object.entries(o).map(u=>{var[h,p]=u,v=p.map(_=>_.dataKey),g=HN(t,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:g}}),c=a.map(u=>{var h=[u.dataKey].filter(v=>v!=null),p=HN(t,r,u.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...s,...c]},i5e=nt([e5e,qme,r5e],n5e),a5e=(e,t,r,n,i)=>{var a,o,s=vg(e,t,r,n,i);if(s!=null){var c=Zr(e),u=pF(e),{maxBarSize:h}=s,p=Yn(h)?u:h,v,g;return c==="horizontal"?(v=Qu(e,"xAxis",t,n),g=Ju(e,"xAxis",t,n)):(v=Qu(e,"yAxis",r,n),g=Ju(e,"yAxis",r,n)),(a=(o=Ap(v,g,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},sU=(e,t,r,n)=>{var i=Zr(e),a,o;return i==="horizontal"?(a=Qu(e,"xAxis",t,n),o=Ju(e,"xAxis",t,n)):(a=Qu(e,"yAxis",r,n),o=Ju(e,"yAxis",r,n)),Ap(a,o)};function o5e(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Xa(e,r,0,!0),s,c=[];if(ps(n[0].barSize)){var u=!1,h=r/a,p=n.reduce((S,T)=>S+(T.barSize||0),0);p+=(a-1)*o,p>=r&&(p-=(a-1)*o,o=0),p>=r&&h>0&&(u=!0,h*=.9,p=a*h);var v=(r-p)/2>>0,g={offset:v-o,size:0};s=n.reduce((S,T)=>{var O,k={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:g.offset+g.size+o,size:u?h:(O=T.barSize)!==null&&O!==void 0?O:0}},D=[...S,k];return g=D[D.length-1].position,D},c)}else{var _=Xa(t,r,0,!0);r-2*_-(a-1)*o<=0&&(o=0);var b=(r-2*_-(a-1)*o)/a;b>1&&(b>>=0);var E=ps(i)?Math.min(b,i):b;s=n.reduce((S,T,O)=>[...S,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:_+(b+o)*O+(b-E)/2,size:E}}],c)}return s}}var s5e=(e,t,r,n,i,a,o)=>{var s=Yn(o)?t:o,c=o5e(r,n,i!==a?i:a,e,s);return i!==a&&c!=null&&(c=c.map(u=>Bm(Bm({},u),{},{position:Bm(Bm({},u.position),{},{offset:u.position.offset-i/2})}))),c},l5e=nt([i5e,pF,Vme,gF,a5e,sU,Jbe],s5e),c5e=(e,t,r,n)=>Qu(e,"xAxis",t,n),u5e=(e,t,r,n)=>Qu(e,"yAxis",r,n),f5e=(e,t,r,n)=>Ju(e,"xAxis",t,n),h5e=(e,t,r,n)=>Ju(e,"yAxis",r,n),d5e=nt([l5e,vg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),p5e=(e,t)=>{var r=PS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},g5e=nt([t5e,vg],p5e),m5e=nt([Qi,GE,c5e,u5e,f5e,h5e,d5e,Zr,xy,sU,g5e,vg,Qbe],(e,t,r,n,i,a,o,s,c,u,h,p,v)=>{var{chartData:g,dataStartIndex:_,dataEndIndex:b}=c;if(!(p==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:E}=p,S;if(E!=null&&E.length>0?S=E:S=g==null?void 0:g.slice(_,b+1),S!=null)return zbe({layout:s,barSettings:p,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:S,offset:e,cells:v})}}),lU=e=>{var{chartData:t}=e,r=ai(),n=Io();return L.useEffect(()=>n?()=>{}:(r(uN(t)),()=>{r(uN(void 0))}),[t,r,n]),null},VN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cU=vs({name:"brush",initialState:VN,reducers:{setBrushSettings(e,t){return t.payload==null?VN:t.payload}}}),{setBrushSettings:xEe}=cU.actions,v5e=cU.reducer;function x5e(e,t,r){return(t=y5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5e(e){var t=w5e(e,"string");return typeof t=="symbol"?t:t+""}function w5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wA{static create(t){return new wA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}x5e(wA,"EPS",1e-4);function b5e(e){return(e%180+180)%180}var _5e=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=b5e(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},E5e={dots:[],areas:[],lines:[]},uU=vs({name:"referenceElements",initialState:E5e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Lc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Lc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Lc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:yEe,removeDot:wEe,addArea:bEe,removeArea:_Ee,addLine:EEe,removeLine:SEe}=uU.actions,S5e=uU.reducer,A5e=L.createContext(void 0),C5e=e=>{var{children:t}=e,[r]=L.useState("".concat(_p("recharts"),"-clip")),n=vA();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return L.createElement(A5e.Provider,{value:r},L.createElement("defs",null,L.createElement("clipPath",{id:r},L.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function od(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function T5e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return _5e(n,r)}function O5e(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Fv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function k5e(e,t){return fU(e,t+1)}function N5e(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,h=o,p=function(){var _=n==null?void 0:n[c];if(_===void 0)return{v:fU(n,u)};var b=c,E,S=()=>(E===void 0&&(E=r(_,b)),E),T=_.coordinate,O=c===0||Fv(e,T,S,h,s);O||(c=0,h=o,u+=1),O&&(h=T+e*(S()/2+i),c+=u)},v;u<=a.length;)if(v=p(),v)return v.v;return[]}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){P5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P5e(e,t,r){return(t=I5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5e(e){var t=R5e(e,"string");return typeof t=="symbol"?t:t+""}function R5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L5e(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:c}=t,u=function(v){var g=a[v],_,b=()=>(_===void 0&&(_=r(g,v)),_);if(v===o-1){var E=e*(g.coordinate+e*b()/2-c);a[v]=g=Ha(Ha({},g),{},{tickCoord:E>0?g.coordinate-E*e:g.coordinate})}else a[v]=g=Ha(Ha({},g),{},{tickCoord:g.coordinate});var S=Fv(e,g.tickCoord,b,s,c);S&&(c=g.tickCoord-e*(b()/2+i),a[v]=Ha(Ha({},g),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return a}function D5e(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(a){var h=n[s-1],p=r(h,s-1),v=e*(h.coordinate+e*p/2-u);o[s-1]=h=Ha(Ha({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var g=Fv(e,h.tickCoord,()=>p,c,u);g&&(u=h.tickCoord-e*(p/2+i),o[s-1]=Ha(Ha({},h),{},{isShow:!0}))}for(var _=a?s-1:s,b=function(T){var O=o[T],k,D=()=>(k===void 0&&(k=r(O,T)),k);if(T===0){var z=e*(O.coordinate-e*D()/2-c);o[T]=O=Ha(Ha({},O),{},{tickCoord:z<0?O.coordinate-z*e:O.coordinate})}else o[T]=O=Ha(Ha({},O),{},{tickCoord:O.coordinate});var F=Fv(e,O.tickCoord,D,c,u);F&&(c=O.tickCoord+e*(D()/2+i),o[T]=Ha(Ha({},O),{},{isShow:!0}))},E=0;E<_;E++)b(E);return o}function bA(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:h,angle:p}=e;if(!i||!i.length||!n)return[];if(pr(c)||hf.isSsr){var v;return(v=k5e(i,pr(c)?c:0))!==null&&v!==void 0?v:[]}var g=[],_=s==="top"||s==="bottom"?"width":"height",b=h&&_==="width"?V1(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},E=(O,k)=>{var D=typeof u=="function"?u(O.value,k):O.value;return _==="width"?T5e(V1(D,{fontSize:t,letterSpacing:r}),b,p):V1(D,{fontSize:t,letterSpacing:r})[_]},S=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,T=O5e(a,S,_);return c==="equidistantPreserveStart"?N5e(S,T,E,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=D5e(S,T,E,i,o,c==="preserveStartEnd"):g=L5e(S,T,E,i,o),g.filter(O=>O.isShow))}var j5e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var s=r?r.getBoundingClientRect().width:0,c=i+a,u=o+c+s+(r?n:0);return Math.round(u)}return 0},M5e=["axisLine","width","height","className","hide","ticks"],F5e=["viewBox"],B5e=["viewBox"];function e3(e,t){if(e==null)return{};var r,n,i=U5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){$5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $5e(e,t,r){return(t=W5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5e(e){var t=z5e(e,"string");return typeof t=="symbol"?t:t+""}function z5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _A={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function H5e(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=Yi(Yi(Yi({},c),ii(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);u=Yi(Yi({},u),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);u=Yi(Yi({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return L.createElement("line",gh({},u,{className:rn("recharts-cartesian-axis-line",fh(s,"className"))}))}function V5e(e,t,r,n,i,a,o,s,c){var u,h,p,v,g,_,b=s?-1:1,E=e.tickSize||o,S=pr(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=h=e.coordinate,v=r+ +!s*i,p=v-b*E,_=p-b*c,g=S;break;case"left":p=v=e.coordinate,h=t+ +!s*n,u=h-b*E,g=u-b*c,_=S;break;case"right":p=v=e.coordinate,h=t+ +s*n,u=h+b*E,g=u+b*c,_=S;break;default:u=h=e.coordinate,v=r+ +s*i,p=v+b*E,_=p+b*c,g=S;break}return{line:{x1:u,y1:p,x2:h,y2:v},tick:{x:g,y:_}}}function q5e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function G5e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function K5e(e){var{option:t,tickProps:r,value:n}=e,i,a=rn(r.className,"recharts-cartesian-axis-tick-value");if(L.isValidElement(t))i=L.cloneElement(t,Yi(Yi({},r),{},{className:a}));else if(typeof t=="function")i=t(Yi(Yi({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=rn(o,t==null?void 0:t.className)),i=L.createElement(ky,gh({},r,{className:o}),n)}return i}function X5e(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:c,orientation:u,mirror:h,x:p,y:v,width:g,height:_,tickSize:b,tickMargin:E,fontSize:S,letterSpacing:T,getTicksConfig:O,events:k}=e,D=bA(Yi(Yi({},O),{},{ticks:t}),S,T),z=q5e(u,h),F=G5e(u,h),q=Kl(O),B=ii(r,!1),ee=Yi(Yi({},q),{},{fill:"none"},ii(n,!1)),W=D.map((U,K)=>{var{line:oe,tick:ae}=V5e(U,p,v,g,_,u,b,h,E),Re=Yi(Yi(Yi(Yi({textAnchor:z,verticalAnchor:F},q),{},{stroke:"none",fill:i},B),ae),{},{index:K,payload:U,visibleTicksCount:D.length,tickFormatter:a,padding:s},c);return L.createElement(Ia,gh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},eg(k,U,K)),n&&L.createElement("line",gh({},ee,oe,{className:rn("recharts-cartesian-axis-tick-line",fh(n,"className"))})),r&&L.createElement(K5e,{option:r,tickProps:Re,value:"".concat(typeof a=="function"?a(U.value,K):U.value).concat(o||"")}))});return W.length>0?L.createElement("g",{className:"recharts-cartesian-axis-ticks"},W):null}var Y5e=L.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=e,c=e3(e,M5e),[u,h]=L.useState(""),[p,v]=L.useState(""),g=L.useRef([]);L.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return j5e({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=L.useCallback(b=>{if(b){var E=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=Array.from(E);var S=E[0];if(S){var T=window.getComputedStyle(S),O=T.fontSize,k=T.letterSpacing;(O!==u||k!==p)&&(h(O),v(k))}}},[u,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:L.createElement(Ia,{className:rn("recharts-cartesian-axis",a),ref:_},L.createElement(H5e,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Kl(e)}),L.createElement(X5e,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:p,getTicksConfig:e,events:c}),L.createElement(sye,{x:e.x,y:e.y,width:e.width,height:e.height},L.createElement(vye,{label:e.label}),e.children))}),Z5e=L.memo(Y5e,(e,t)=>{var{viewBox:r}=e,n=e3(e,F5e),{viewBox:i}=t,a=e3(t,B5e);return od(r,i)&&od(n,a)}),EA=L.forwardRef((e,t)=>{var r=Ra(e,_A);return L.createElement(Z5e,gh({},r,{ref:t}))});EA.displayName="CartesianAxis";var J5e=["x1","y1","x2","y2","key"],Q5e=["offset"],e_e=["xAxisId","yAxisId"],t_e=["xAxisId","yAxisId"];function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){r_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_e(e,t,r){return(t=n_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_e(e){var t=i_e(e,"string");return typeof t=="symbol"?t:t+""}function i_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}function Bv(e,t){if(e==null)return{};var r,n,i=a_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o_e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return L.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hU(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,c=Bv(t,J5e),u=Kl(c),{offset:h}=u,p=Bv(u,Q5e);r=L.createElement("line",Vf({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function s_e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Bv(e,e_e),c=i.map((u,h)=>{var p=qa(qa({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(h),index:h});return hU(n,p)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function l_e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Bv(e,t_e),c=i.map((u,h)=>{var p=qa(qa({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(h),index:h});return hU(n,p)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function c_e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=s.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==u[0]&&u.unshift(0);var h=u.map((p,v)=>{var g=!u[v+1],_=g?i+o-p:u[v+1]-p;if(_<=0)return null;var b=v%t.length;return L.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:_,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function u_e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==u[0]&&u.unshift(0);var h=u.map((p,v)=>{var g=!u[v+1],_=g?i+o-p:u[v+1]-p;if(_<=0)return null;var b=v%r.length;return L.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:s,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var f_e=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return JM(bA(qa(qa(qa({},_A),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},h_e=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return JM(bA(qa(qa(qa({},_A),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},d_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function o2(e){var t=XE(),r=YE(),n=n9(),i=qa(qa({},Ra(e,d_e)),{},{x:pr(e.x)?e.x:n.left,y:pr(e.y)?e.y:n.top,width:pr(e.width)?e.width:n.width,height:pr(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:u,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,_=Io(),b=ar(B=>rN(B,"xAxis",a,_)),E=ar(B=>rN(B,"yAxis",o,_));if(!pr(u)||u<=0||!pr(h)||h<=0||!pr(s)||s!==+s||!pr(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||f_e,T=i.horizontalCoordinatesGenerator||h_e,{horizontalPoints:O,verticalPoints:k}=i;if((!O||!O.length)&&typeof T=="function"){var D=v&&v.length,z=T({yAxis:E?qa(qa({},E),{},{ticks:D?v:E.ticks}):void 0,width:t,height:r,offset:n},D?!0:p);H1(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(O=z)}if((!k||!k.length)&&typeof S=="function"){var F=g&&g.length,q=S({xAxis:b?qa(qa({},b),{},{ticks:F?g:b.ticks}):void 0,width:t,height:r,offset:n},F?!0:p);H1(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(k=q)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(o_e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),L.createElement(c_e,Vf({},i,{horizontalPoints:O})),L.createElement(u_e,Vf({},i,{verticalPoints:k})),L.createElement(s_e,Vf({},i,{offset:n,horizontalPoints:O,xAxis:b,yAxis:E})),L.createElement(l_e,Vf({},i,{offset:n,verticalPoints:k,xAxis:b,yAxis:E})))}o2.displayName="CartesianGrid";var dU=(e,t,r,n)=>Qu(e,"xAxis",t,n),pU=(e,t,r,n)=>Ju(e,"xAxis",t,n),gU=(e,t,r,n)=>Qu(e,"yAxis",r,n),mU=(e,t,r,n)=>Ju(e,"yAxis",r,n),p_e=nt([Zr,dU,gU,pU,mU],(e,t,r,n,i)=>ff(e,"xAxis")?Ap(t,n,!1):Ap(r,i,!1)),g_e=(e,t,r,n,i)=>i;function m_e(e){return e.type==="line"}var v_e=nt([Ey,g_e],(e,t)=>e.filter(m_e).find(r=>r.id===t)),x_e=nt([Zr,dU,gU,pU,mU,v_e,p_e,xy],(e,t,r,n,i,a,o,s)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:h}=s;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,g;if(v!=null&&v.length>0?g=v:g=c==null?void 0:c.slice(u,h+1),g!=null)return U_e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:g})}}),y_e=["id"],w_e=["type","layout","connectNulls","needClip"],b_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){__e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function __e(e,t,r){return(t=E_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SA(e,t){if(e==null)return{};var r,n,i=A_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var C_e=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ad(r,t),payload:e}]};function T_e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ad(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:c}}}var vU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function O_e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var k_e=(e,t,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return vU(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,s=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){s=[...r.slice(0,c),a-u];break}var h=s.length%2===0?[0,o]:[o];return[...O_e(r,i),...s,...h].map(p=>"".concat(p,"px")).join(", ")};function N_e(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=rn("recharts-line-dot",typeof e!="boolean"?e.className:"");r=L.createElement(HB,mh({},t,{className:n}))}return r}function P_e(e,t){return e==null?!1:t?!0:e.length===1}function I_e(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!P_e(r,i))return null;var{id:s}=n,c=SA(n,y_e),u=Ij(i),h=Kl(c),p=ii(i,!0),v=r.map((_,b)=>{var E=ns(ns(ns({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:r});return N_e(i,E)}),g={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return L.createElement(Ia,mh({className:"recharts-line-dots",key:"dots"},g),v)}function R_e(e){var{showLabels:t,children:r,points:n}=e,i=L.useMemo(()=>n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return ns(ns({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return L.createElement(WB,{value:t?i:null},r)}function YN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:s,connectNulls:c,needClip:u}=a,h=SA(a,w_e),p=ns(ns({},ii(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return L.createElement(L.Fragment,null,(n==null?void 0:n.length)>1&&L.createElement(JE,mh({},p,{pathRef:r})),L.createElement(I_e,{points:n,clipPathId:t,props:a}))}function L_e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function D_e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:u,animationDuration:h,animationEasing:p,animateNewValues:v,width:g,height:_,onAnimationEnd:b,onAnimationStart:E}=r,S=i.current,T=ag(r,"recharts-line-"),[O,k]=L.useState(!1),D=!O,z=L.useCallback(()=>{typeof b=="function"&&b(),k(!1)},[b]),F=L.useCallback(()=>{typeof E=="function"&&E(),k(!0)},[E]),q=L_e(n.current),B=a.current;return L.createElement(R_e,{points:o,showLabels:D},r.children,L.createElement(ig,{animationId:T,begin:u,duration:h,isActive:c,easing:p,onAnimationEnd:z,onAnimationStart:F,key:T},ee=>{var W=di(B,q+B,ee),U=Math.min(W,q),K;if(c)if(s){var oe="".concat(s).split(/[,\s]+/gim).map(ke=>parseFloat(ke));K=k_e(U,q,oe)}else K=vU(q,U);else K=s==null?void 0:String(s);if(S){var ae=S.length/o.length,Re=ee===1?o:o.map((ke,we)=>{var _e=Math.floor(we*ae);if(S[_e]){var $e=S[_e];return ns(ns({},ke),{},{x:di($e.x,ke.x,ee),y:di($e.y,ke.y,ee)})}return v?ns(ns({},ke),{},{x:di(g*2,ke.x,ee),y:di(_/2,ke.y,ee)}):ns(ns({},ke),{},{x:ke.x,y:ke.y})});return i.current=Re,L.createElement(YN,{props:r,points:Re,clipPathId:t,pathRef:n,strokeDasharray:K})}return ee>0&&q>0&&(i.current=o,a.current=U),L.createElement(YN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:K})}),L.createElement(oA,{label:r.label}))}function j_e(e){var{clipPathId:t,props:r}=e,n=L.useRef(null),i=L.useRef(0),a=L.useRef(null);return L.createElement(D_e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var M_e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ln(e.payload,t)});class F_e extends L.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:c,left:u,width:h,height:p,id:v,needClip:g}=this.props;if(r)return null;var _=rn("recharts-line",a),b=v,{r:E=3,strokeWidth:S=2}=(t=ii(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},T=Ij(n),O=E*2+S;return L.createElement(L.Fragment,null,L.createElement(Ia,{className:_},g&&L.createElement("defs",null,L.createElement(iU,{clipPathId:b,xAxisId:o,yAxisId:s}),!T&&L.createElement("clipPath",{id:"clipPath-dots-".concat(b)},L.createElement("rect",{x:u-O/2,y:c-O/2,width:h+O,height:p+O}))),L.createElement(nU,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:M_e,errorBarOffset:0},L.createElement(j_e,{props:this.props,clipPathId:b}))),L.createElement(ibe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var xU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function B_e(e){var t=Ra(e,xU),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:u,isAnimationActive:h,label:p,legendType:v,xAxisId:g,yAxisId:_,id:b}=t,E=SA(t,b_e),{needClip:S}=yA(g,_),T=vA(),O=fy(),k=Io(),D=ar(ee=>x_e(ee,g,_,k,b));if(O!=="horizontal"&&O!=="vertical"||D==null||T==null)return null;var{height:z,width:F,x:q,y:B}=T;return L.createElement(F_e,mh({},E,{id:b,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:u,label:p,legendType:v,xAxisId:g,yAxisId:_,points:D,layout:O,height:z,width:F,left:q,top:B,needClip:S}))}function U_e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=e;return c.map((u,h)=>{var p=Ln(u,o);if(t==="horizontal"){var v=$O({axis:r,ticks:i,bandSize:s,entry:u,index:h}),g=Yn(p)?null:n.scale(p);return{x:v,y:g,value:p,payload:u}}var _=Yn(p)?null:r.scale(p),b=$O({axis:n,ticks:a,bandSize:s,entry:u,index:h});return _==null||b==null?null:{x:_,y:b,value:p,payload:u}}).filter(Boolean)}function $_e(e){var t=Ra(e,xU),r=Io();return L.createElement(gA,{id:t.id,type:"line"},n=>L.createElement(L.Fragment,null,L.createElement(JB,{legendPayload:C_e(t)}),L.createElement(pA,{fn:T_e,args:t}),L.createElement(eU,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),L.createElement(B_e,mh({},t,{id:n}))))}var t3=L.memo($_e);t3.displayName="Line";var W_e=["dangerouslySetInnerHTML","ticks"],z_e=["id"],H_e=["domain"],V_e=["domain"];function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(null,arguments)}function Uv(e,t){if(e==null)return{};var r,n,i=q_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G_e(e){var t=ai();return L.useEffect(()=>(t(Vwe(e)),()=>{t(qwe(e))}),[e,t]),null}var K_e=e=>{var{xAxisId:t,className:r}=e,n=ar(GE),i=Io(),a="xAxis",o=ar(E=>Id(E,a,t,i)),s=ar(E=>ZF(E,a,t,i)),c=ar(E=>GF(E,t)),u=ar(E=>M2e(E,t)),h=ar(E=>SF(E,t));if(c==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,g=Uv(e,W_e),{id:_}=h,b=Uv(h,z_e);return L.createElement(EA,r3({},g,b,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:rn("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},X_e={allowDataOverflow:Ko.allowDataOverflow,allowDecimals:Ko.allowDecimals,allowDuplicatedCategory:Ko.allowDuplicatedCategory,height:Ko.height,hide:!1,mirror:Ko.mirror,orientation:Ko.orientation,padding:Ko.padding,reversed:Ko.reversed,scale:Ko.scale,tickCount:Ko.tickCount,type:Ko.type,xAxisId:0},Y_e=e=>{var t,r,n,i,a,o=Ra(e,X_e);return L.createElement(L.Fragment,null,L.createElement(G_e,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),L.createElement(K_e,o))},Z_e=(e,t)=>{var{domain:r}=e,n=Uv(e,H_e),{domain:i}=t,a=Uv(t,V_e);return od(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:od({domain:r},{domain:i}):!1},s2=L.memo(Y_e,Z_e);s2.displayName="XAxis";var J_e=["dangerouslySetInnerHTML","ticks"],Q_e=["id"],e3e=["domain"],t3e=["domain"];function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(null,arguments)}function $v(e,t){if(e==null)return{};var r,n,i=r3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n3e(e){var t=ai();return L.useEffect(()=>(t(Gwe(e)),()=>{t(Kwe(e))}),[e,t]),null}var i3e=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=L.useRef(null),o=L.useRef(null),s=ar(GE),c=Io(),u=ai(),h="yAxis",p=ar(D=>Id(D,h,t,c)),v=ar(D=>KF(D,t)),g=ar(D=>B2e(D,t)),_=ar(D=>ZF(D,h,t,c)),b=ar(D=>AF(D,t));if(L.useLayoutEffect(()=>{if(!(n!=="auto"||!v||aA(i)||L.isValidElement(i)||b==null)){var D=a.current;if(D){var z=D.getCalculatedWidth();Math.round(v.width)!==Math.round(z)&&u(Xwe({id:t,width:z}))}}},[_,v,u,i,t,n,b]),v==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=e,T=$v(e,J_e),{id:O}=b,k=$v(b,Q_e);return L.createElement(EA,n3({},T,k,{ref:a,labelRef:o,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:rn("recharts-".concat(h," ").concat(h),r),viewBox:s,ticks:_}))},a3e={allowDataOverflow:Xo.allowDataOverflow,allowDecimals:Xo.allowDecimals,allowDuplicatedCategory:Xo.allowDuplicatedCategory,hide:!1,mirror:Xo.mirror,orientation:Xo.orientation,padding:Xo.padding,reversed:Xo.reversed,scale:Xo.scale,tickCount:Xo.tickCount,type:Xo.type,width:Xo.width,yAxisId:0},o3e=e=>{var t,r,n,i,a,o=Ra(e,a3e);return L.createElement(L.Fragment,null,L.createElement(n3e,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),L.createElement(i3e,o))},s3e=(e,t)=>{var{domain:r}=e,n=$v(e,e3e),{domain:i}=t,a=$v(t,t3e);return od(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:od({domain:r},{domain:i}):!1},l2=L.memo(o3e,s3e);l2.displayName="YAxis";var l3e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=L;function c3e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u3e=typeof Object.is=="function"?Object.is:c3e,f3e=xg.useSyncExternalStore,h3e=xg.useRef,d3e=xg.useEffect,p3e=xg.useMemo,g3e=xg.useDebugValue;l3e.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=h3e(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=p3e(function(){function c(g){if(!u){if(u=!0,h=g,g=n(g),i!==void 0&&o.hasValue){var _=o.value;if(i(_,g))return p=_}return p=g}if(_=p,u3e(h,g))return _;var b=n(g);return i!==void 0&&i(_,b)?(h=g,_):(h=g,p=b)}var u=!1,h,p,v=r===void 0?null:r;return[function(){return c(t())},v===null?void 0:function(){return c(v())}]},[t,r,n,i]);var s=f3e(e,a[0],a[1]);return d3e(function(){o.hasValue=!0,o.value=s},[s]),g3e(s),s};function m3e(e){e()}function v3e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){m3e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var ZN={notify(){},get:()=>[]};function x3e(e,t){let r,n=ZN,i=0,a=!1;function o(b){h();const E=n.subscribe(b);let S=!1;return()=>{S||(S=!0,E(),p())}}function s(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function u(){return a}function h(){i++,r||(r=e.subscribe(c),n=v3e())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ZN)}function v(){a||(a=!0,h())}function g(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return _}var y3e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w3e=y3e(),b3e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_3e=b3e(),E3e=()=>w3e||_3e?L.useLayoutEffect:L.useEffect,S3e=E3e(),Db=Symbol.for("react-redux-context"),jb=typeof globalThis<"u"?globalThis:{};function A3e(){if(!L.createContext)return{};const e=jb[Db]??(jb[Db]=new Map);let t=e.get(L.createContext);return t||(t=L.createContext(null),e.set(L.createContext,t)),t}var C3e=A3e();function T3e(e){const{children:t,context:r,serverState:n,store:i}=e,a=L.useMemo(()=>{const c=x3e(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=L.useMemo(()=>i.getState(),[i]);S3e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=r||C3e;return L.createElement(s.Provider,{value:a},t)}var O3e=T3e,k3e=(e,t)=>t,AA=nt([k3e,Zr,bF,ta,hB,tu,Hve,Qi],Xve),CA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},yU=Ws("mouseClick"),wU=rg();wU.startListening({actionCreator:yU,effect:(e,t)=>{var r=e.payload,n=AA(t.getState(),CA(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(J2e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var i3=Ws("mouseMove"),bU=rg();bU.startListening({actionCreator:i3,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=XS(n,n.tooltip.settings.shared),a=AA(n,CA(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(aB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(iB()))}});var JN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_U=vs({name:"rootProps",initialState:JN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),N3e=_U.reducer,{updateOptions:P3e}=_U.actions,EU=vs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:I3e}=EU.actions,R3e=EU.reducer,SU=Ws("keyDown"),AU=Ws("focus"),TA=rg();TA.startListening({actionCreator:SU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(YS(i,Ld(r))),s=tu(r);if(a==="Enter"){var c=Rv(r,"axis","hover",String(i.index));t.dispatch(G_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=z2e(r),h=u==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*h;if(!(s==null||v>=s.length||v<0)){var g=Rv(r,"axis","hover",String(v));t.dispatch(G_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});TA.startListening({actionCreator:AU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Rv(r,"axis","hover",String(a));t.dispatch(G_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ns=Ws("externalEvent"),CU=rg();CU.startListening({actionCreator:Ns,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Lve(r),activeDataKey:mB(r),activeIndex:ef(r),activeLabel:gB(r),activeTooltipIndex:ef(r),isTooltipActive:Dve(r)};e.payload.handler(n,e.payload.reactEvent)}}});var L3e=nt([Rd],e=>e.tooltipItemPayloads),D3e=nt([L3e,gg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),TU=Ws("touchMove"),OU=rg();OU.startListening({actionCreator:TU,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=XS(n,n.tooltip.settings.shared);if(i==="axis"){var a=AA(n,CA({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(aB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(t9),h=(o=c.getAttribute(r9))!==null&&o!==void 0?o:void 0,p=D3e(t.getState(),u,h);t.dispatch(nB({activeDataKey:h,activeIndex:u,activeCoordinate:p}))}}});var j3e=TM({brush:v5e,cartesianAxis:Ywe,chartData:uxe,errorBars:mbe,graphicalItems:gwe,layout:K0e,legend:Fde,options:axe,polarAxis:Lye,polarOptions:R3e,referenceElements:S5e,rootProps:N3e,tooltip:Q2e}),M3e=function(t){return y0e({reducer:j3e,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([wU.middleware,bU.middleware,TA.middleware,CU.middleware,OU.middleware]),devTools:hf.devToolsEnabled})};function kU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Io(),a=L.useRef(null);if(i)return r;a.current==null&&(a.current=M3e(t));var o=BE;return L.createElement(O3e,{context:o,store:a.current},r)}function NU(e){var{layout:t,width:r,height:n,margin:i}=e,a=ai(),o=Io();return L.useEffect(()=>{o||(a(V0e(t)),a(q0e({width:r,height:n})),a(H0e(i)))},[a,o,t,r,n,i]),null}function PU(e){var t=ai();return L.useEffect(()=>{t(P3e(e))},[t,e]),null}var F3e=["children"];function B3e(e,t){if(e==null)return{};var r,n,i=U3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}var $3e={width:"100%",height:"100%"},W3e=L.forwardRef((e,t)=>{var r=XE(),n=YE(),i=s9();if(!ed(r)||!ed(n))return null;var{children:a,otherAttributes:o,title:s,desc:c}=e,u,h;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,L.createElement(EE,Wv({},o,{title:s,desc:c,role:h,tabIndex:u,width:r,height:n,style:$3e,ref:t}),a)}),z3e=e=>{var{children:t}=e,r=ar(uy);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return L.createElement(EE,{width:n,height:i,x:o,y:a},t)},QN=L.forwardRef((e,t)=>{var{children:r}=e,n=B3e(e,F3e),i=Io();return i?L.createElement(z3e,null,r):L.createElement(W3e,Wv({ref:t},n),r)});function H3e(){var e=ai(),[t,r]=L.useState(null),n=ar(Ede);return L.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ps(a)&&a!==n&&e(G0e(a))}},[t,e,n]),r}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){q3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3e(e,t,r){return(t=G3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3e(e){var t=K3e(e,"string");return typeof t=="symbol"?t:t+""}function K3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X3e=L.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:_,onTouchStart:b,style:E,width:S}=e,T=ai(),[O,k]=L.useState(null),[D,z]=L.useState(null);yxe();var F=H3e(),q=L.useCallback(j=>{F(j),typeof t=="function"&&t(j),k(j),z(j)},[F,t,k,z]),B=L.useCallback(j=>{T(yU(j)),T(Ns({handler:a,reactEvent:j}))},[T,a]),ee=L.useCallback(j=>{T(i3(j)),T(Ns({handler:u,reactEvent:j}))},[T,u]),W=L.useCallback(j=>{T(iB()),T(Ns({handler:h,reactEvent:j}))},[T,h]),U=L.useCallback(j=>{T(i3(j)),T(Ns({handler:p,reactEvent:j}))},[T,p]),K=L.useCallback(()=>{T(AU())},[T]),oe=L.useCallback(j=>{T(SU(j.key))},[T]),ae=L.useCallback(j=>{T(Ns({handler:o,reactEvent:j}))},[T,o]),Re=L.useCallback(j=>{T(Ns({handler:s,reactEvent:j}))},[T,s]),ke=L.useCallback(j=>{T(Ns({handler:c,reactEvent:j}))},[T,c]),we=L.useCallback(j=>{T(Ns({handler:v,reactEvent:j}))},[T,v]),_e=L.useCallback(j=>{T(Ns({handler:b,reactEvent:j}))},[T,b]),$e=L.useCallback(j=>{T(TU(j)),T(Ns({handler:_,reactEvent:j}))},[T,_]),We=L.useCallback(j=>{T(Ns({handler:g,reactEvent:j}))},[T,g]);return L.createElement(_B.Provider,{value:O},L.createElement(Rj.Provider,{value:D},L.createElement("div",{className:rn("recharts-wrapper",n),style:V3e({position:"relative",cursor:"default",width:S,height:i},E),onClick:B,onContextMenu:ae,onDoubleClick:Re,onFocus:K,onKeyDown:oe,onMouseDown:ke,onMouseEnter:ee,onMouseLeave:W,onMouseMove:U,onMouseUp:we,onTouchEnd:We,onTouchMove:$e,onTouchStart:_e,ref:q},r)))}),Y3e=["children","className","width","height","style","compact","title","desc"];function Z3e(e,t){if(e==null)return{};var r,n,i=J3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IU=L.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:c,desc:u}=e,h=Z3e(e,Y3e),p=Kl(h);return s?L.createElement(QN,{otherAttributes:p,title:c,desc:u},r):L.createElement(X3e,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},L.createElement(QN,{otherAttributes:p,title:c,desc:u,ref:t},L.createElement(C5e,null,r)))}),Q3e=["width","height"];function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(null,arguments)}function e4e(e,t){if(e==null)return{};var r,n,i=t4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r4e={top:5,right:5,bottom:5,left:5},n4e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:r4e,reverseStackOrder:!1,syncMethod:"index"},RU=L.forwardRef(function(t,r){var n,i=Ra(t.categoricalChartProps,n4e),{width:a,height:o}=i,s=e4e(i,Q3e);if(!ed(a)||!ed(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,g={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return L.createElement(kU,{preloadedState:{options:g},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:c},L.createElement(lU,{chartData:v.data}),L.createElement(NU,{width:a,height:o,layout:i.layout,margin:i.margin}),L.createElement(PU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),L.createElement(IU,a3({},s,{width:a,height:o,ref:r})))}),i4e=["axis"],tP=L.forwardRef((e,t)=>L.createElement(RU,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:i4e,tooltipPayloadSearcher:iA,categoricalChartProps:e,ref:t})),a4e=["axis","item"],o4e=L.forwardRef((e,t)=>L.createElement(RU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:a4e,tooltipPayloadSearcher:iA,categoricalChartProps:e,ref:t}));function s4e(e){var t=ai();return L.useEffect(()=>{t(I3e(e))},[t,e]),null}var l4e=["width","height","layout"];function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(null,arguments)}function c4e(e,t){if(e==null)return{};var r,n,i=u4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f4e={top:5,right:5,bottom:5,left:5},h4e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:f4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},d4e=L.forwardRef(function(t,r){var n,i=Ra(t.categoricalChartProps,h4e),{width:a,height:o,layout:s}=i,c=c4e(i,l4e);if(!ed(a)||!ed(o))return null;var{chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=t,g={chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return L.createElement(kU,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},L.createElement(lU,{chartData:i.data}),L.createElement(NU,{width:a,height:o,layout:s,margin:i.margin}),L.createElement(PU,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),L.createElement(s4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),L.createElement(IU,o3({width:a,height:o},c,{ref:r})))}),p4e=["item"],g4e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rP=L.forwardRef((e,t)=>{var r=Ra(e,g4e);return L.createElement(d4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:p4e,tooltipPayloadSearcher:iA,categoricalChartProps:r,ref:t})});const m4e=()=>{const{stockMovements:e,products:t}=Ji(),[r,n]=L.useState("month"),[i,a]=L.useState("all"),o=()=>{const S=new Date;switch(r){case"week":return new Date(S.setDate(S.getDate()-7));case"month":return new Date(S.setMonth(S.getMonth()-1));case"quarter":return new Date(S.setMonth(S.getMonth()-3));case"year":return new Date(S.setFullYear(S.getFullYear()-1));default:return new Date(S.setMonth(S.getMonth()-1))}},s=L.useMemo(()=>{const S=o();return e.filter(T=>T.timestamp>=S)},[e,r]),c=L.useMemo(()=>{const S=s.filter(O=>O.movementType==="exit"),T={};return S.forEach(O=>{const k=t.find(D=>D.id===O.productId);!k||k.deletedAt||(T[O.productId]||(T[O.productId]={name:k.reference,quantity:0,reference:k.reference,designation:k.designation}),T[O.productId].quantity+=O.quantity)}),Object.values(T).sort((O,k)=>k.quantity-O.quantity).slice(0,10)},[s,t]),u=L.useMemo(()=>{const S=s.filter(O=>O.movementType==="exit"),T={};return S.forEach(O=>{const k=t.find(z=>z.id===O.productId);if(k&&k.deletedAt)return;const D=(k==null?void 0:k.category)||"Non catgoris";T[D]||(T[D]=0),T[D]+=O.quantity}),Object.entries(T).map(([O,k])=>({name:O,value:k}))},[s,t]),h=L.useMemo(()=>{const S=s.filter(O=>O.movementType==="exit"),T={};return S.forEach(O=>{const k=t.find(F=>F.id===O.productId);if(k&&k.deletedAt)return;const D=(k==null?void 0:k.category)||"Non catgoris",z=((k==null?void 0:k.unitPrice)||0)*O.quantity;T[D]||(T[D]=0),T[D]+=z}),Object.entries(T).map(([O,k])=>({name:O,value:parseFloat(k.toFixed(2))}))},[s,t]),p=L.useMemo(()=>{const S=s.filter(O=>{const k=t.find(D=>D.id===O.productId);return O.movementType==="exit"&&(!k||!k.deletedAt)}),T={};return S.forEach(O=>{const k=O.timestamp.toISOString().split("T")[0];T[k]||(T[k]=0),T[k]+=O.quantity}),Object.entries(T).map(([O,k])=>({date:new Date(O).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),quantity:k,sortDate:O})).sort((O,k)=>new Date(O.sortDate).getTime()-new Date(k.sortDate).getTime())},[s,t]),v=L.useMemo(()=>{const S=s.filter(O=>{const k=t.find(D=>D.id===O.productId);return O.movementType==="exit"&&(!k||!k.deletedAt)}),T={};return S.forEach(O=>{const k=O.timestamp.toISOString().split("T")[0],D=t.find(F=>F.id===O.productId),z=((D==null?void 0:D.unitPrice)||0)*O.quantity;T[k]||(T[k]=0),T[k]+=z}),Object.entries(T).map(([O,k])=>({date:new Date(O).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),cost:parseFloat(k.toFixed(2)),sortDate:O})).sort((O,k)=>new Date(O.sortDate).getTime()-new Date(k.sortDate).getTime())},[s,t]),g=L.useMemo(()=>{var ee;const S=s.filter(W=>{const U=t.find(K=>K.id===W.productId);return W.movementType==="exit"&&(!U||!U.deletedAt)}),T=s.filter(W=>{const U=t.find(K=>K.id===W.productId);return W.movementType==="entry"&&(!U||!U.deletedAt)}),O=S.reduce((W,U)=>W+U.quantity,0),k=T.reduce((W,U)=>W+U.quantity,0),D=r==="week"?7:r==="month"?30:r==="quarter"?90:365,z=O/D,F=S.reduce((W,U)=>{const K=t.find(oe=>oe.id===U.productId);return W+((K==null?void 0:K.unitPrice)||0)*U.quantity},0),q=T.reduce((W,U)=>{const K=t.find(oe=>oe.id===U.productId);return W+((K==null?void 0:K.unitPrice)||0)*U.quantity},0),B=F/D;return{totalExits:O,totalEntries:k,avgDailyConsumption:z.toFixed(2),mostConsumedProduct:((ee=c[0])==null?void 0:ee.name)||"N/A",productsWithMovements:new Set(S.map(W=>W.productId)).size,totalExitValue:F.toFixed(2),totalEntryValue:q.toFixed(2),avgDailyValue:B.toFixed(2)}},[s,c,r,t]),_=L.useMemo(()=>{const S=[];return t.forEach(T=>{const O=s.filter(k=>k.productId===T.id&&k.movementType==="exit");if(O.length>0){const z=O.reduce((B,ee)=>B+ee.quantity,0)/(r==="week"?7:r==="month"?30:r==="quarter"?90:365),F=z>0?T.currentStock/z:999,q=(T.unitPrice||0)*T.currentStock;F<30&&T.currentStock>0&&S.push({product:T.designation,currentStock:T.currentStock,avgConsumption:parseFloat(z.toFixed(2)),daysLeft:Math.floor(F),category:T.category,unitPrice:T.unitPrice||0,estimatedCost:parseFloat(q.toFixed(2))})}}),S.sort((T,O)=>T.daysLeft-O.daysLeft).slice(0,10)},[t,s,r]),b=["#ff6b35","#f7931e","#fdc82f","#d62828","#ff4d00","#ff9500","#fcbf49","#e63946","#f77f00","#d62839"],E=L.useMemo(()=>{const S=new Set(t.map(T=>T.category));return["all",...Array.from(S)]},[t]);return y.jsxs("div",{className:"statistics-page",children:[y.jsx("h1",{children:"Statistiques"}),y.jsx("div",{className:"page-header",children:y.jsxs("div",{className:"filters",children:[y.jsxs("select",{value:r,onChange:S=>n(S.target.value),children:[y.jsx("option",{value:"week",children:"7 derniers jours"}),y.jsx("option",{value:"month",children:"30 derniers jours"}),y.jsx("option",{value:"quarter",children:"3 derniers mois"}),y.jsx("option",{value:"year",children:"Dernire anne"})]}),y.jsx("select",{value:i,onChange:S=>a(S.target.value),children:E.map(S=>y.jsx("option",{value:S,children:S==="all"?"Toutes catgories":S},S))})]})}),y.jsxs("div",{className:"stats-cards",children:[y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Entres / Valeur des entres"}),y.jsx("p",{className:"stat-value",children:g.totalEntries}),y.jsxs("p",{className:"stat-value",style:{fontSize:"1.25rem",marginTop:"0.5rem",color:"#10b981"},children:[g.totalEntryValue," "]})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Sorties / Valeur des sorties"}),y.jsx("p",{className:"stat-value",children:g.totalExits}),y.jsxs("p",{className:"stat-value",style:{fontSize:"1.25rem",marginTop:"0.5rem",color:"#ef4444"},children:[g.totalExitValue," "]})]})}),y.jsx("div",{className:"stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Conso. moy. journalire / Cot moy. journalier"}),y.jsx("p",{className:"stat-value",children:g.avgDailyConsumption}),y.jsxs("p",{className:"stat-value",style:{fontSize:"1.25rem",marginTop:"0.5rem"},children:[g.avgDailyValue," "]})]})}),y.jsx("div",{className:"stat-card",style:{alignItems:"flex-start"},children:y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:"Variation"}),y.jsxs("p",{className:"stat-value",style:{fontSize:"1.875rem",marginTop:"0.5rem",color:parseFloat(g.totalEntryValue)-parseFloat(g.totalExitValue)>=0?"#10b981":"#ef4444"},children:[(parseFloat(g.totalEntryValue)-parseFloat(g.totalExitValue)).toFixed(2)," "]})]})})]}),y.jsxs("div",{className:"charts-grid",children:[y.jsxs("div",{className:"chart-container",children:[y.jsx("h2",{children:"Top 10 - Produits les plus consomms"}),y.jsx(f1,{width:"100%",height:300,children:y.jsxs(o4e,{data:c,children:[y.jsx(o2,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),y.jsx(s2,{hide:!0}),y.jsx(l2,{stroke:"var(--text-color)"}),y.jsx(u1,{content:({active:S,payload:T})=>{if(S&&T&&T.length){const O=T[0].payload;return y.jsxs("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",padding:"0.75rem",borderRadius:"0.5rem"},children:[y.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"var(--accent-color)",fontWeight:"600",fontSize:"0.9375rem"},children:O.reference}),y.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"#ffffff",fontSize:"0.875rem"},children:O.designation}),y.jsxs("p",{style:{margin:"0",color:"var(--text-color)",fontWeight:"600",fontSize:"0.875rem"},children:["Quantit consomme: ",O.quantity]})]})}return null}}),y.jsx(oU,{dataKey:"quantity",fill:"rgb(249, 55, 5)"})]})})]}),y.jsxs("div",{className:"chart-container",children:[y.jsx("h2",{children:"Rpartition par catgorie (Quantit)"}),y.jsx(f1,{width:"100%",height:300,children:y.jsxs(rP,{children:[y.jsx(J_,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:T})=>`${S}: ${(T*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",stroke:"none",children:u.map((S,T)=>y.jsx(ad,{fill:b[T%b.length],stroke:"none"},`cell-${T}`))}),y.jsx(u1,{contentStyle:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--text-color)"}})]})})]}),y.jsxs("div",{className:"chart-container",children:[y.jsx("h2",{children:"Rpartition des cots par catgorie"}),y.jsx(f1,{width:"100%",height:300,children:y.jsxs(rP,{children:[y.jsx(J_,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:T})=>`${S}: ${(T*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",stroke:"none",children:h.map((S,T)=>y.jsx(ad,{fill:b[T%b.length],stroke:"none"},`cell-${T}`))}),y.jsx(u1,{contentStyle:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--text-color)"},formatter:S=>`${S.toFixed(2)} `})]})})]})]}),y.jsxs("div",{className:"chart-container full-width",style:{marginTop:"2rem"},children:[y.jsx("h2",{children:"Prvisions de rupture de stock (30 prochains jours)"}),_.length>0?y.jsx("div",{className:"predictions-table",children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Produit"}),y.jsx("th",{children:"Catgorie"}),y.jsx("th",{children:"Stock actuel"}),y.jsx("th",{children:"Conso. moy. / jour"}),y.jsx("th",{children:"Prix unitaire"}),y.jsx("th",{children:"Valeur stock"}),y.jsx("th",{children:"Jours restants"}),y.jsx("th",{children:"Alerte"})]})}),y.jsx("tbody",{children:_.map((S,T)=>y.jsxs("tr",{children:[y.jsx("td",{children:S.product}),y.jsx("td",{children:S.category}),y.jsx("td",{children:S.currentStock}),y.jsx("td",{children:S.avgConsumption}),y.jsx("td",{children:S.unitPrice>0?`${S.unitPrice.toFixed(2)} `:"-"}),y.jsx("td",{children:S.estimatedCost>0?`${S.estimatedCost.toFixed(2)} `:"-"}),y.jsx("td",{children:S.daysLeft}),y.jsx("td",{children:y.jsx("span",{className:`status-badge ${S.daysLeft<=7?"critical":S.daysLeft<=14?"low":"normal"}`,children:S.daysLeft<=7?"Urgent":S.daysLeft<=14?"Attention":" surveiller"})})]},T))})]})}):y.jsx("p",{className:"no-data",children:"Aucune rupture de stock prvue dans les 30 prochains jours"})]}),y.jsxs("div",{className:"charts-grid",style:{marginTop:"2rem"},children:[y.jsxs("div",{className:"chart-container full-width",children:[y.jsx("h2",{children:"volution de la consommation (Quantit)"}),y.jsx(f1,{width:"100%",height:300,children:y.jsxs(tP,{data:p,children:[y.jsx(o2,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),y.jsx(s2,{dataKey:"date",stroke:"var(--text-color)"}),y.jsx(l2,{stroke:"var(--text-color)"}),y.jsx(u1,{contentStyle:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--text-color)"}}),y.jsx(Cp,{}),y.jsx(t3,{type:"monotone",dataKey:"quantity",stroke:"rgb(249, 55, 5)",strokeWidth:2,name:"Quantit"})]})})]}),y.jsxs("div",{className:"chart-container full-width",children:[y.jsx("h2",{children:"volution des cots de consommation"}),y.jsx(f1,{width:"100%",height:300,children:y.jsxs(tP,{data:v,children:[y.jsx(o2,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),y.jsx(s2,{dataKey:"date",stroke:"var(--text-color)"}),y.jsx(l2,{stroke:"var(--text-color)"}),y.jsx(u1,{contentStyle:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--text-color)"},formatter:S=>`${S.toFixed(2)} `}),y.jsx(Cp,{}),y.jsx(t3,{type:"monotone",dataKey:"cost",stroke:"#10b981",strokeWidth:2,name:"Cot ()"})]})})]})]})]})},v4e=()=>{const{products:e,addExitRequest:t,currentUser:r,stockMovements:n}=Ji(),{addNotification:i}=px(),[a,o]=L.useState("all"),[s,c]=L.useState([]),[u,h]=L.useState({}),[p,v]=L.useState(!1),g=e.filter(U=>U.currentStock>0),_=L.useMemo(()=>{if(!r)return[];const U=n.filter(ae=>ae.movementType==="exit"&&ae.userId===r.id),K={};U.forEach(ae=>{K[ae.productId]=(K[ae.productId]||0)+ae.quantity});const oe=Object.entries(K).sort(([,ae],[,Re])=>Re-ae).slice(0,10).map(([ae])=>ae);return g.filter(ae=>oe.includes(ae.id))},[g,n,r]),b=L.useMemo(()=>a==="all"?g:a==="top-ordered"?_:g.filter(U=>U.category===a),[g,a,_]),E=L.useMemo(()=>["all","top-ordered",...new Set(g.map(K=>K.category))],[g]),S=U=>u[U]||1,T=(U,K)=>{const oe=e.find(we=>we.id===U);if(!oe)return;const ae=D(U),Re=oe.currentStock-ae,ke=Math.max(1,Math.min(K,Re));h({...u,[U]:ke})},O=U=>{T(U,S(U)+1)},k=U=>{T(U,S(U)-1)},D=U=>{const K=s.find(oe=>oe.productId===U);return K?K.quantity:0},z=U=>{const K=e.find(ke=>ke.id===U);if(!K)return;const oe=S(U),ae=D(U);if(ae+oe>K.currentStock){alert(`Stock insuffisant ! Disponible: ${K.currentStock}, Dj dans le panier: ${ae}`);return}const Re=s.find(ke=>ke.productId===U);c(Re?s.map(ke=>ke.productId===U?{...ke,quantity:ke.quantity+oe}:ke):[...s,{productId:K.id,productReference:K.reference,productDesignation:K.designation,quantity:oe,maxStock:K.currentStock,photo:K.photo}]),h({...u,[U]:1})},F=U=>{c(s.filter(K=>K.productId!==U))},q=()=>{c([])},B=async()=>{if(!(!r||s.length===0||p)){v(!0);try{const U=s.length,K=s.reduce((oe,ae)=>oe+ae.quantity,0);for(const oe of s)await t({productId:oe.productId,productReference:oe.productReference,productDesignation:oe.productDesignation,productPhoto:oe.photo,quantity:oe.quantity,reason:"Demande depuis le catalogue"});q(),i({type:"success",title:"Commande valide !",message:`${U} demande(s) cre(s) avec succs (${K} article(s) au total)`,duration:5e3})}catch(U){console.error("Erreur lors de la soumission:",U),i({type:"error",title:"Erreur",message:"Une erreur est survenue lors de la soumission des demandes",duration:5e3})}finally{v(!1)}}},ee=()=>s.reduce((U,K)=>U+K.quantity,0),W=U=>{const K=U.currentStock/U.maxStock;return U.currentStock===0||K<=.2?"critical":K<=.4?"low":"normal"};return y.jsxs("div",{className:"catalog-container",children:[y.jsx("h1",{children:"Catalogue des Produits"}),y.jsx("div",{className:"category-nav",children:E.map(U=>y.jsx("button",{className:`category-btn ${a===U?"active":""}`,onClick:()=>o(U),children:U==="all"?"Toutes les catgories":U==="top-ordered"?"Les plus commandes":U},U))}),b.length===0?y.jsx("div",{className:"no-data",children:y.jsx("p",{children:"Aucun produit disponible dans cette catgorie"})}):y.jsx("div",{className:"products-grid",children:b.map(U=>{const K=W(U),oe=S(U.id),ae=D(U.id);return y.jsxs("div",{className:"product-card",children:[y.jsxs("div",{className:"product-image-wrapper",children:[y.jsx("span",{className:"product-category-badge",children:U.category}),U.photo?y.jsx("img",{src:U.photo,alt:U.designation,className:"product-image"}):y.jsx("div",{className:"product-image-placeholder",children:""})]}),y.jsxs("div",{className:"product-details",children:[y.jsx("div",{className:"product-ref",children:U.reference}),y.jsx("h3",{className:"product-name",children:U.designation}),y.jsxs("div",{className:`product-stock-inline ${K}`,children:["Quantit : ",U.currentStock-ae]}),y.jsxs("div",{className:"product-actions",children:[y.jsxs("div",{className:"quantity-selector",children:[y.jsx("button",{className:"quantity-btn",onClick:()=>k(U.id),disabled:oe<=1,children:""}),y.jsx("input",{type:"number",className:"quantity-input",value:oe,onChange:Re=>T(U.id,parseInt(Re.target.value)||1),min:"1",max:U.currentStock-ae}),y.jsx("button",{className:"quantity-btn",onClick:()=>O(U.id),disabled:oe>=U.currentStock-ae,children:"+"})]}),U.currentStock-ae>0?y.jsx("button",{className:"add-to-cart-btn-icon",onClick:()=>z(U.id),title:"Ajouter au panier",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"9",cy:"21",r:"1"}),y.jsx("circle",{cx:"20",cy:"21",r:"1"}),y.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})}):y.jsx("button",{className:"add-to-cart-btn-icon",disabled:!0,title:"Stock puis",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"9",cy:"21",r:"1"}),y.jsx("circle",{cx:"20",cy:"21",r:"1"}),y.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})})]})]})]},U.id)})}),s.length>0&&y.jsxs("div",{className:"fixed-cart",children:[y.jsxs("div",{className:"cart-header",children:[y.jsx("h2",{children:"Mon Panier"}),y.jsxs("span",{className:"cart-count",children:[ee()," articles"]})]}),y.jsx("div",{className:"cart-items",children:s.map(U=>y.jsxs("div",{className:"cart-item",children:[U.photo?y.jsx("img",{src:U.photo,alt:U.productDesignation,className:"cart-item-image"}):y.jsx("div",{className:"cart-item-image",children:""}),y.jsxs("div",{className:"cart-item-details",children:[y.jsx("div",{className:"cart-item-ref product-reference-highlight",children:U.productReference}),y.jsx("div",{className:"cart-item-name",children:U.productDesignation}),y.jsxs("div",{className:"cart-item-quantity",children:[y.jsx("span",{children:"Quantit:"}),y.jsx("strong",{children:U.quantity})]})]}),y.jsx("button",{className:"remove-item-btn",onClick:()=>F(U.productId),title:"Retirer du panier",children:""})]},U.productId))}),y.jsxs("div",{className:"cart-footer",children:[y.jsx("button",{className:"empty-cart-btn",onClick:q,disabled:p,children:"Vider le panier"}),y.jsx("button",{className:"submit-cart-btn",onClick:B,disabled:p,children:p?"Validation en cours...":"Valider les demandes"})]})]})]})},x4e=()=>{const{exitRequests:e,currentUser:t,deleteExitRequest:r}=Ji(),[n,i]=L.useState(""),[a,o]=L.useState(null),[s,c]=L.useState(1),u=L.useRef(null),h=25,p=e.filter(k=>k.requestedBy===(t==null?void 0:t.username)),v=n?p.filter(k=>k.status===n):p,g=L.useMemo(()=>{const k=new Map;return v.forEach(D=>{const z=`${D.requestedBy}-${new Date(D.requestedAt).toISOString().slice(0,16)}`;k.has(z)||k.set(z,[]),k.get(z).push(D)}),k},[v]),_=L.useMemo(()=>Array.from(g.entries()).sort((k,D)=>{const z=new Date(k[1][0].requestedAt).getTime();return new Date(D[1][0].requestedAt).getTime()-z}),[g]),b=Math.ceil(_.length/h),E=L.useMemo(()=>{const k=(s-1)*h,D=k+h;return _.slice(k,D)},[_,s,h]),S=k=>{var D;c(k),(D=u.current)==null||D.scrollIntoView({behavior:"smooth",block:"start"})},T=L.useCallback(k=>{const D=g.get(k);if(!D)return;const z=D.filter(F=>F.status==="pending");if(z.length===0){alert("Aucune demande en attente dans ce panier");return}window.confirm(`tes-vous sr de vouloir annuler les ${z.length} demande(s) en attente de ce panier ?`)&&(z.forEach(F=>{r(F.id)}),o(null))},[g,r]),O=L.useCallback(k=>{const D=k.map(z=>z.status);return D.every(z=>z==="approved")?"approved":D.every(z=>z==="rejected")?"rejected":D.every(z=>z==="pending")?"pending":"mixed"},[]);return y.jsxs("div",{className:"my-requests-page",children:[y.jsx("h1",{children:"Mes Demandes de Sortie"}),y.jsx("div",{className:"filters",children:y.jsxs("select",{value:n,onChange:k=>i(k.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les statuts"}),y.jsx("option",{value:"pending",children:"En attente"}),y.jsx("option",{value:"approved",children:"Approuves"}),y.jsx("option",{value:"rejected",children:"Refuses"})]})}),_.length===0?y.jsx("p",{className:"no-data",children:"Aucune demande trouve"}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:u,className:"products-table-container",children:y.jsxs("table",{className:"products-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date de la demande"}),y.jsx("th",{children:"Nombre d'articles"}),y.jsx("th",{children:"Statut"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:E.map(([k,D])=>{const z=O(D),F=D[0],q=D.some(B=>B.status==="pending");return y.jsxs("tr",{children:[y.jsxs("td",{children:[new Date(F.requestedAt).toLocaleDateString("fr-FR")," "," ",new Date(F.requestedAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),y.jsxs("td",{children:[D.length," article",D.length>1?"s":""]}),y.jsx("td",{children:y.jsxs("span",{className:`stock-value stock-${z}`,children:[z==="pending"&&"En attente",z==="approved"&&"Approuv",z==="rejected"&&"Refus",z==="mixed"&&"Mixte"]})}),y.jsx("td",{children:y.jsxs("div",{className:"actions",children:[y.jsx("button",{onClick:()=>o(k),className:"btn-icon btn-edit",title:"Voir dtails",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),q&&y.jsx("button",{onClick:()=>T(k),className:"btn-icon btn-delete-red",title:"Annuler le panier",children:y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})})]},k)})})]})}),b>1&&y.jsxs("div",{className:"pagination",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"1.5rem",padding:"1rem"},children:[y.jsx("button",{onClick:()=>S(s-1),disabled:s===1,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",opacity:s===1?.5:1,cursor:s===1?"not-allowed":"pointer"},children:"Prcdent"}),y.jsx("div",{style:{display:"flex",gap:"0.25rem"},children:Array.from({length:b},(k,D)=>D+1).map(k=>y.jsx("button",{onClick:()=>S(k),className:k===s?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 0.75rem",minWidth:"2.5rem"},children:k},k))}),y.jsx("button",{onClick:()=>S(s+1),disabled:s===b,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",opacity:s===b?.5:1,cursor:s===b?"not-allowed":"pointer"},children:"Suivant"})]})]}),a&&y.jsx("div",{className:"modal-overlay",onClick:()=>o(null),children:y.jsxs("div",{className:"modal",onClick:k=>k.stopPropagation(),style:{maxWidth:"800px"},children:[y.jsx("h2",{children:"Dtails du Panier"}),y.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["Demand le ",new Date(g.get(a)[0].requestedAt).toLocaleString("fr-FR")]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"500px",overflowY:"auto"},children:g.get(a).map(k=>y.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"var(--card-bg)",borderRadius:"8px",border:"1px solid var(--border-color)",alignItems:"center"},children:[k.productPhoto?y.jsx("img",{src:k.productPhoto,alt:k.productDesignation,style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px"}}):y.jsx("div",{style:{width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-secondary)",borderRadius:"8px",fontSize:"2rem"},children:""}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem"},children:k.productDesignation}),y.jsx("p",{style:{margin:"0.25rem 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:k.productReference}),y.jsxs("p",{style:{margin:"0.25rem 0",fontSize:"0.95rem"},children:[y.jsx("strong",{children:"Quantit:"})," ",k.quantity]}),k.status==="rejected"&&k.notes&&y.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#ef4444",fontSize:"0.9rem"},children:[y.jsx("strong",{children:"Raison:"})," ",k.notes]})]})]},k.id))}),y.jsx("div",{className:"modal-actions",style:{marginTop:"1.5rem"},children:y.jsx("button",{onClick:()=>o(null),className:"btn btn-secondary",children:"Fermer"})})]})})]})},y4e=()=>{const{stockMovements:e,products:t}=Ji(),[r,n]=L.useState(""),[i,a]=L.useState(""),[o,s]=L.useState(1),c=25,u=L.useMemo(()=>e.filter(E=>{const S=!r||E.productId===r,T=!i||E.movementType===i;return S&&T}),[e,r,i]),h=L.useCallback(E=>{switch(E){case"entry":return"Entre";case"exit":return"Sortie";case"adjustment":return"Ajustement";case"initial":return"Initial";default:return E}},[]),p=L.useCallback(E=>{switch(E){case"entry":return"movement-entry";case"exit":return"movement-exit";case"adjustment":return"movement-adjustment";case"initial":return"movement-initial";default:return""}},[]),v=L.useCallback(()=>{const E=new ir;E.setFontSize(20),E.text("Historique des Mouvements de Stock",14,22),E.setFontSize(10),E.text(`Gnr le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}`,14,30);let S=36;if(E.setFontSize(9),r||i){if(E.text("Filtres appliqus:",14,S),S+=5,r){const O=t.find(k=>k.id===r);E.text(`- Produit: ${(O==null?void 0:O.designation)||"N/A"}`,14,S),S+=5}i&&(E.text(`- Type: ${h(i)}`,14,S),S+=5),S+=3}const T=u.map(O=>[new Date(O.timestamp).toLocaleString("fr-FR"),O.productReference,O.productDesignation,h(O.movementType),O.quantity.toString(),O.previousStock.toString(),O.newStock.toString(),O.userName]);v4(E,{startY:S,head:[["Date/Heure","Rfrence","Produit","Type","Quantit","Stock avant","Stock aprs","Utilisateur"]],body:T,styles:{fontSize:8},headStyles:{fillColor:[197,90,58]}}),E.save(`historique_stock_${new Date().toISOString().split("T")[0]}.pdf`)},[u,t,r,i,h]),g=L.useCallback(()=>{const E=u.map(k=>({"Date/Heure":new Date(k.timestamp).toLocaleString("fr-FR"),Rfrence:k.productReference,Produit:k.productDesignation,Type:h(k.movementType),Quantit:k.quantity,"Stock avant":k.previousStock,"Stock aprs":k.newStock,Utilisateur:k.userName})),S=j0.json_to_sheet(E),T=j0.book_new();j0.book_append_sheet(T,S,"Historique");const O=E.reduce((k,D)=>Math.max(k,D["Date/Heure"].length),10);S["!cols"]=[{wch:O},{wch:12},{wch:30},{wch:12},{wch:10},{wch:12},{wch:12},{wch:15}],KD(T,`historique_stock_${new Date().toISOString().split("T")[0]}.xlsx`)},[u,h]),_=L.useMemo(()=>Math.ceil(u.length/c),[u.length,c]),b=L.useMemo(()=>{const E=(o-1)*c,S=E+c;return u.slice(E,S)},[u,o,c]);return Vu.useEffect(()=>{s(1)},[r,i]),y.jsxs("div",{className:"history-page",children:[y.jsx("h1",{children:"Historique"}),y.jsxs("div",{className:"movements-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("h4",{children:"Total des mouvements"}),y.jsx("span",{className:"stat-value",children:u.length})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h4",{children:"Entres"}),y.jsx("span",{className:"stat-value entry",children:u.filter(E=>E.movementType==="entry").length})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h4",{children:"Sorties"}),y.jsx("span",{className:"stat-value exit",children:u.filter(E=>E.movementType==="exit").length})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h4",{children:"Ajustements"}),y.jsx("span",{className:"stat-value adjustment",children:u.filter(E=>E.movementType==="adjustment").length})]})]}),y.jsxs("div",{className:"filters-with-export",style:{marginBottom:"2rem"},children:[y.jsxs("div",{className:"filters-left",children:[y.jsxs("select",{value:r,onChange:E=>n(E.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les produits"}),t.map(E=>y.jsxs("option",{value:E.id,children:[E.reference," - ",E.designation]},E.id))]}),y.jsxs("select",{value:i,onChange:E=>a(E.target.value),className:"filter-select",children:[y.jsx("option",{value:"",children:"Tous les types"}),y.jsx("option",{value:"entry",children:"Entre"}),y.jsx("option",{value:"exit",children:"Sortie"}),y.jsx("option",{value:"adjustment",children:"Ajustement"}),y.jsx("option",{value:"initial",children:"Initial"})]}),y.jsx("button",{onClick:()=>{n(""),a("")},className:"btn btn-secondary",children:"Rinitialiser"})]}),y.jsxs("div",{className:"export-buttons-right",children:[y.jsxs("button",{onClick:v,className:"btn btn-secondary",children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),y.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),"PDF"]}),y.jsxs("button",{onClick:g,className:"btn btn-secondary",children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),y.jsx("path",{d:"M14 2v6h6M12 18v-6M9 15l3 3 3-3"})]}),"Excel"]})]})]}),u.length===0?y.jsx("p",{className:"no-data",children:"Aucun mouvement trouv"}):y.jsxs("div",{className:"movements-table-container",children:[y.jsxs("table",{className:"movements-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date/Heure"}),y.jsx("th",{children:"Produit"}),y.jsx("th",{children:"Type"}),y.jsx("th",{children:"Quantit"}),y.jsx("th",{children:"Stock avant"}),y.jsx("th",{children:"Stock aprs"}),y.jsx("th",{children:"Utilisateur"})]})}),y.jsx("tbody",{children:b.map(E=>y.jsxs("tr",{className:p(E.movementType),children:[y.jsxs("td",{className:"date-cell",children:[new Date(E.timestamp).toLocaleDateString("fr-FR"),y.jsx("br",{}),y.jsx("small",{children:new Date(E.timestamp).toLocaleTimeString("fr-FR")})]}),y.jsxs("td",{children:[y.jsx("strong",{children:E.productReference}),y.jsx("br",{}),y.jsx("small",{children:E.productDesignation})]}),y.jsx("td",{children:y.jsx("span",{className:`type-badge ${p(E.movementType)}`,children:h(E.movementType)})}),y.jsxs("td",{className:"quantity-cell",children:[E.movementType==="exit"?"-":"+",E.quantity]}),y.jsx("td",{children:E.previousStock}),y.jsx("td",{children:y.jsx("strong",{children:E.newStock})}),y.jsx("td",{children:E.userName})]},E.id))})]}),_>1&&y.jsxs("div",{className:"pagination",children:[y.jsx("button",{onClick:()=>s(E=>Math.max(1,E-1)),disabled:o===1,className:"btn btn-secondary",children:" Prcdent"}),y.jsxs("div",{className:"pagination-info",children:["Page ",o," sur ",_," (",u.length," mouvements)"]}),y.jsx("button",{onClick:()=>s(E=>Math.min(_,E+1)),disabled:o===_,className:"btn btn-secondary",children:"Suivant "})]})]})]})},w4e=()=>{const{getPendingExits:e,clearPendingExits:t}=Ji(),[r,n]=L.useState([]);L.useEffect(()=>{i()},[]);const i=()=>{n(e())},a=()=>{const s=new ir({orientation:"landscape",unit:"mm",format:"a4"}),c=s.internal.pageSize.width;s.setFontSize(18),s.setFont("helvetica","bold"),s.text("FEUILLE DE SORTIE",c/2,15,{align:"center"}),s.setFontSize(10),s.setFont("helvetica","normal");const u=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});s.text(`Date: ${u}`,c/2,22,{align:"center"});const h=r.map((p,v)=>[v+1,p.productReference,p.productDesignation,o(p),p.quantity,p.requestedBy,""]);v4(s,{startY:28,head:[["N","Rfrence","Dsignation","Emplacement","Quantit","Demandeur","Rcupr"]],body:h,theme:"grid",styles:{fontSize:8,cellPadding:2,halign:"left",minCellHeight:8},headStyles:{fillColor:[249,55,5],textColor:[255,255,255],fontStyle:"bold",halign:"center",minCellHeight:8},columnStyles:{0:{cellWidth:12,halign:"center"},1:{cellWidth:30,textColor:[249,55,5],fontStyle:"bold"},2:{cellWidth:100},3:{cellWidth:45},4:{cellWidth:20,halign:"center"},5:{cellWidth:35},6:{cellWidth:20,halign:"center",fontSize:14}}}),s.save(`feuille-sortie-${u}.pdf`),setTimeout(()=>{t(),n([])},500)},o=s=>{const c=[];return s.storageZone&&c.push(s.storageZone),s.shelf&&c.push(String(s.shelf)),s.position&&c.push(String(s.position)),c.join(" - ")||"Non spcifi"};return y.jsxs("div",{className:"exit-sheet-page",children:[y.jsx("div",{className:"page-header no-print",children:y.jsxs("div",{children:[y.jsx("h1",{children:"Feuille de Sortie"}),y.jsxs("p",{className:"subtitle",children:[r.length," produit",r.length>1?"s":""," en attente de sortie"]})]})}),r.length===0?y.jsxs("div",{className:"empty-state no-print",children:[y.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),y.jsx("polyline",{points:"14 2 14 8 20 8"})]}),y.jsx("h3",{children:"Aucune sortie en attente"}),y.jsx("p",{children:"Les produits approuvs pour sortie apparatront ici"})]}):y.jsxs("div",{className:"print-content",children:[y.jsxs("div",{className:"print-header",children:[y.jsx("h1",{children:"FEUILLE DE SORTIE"}),y.jsxs("div",{className:"print-date",children:["Date: ",new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})]})]}),y.jsxs("table",{className:"exit-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"N"}),y.jsx("th",{children:"Rfrence"}),y.jsx("th",{children:"Dsignation"}),y.jsx("th",{children:"Emplacement"}),y.jsx("th",{children:"Quantit"}),y.jsx("th",{children:"Demandeur"}),y.jsx("th",{className:"no-print",children:"Rcupr"})]})}),y.jsx("tbody",{children:r.map((s,c)=>y.jsxs("tr",{children:[y.jsx("td",{children:c+1}),y.jsx("td",{className:"reference",children:s.productReference}),y.jsx("td",{className:"designation",children:s.productDesignation}),y.jsx("td",{className:"location",children:o(s)}),y.jsx("td",{className:"quantity",children:s.quantity}),y.jsx("td",{children:s.requestedBy}),y.jsx("td",{className:"checkbox-cell",children:y.jsx("div",{className:"checkbox"})})]},s.id))})]}),y.jsx("div",{className:"table-actions no-print",children:y.jsxs("button",{onClick:a,className:"btn btn-primary",disabled:r.length===0,children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),y.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),y.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Gnrer PDF et Vider"]})})]})]})};var Xt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xt||(Xt={}));var nP=new Map([[Xt.QR_CODE,"QR_CODE"],[Xt.AZTEC,"AZTEC"],[Xt.CODABAR,"CODABAR"],[Xt.CODE_39,"CODE_39"],[Xt.CODE_93,"CODE_93"],[Xt.CODE_128,"CODE_128"],[Xt.DATA_MATRIX,"DATA_MATRIX"],[Xt.MAXICODE,"MAXICODE"],[Xt.ITF,"ITF"],[Xt.EAN_13,"EAN_13"],[Xt.EAN_8,"EAN_8"],[Xt.PDF_417,"PDF_417"],[Xt.RSS_14,"RSS_14"],[Xt.RSS_EXPANDED,"RSS_EXPANDED"],[Xt.UPC_A,"UPC_A"],[Xt.UPC_E,"UPC_E"],[Xt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),iP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(iP||(iP={}));function b4e(e){return Object.values(Xt).includes(e)}var zv;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(zv||(zv={}));var _4e=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[zv.SCAN_TYPE_CAMERA,zv.SCAN_TYPE_FILE],e}(),LU=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!nP.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,nP.get(t))},e}(),aP=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),s3;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(s3||(s3={}));var E4e=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:s3.UNKWOWN_ERROR}},e}(),S4e=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function vc(e){return typeof e>"u"||e===null}var y0=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),DU=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),s=0,c=o;s<c.length;s++){var u=c[s];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),l3={exports:{}};(function(e,t){(function(r,n){n(t)})(Aa,function(r){function n(Z){return Z==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,l){Z.__proto__=l}||function(Z,l){for(var f in l)l.hasOwnProperty(f)&&(Z[f]=l[f])};function a(Z,l){i(Z,l);function f(){this.constructor=Z}Z.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function o(Z,l){var f=Object.setPrototypeOf;f?f(Z,l):Z.__proto__=l}function s(Z,l){l===void 0&&(l=Z.constructor);var f=Error.captureStackTrace;f&&f(Z,l)}var c=function(Z){a(l,Z);function l(f){var d=this.constructor,m=Z.call(this,f)||this;return Object.defineProperty(m,"name",{value:d.name,enumerable:!1}),o(m,d.prototype),s(m),m}return l}(Error);class u extends c{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class p extends u{}p.kind="IllegalArgumentException";class v{constructor(l){if(this.binarizer=l,l===null)throw new p("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,d,m){const x=this.binarizer.getLuminanceSource().crop(l,f,d,m);return new v(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class g extends u{static getChecksumInstance(){return new g}}g.kind="ChecksumException";class _{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(l,f,d,m,x){for(;x--;)d[m++]=l[f++]}static currentTimeMillis(){return Date.now()}}class E extends u{}E.kind="IndexOutOfBoundsException";class S extends E{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}S.kind="ArrayIndexOutOfBoundsException";class T{static fill(l,f){for(let d=0,m=l.length;d<m;d++)l[d]=f}static fillWithin(l,f,d,m){T.rangeCheck(l.length,f,d);for(let x=f;x<d;x++)l[x]=m}static rangeCheck(l,f,d){if(f>d)throw new p("fromIndex("+f+") > toIndex("+d+")");if(f<0)throw new S(f);if(d>l)throw new S(d)}static asList(...l){return l}static create(l,f,d){return Array.from({length:l}).map(x=>Array.from({length:f}).fill(d))}static createInt32Array(l,f,d){return Array.from({length:l}).map(x=>Int32Array.from({length:f}).fill(d))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let d=0,m=l.length;d<m;d++)if(l[d]!==f[d])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const d of l)f=31*f+d;return f}static fillUint8Array(l,f){for(let d=0;d!==l.length;d++)l[d]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const d=new Uint8Array(f);return d.set(l),d}return l.slice(0,f)}static copyOfRange(l,f,d){const m=d-f,x=new Int32Array(m);return b.arraycopy(l,f,x,0,m),x}static binarySearch(l,f,d){d===void 0&&(d=T.numberComparator);let m=0,x=l.length-1;for(;m<=x;){const w=x+m>>1,C=d(f,l[w]);if(C>0)m=w+1;else if(C<0)x=w-1;else return w}return-m-1}static numberComparator(l,f){return l-f}}class O{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let d=31;return f=l<<16,f!==0&&(d-=16,l=f),f=l<<8,f!==0&&(d-=8,l=f),f=l<<4,f!==0&&(d-=4,l=f),f=l<<2,f!==0&&(d-=2,l=f),d-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=k.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=k.makeArray(l);b.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const d=this.bits;let m=Math.floor(l/32),x=d[m];x&=~((1<<(l&31))-1);const w=d.length;for(;x===0;){if(++m===w)return f;x=d[m]}const C=m*32+O.numberOfTrailingZeros(x);return C>f?f:C}getNextUnset(l){const f=this.size;if(l>=f)return f;const d=this.bits;let m=Math.floor(l/32),x=~d[m];x&=~((1<<(l&31))-1);const w=d.length;for(;x===0;){if(++m===w)return f;x=~d[m]}const C=m*32+O.numberOfTrailingZeros(x);return C>f?f:C}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new p;if(f===l)return;f--;const d=Math.floor(l/32),m=Math.floor(f/32),x=this.bits;for(let w=d;w<=m;w++){const C=w>d?0:l&31,R=(2<<(w<m?31:f&31))-(1<<C);x[w]|=R}}clear(){const l=this.bits.length,f=this.bits;for(let d=0;d<l;d++)f[d]=0}isRange(l,f,d){if(f<l||l<0||f>this.size)throw new p;if(f===l)return!0;f--;const m=Math.floor(l/32),x=Math.floor(f/32),w=this.bits;for(let C=m;C<=x;C++){const P=C>m?0:l&31,V=(2<<(C<x?31:f&31))-(1<<P)&4294967295;if((w[C]&V)!==(d?V:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new p("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let d=f;d>0;d--)this.appendBit((l>>d-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let d=0;d<f;d++)this.appendBit(l.get(d))}xor(l){if(this.size!==l.size)throw new p("Sizes don't match");const f=this.bits;for(let d=0,m=f.length;d<m;d++)f[d]^=l.bits[d]}toBytes(l,f,d,m){for(let x=0;x<m;x++){let w=0;for(let C=0;C<8;C++)this.get(l)&&(w|=1<<7-C),l++;f[d+x]=w}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),d=f+1,m=this.bits;for(let x=0;x<d;x++){let w=m[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,l[f-x]=w}if(this.size!==d*32){const x=d*32-this.size;let w=l[0]>>>x;for(let C=1;C<d;C++){const P=l[C];w|=P<<32-x,l[C-1]=w,w=P>>>x}l[d-1]=w}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof k))return!1;const f=l;return this.size===f.size&&T.equals(this.bits,f.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let l="";for(let f=0,d=this.size;f<d;f++)f&7||(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new k(this.size,this.bits.slice())}}var D;(function(Z){Z[Z.OTHER=0]="OTHER",Z[Z.PURE_BARCODE=1]="PURE_BARCODE",Z[Z.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Z[Z.TRY_HARDER=3]="TRY_HARDER",Z[Z.CHARACTER_SET=4]="CHARACTER_SET",Z[Z.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Z[Z.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Z[Z.ASSUME_GS1=7]="ASSUME_GS1",Z[Z.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Z[Z.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Z[Z.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var z=D;class F extends u{static getFormatInstance(){return new F}}F.kind="FormatException";var q;(function(Z){Z[Z.Cp437=0]="Cp437",Z[Z.ISO8859_1=1]="ISO8859_1",Z[Z.ISO8859_2=2]="ISO8859_2",Z[Z.ISO8859_3=3]="ISO8859_3",Z[Z.ISO8859_4=4]="ISO8859_4",Z[Z.ISO8859_5=5]="ISO8859_5",Z[Z.ISO8859_6=6]="ISO8859_6",Z[Z.ISO8859_7=7]="ISO8859_7",Z[Z.ISO8859_8=8]="ISO8859_8",Z[Z.ISO8859_9=9]="ISO8859_9",Z[Z.ISO8859_10=10]="ISO8859_10",Z[Z.ISO8859_11=11]="ISO8859_11",Z[Z.ISO8859_13=12]="ISO8859_13",Z[Z.ISO8859_14=13]="ISO8859_14",Z[Z.ISO8859_15=14]="ISO8859_15",Z[Z.ISO8859_16=15]="ISO8859_16",Z[Z.SJIS=16]="SJIS",Z[Z.Cp1250=17]="Cp1250",Z[Z.Cp1251=18]="Cp1251",Z[Z.Cp1252=19]="Cp1252",Z[Z.Cp1256=20]="Cp1256",Z[Z.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Z[Z.UTF8=22]="UTF8",Z[Z.ASCII=23]="ASCII",Z[Z.Big5=24]="Big5",Z[Z.GB18030=25]="GB18030",Z[Z.EUC_KR=26]="EUC_KR"})(q||(q={}));class B{constructor(l,f,d,...m){this.valueIdentifier=l,this.name=d,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=m,B.VALUE_IDENTIFIER_TO_ECI.set(l,this),B.NAME_TO_ECI.set(d,this);const x=this.values;for(let w=0,C=x.length;w!==C;w++){const P=x[w];B.VALUES_TO_ECI.set(P,this)}for(const w of m)B.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new F("incorect value");const f=B.VALUES_TO_ECI.get(l);if(f===void 0)throw new F("incorect value");return f}static getCharacterSetECIByName(l){const f=B.NAME_TO_ECI.get(l);if(f===void 0)throw new F("incorect value");return f}equals(l){if(!(l instanceof B))return!1;const f=l;return this.getName()===f.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(q.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(q.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(q.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(q.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(q.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(q.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(q.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(q.Big5,28,"Big5"),B.GB18030=new B(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(q.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends u{}ee.kind="UnsupportedOperationException";class W{static decode(l,f){const d=this.encodingName(f);return this.customDecoder?this.customDecoder(l,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(l,d):new TextDecoder(d).decode(l)}static shouldDecodeOnFallback(l){return!W.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const d=this.encodingName(f);return this.customEncoder?this.customEncoder(l,d):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof B?l:B.getCharacterSetECIByName(l)}static decodeFallback(l,f){const d=this.encodingCharacterSet(f);if(W.isDecodeFallbackSupported(d)){let m="";for(let x=0,w=l.length;x<w;x++){let C=l[x].toString(16);C.length<2&&(C="0"+C),m+="%"+C}return decodeURIComponent(m)}if(d.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new ee(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(B.UTF8)||l.equals(B.ISO8859_1)||l.equals(B.ASCII)}static encodeFallback(l){const d=btoa(unescape(encodeURIComponent(l))).split(""),m=[];for(let x=0;x<d.length;x++)m.push(d[x].charCodeAt(0));return new Uint8Array(m)}}class U{static castAsNonUtf8Char(l,f=null){const d=f?f.getName():this.ISO88591;return W.decode(new Uint8Array([l]),d)}static guessEncoding(l,f){if(f!=null&&f.get(z.CHARACTER_SET)!==void 0)return f.get(z.CHARACTER_SET).toString();const d=l.length;let m=!0,x=!0,w=!0,C=0,P=0,R=0,V=0,J=0,se=0,Ee=0,Le=0,je=0,Ve=0,rt=0;const vt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let _t=0;_t<d&&(m||x||w);_t++){const yt=l[_t]&255;w&&(C>0?yt&128?C--:w=!1:yt&128&&(yt&64?(C++,yt&32?(C++,yt&16?(C++,yt&8?w=!1:V++):R++):P++):w=!1)),m&&(yt>127&&yt<160?m=!1:yt>159&&(yt<192||yt===215||yt===247)&&rt++),x&&(J>0?yt<64||yt===127||yt>252?x=!1:J--:yt===128||yt===160||yt>239?x=!1:yt>160&&yt<224?(se++,Le=0,Ee++,Ee>je&&(je=Ee)):yt>127?(J++,Ee=0,Le++,Le>Ve&&(Ve=Le)):(Ee=0,Le=0))}return w&&C>0&&(w=!1),x&&J>0&&(x=!1),w&&(vt||P+R+V>0)?U.UTF8:x&&(U.ASSUME_SHIFT_JIS||je>=3||Ve>=3)?U.SHIFT_JIS:m&&x?je===2&&se===2||rt*10>=d?U.SHIFT_JIS:U.ISO88591:m?U.ISO88591:x?U.SHIFT_JIS:w?U.UTF8:U.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let d=-1;function m(w,C,P,R,V,J){if(w==="%%")return"%";if(f[++d]===void 0)return;w=R?parseInt(R.substr(1)):void 0;let se=V?parseInt(V.substr(1)):void 0,Ee;switch(J){case"s":Ee=f[d];break;case"c":Ee=f[d][0];break;case"f":Ee=parseFloat(f[d]).toFixed(w);break;case"p":Ee=parseFloat(f[d]).toPrecision(w);break;case"e":Ee=parseFloat(f[d]).toExponential(w);break;case"x":Ee=parseInt(f[d]).toString(se||16);break;case"d":Ee=parseFloat(parseInt(f[d],se||10).toPrecision(w)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(se);let Le=parseInt(P),je=P&&P[0]+""=="0"?"0":" ";for(;Ee.length<Le;)Ee=C!==void 0?Ee+je:je+Ee;return Ee}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,m)}static getBytes(l,f){return W.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}U.SHIFT_JIS=B.SJIS.getName(),U.GB2312="GB2312",U.ISO88591=B.ISO8859_1.getName(),U.EUC_JP="EUC_JP",U.UTF8=B.UTF8.getName(),U.PLATFORM_DEFAULT_ENCODING=U.UTF8,U.ASSUME_SHIFT_JIS=!1;class K{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=U.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,d){for(let m=f;f<f+d;m++)this.append(l[m]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class oe{constructor(l,f,d,m){if(this.width=l,this.height=f,this.rowSize=d,this.bits=m,f==null&&(f=l),this.height=f,l<1||f<1)throw new p("Both dimensions must be greater than 0");d==null&&(d=Math.floor((l+31)/32)),this.rowSize=d,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,d=l[0].length,m=new oe(d,f);for(let x=0;x<f;x++){const w=l[x];for(let C=0;C<d;C++)w[C]&&m.set(C,x)}return m}static parseFromString(l,f,d){if(l===null)throw new p("stringRepresentation cannot be null");const m=new Array(l.length);let x=0,w=0,C=-1,P=0,R=0;for(;R<l.length;)if(l.charAt(R)===`
`||l.charAt(R)==="\r"){if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new p("row lengths do not match");w=x,P++}R++}else if(l.substring(R,R+f.length)===f)R+=f.length,m[x]=!0,x++;else if(l.substring(R,R+d.length)===d)R+=d.length,m[x]=!1,x++;else throw new p("illegal character encountered: "+l.substring(R));if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new p("row lengths do not match");P++}const V=new oe(C,P);for(let J=0;J<x;J++)m[J]&&V.set(Math.floor(J%C),Math.floor(J/C));return V}get(l,f){const d=f*this.rowSize+Math.floor(l/32);return(this.bits[d]>>>(l&31)&1)!==0}set(l,f){const d=f*this.rowSize+Math.floor(l/32);this.bits[d]|=1<<(l&31)&4294967295}unset(l,f){const d=f*this.rowSize+Math.floor(l/32);this.bits[d]&=~(1<<(l&31)&4294967295)}flip(l,f){const d=f*this.rowSize+Math.floor(l/32);this.bits[d]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new p("input matrix dimensions do not match");const f=new k(Math.floor(this.width/32)+1),d=this.rowSize,m=this.bits;for(let x=0,w=this.height;x<w;x++){const C=x*d,P=l.getRow(x,f).getBitArray();for(let R=0;R<d;R++)m[C+R]^=P[R]}}clear(){const l=this.bits,f=l.length;for(let d=0;d<f;d++)l[d]=0}setRegion(l,f,d,m){if(f<0||l<0)throw new p("Left and top must be nonnegative");if(m<1||d<1)throw new p("Height and width must be at least 1");const x=l+d,w=f+m;if(w>this.height||x>this.width)throw new p("The region must fit inside the matrix");const C=this.rowSize,P=this.bits;for(let R=f;R<w;R++){const V=R*C;for(let J=l;J<x;J++)P[V+Math.floor(J/32)]|=1<<(J&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new k(this.width):f.clear();const d=this.rowSize,m=this.bits,x=l*d;for(let w=0;w<d;w++)f.setBulk(w*32,m[x+w]);return f}setRow(l,f){b.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let d=new k(l),m=new k(l);for(let x=0,w=Math.floor((f+1)/2);x<w;x++)d=this.getRow(x,d),m=this.getRow(f-1-x,m),d.reverse(),m.reverse(),this.setRow(x,m),this.setRow(f-1-x,d)}getEnclosingRectangle(){const l=this.width,f=this.height,d=this.rowSize,m=this.bits;let x=l,w=f,C=-1,P=-1;for(let R=0;R<f;R++)for(let V=0;V<d;V++){const J=m[R*d+V];if(J!==0){if(R<w&&(w=R),R>P&&(P=R),V*32<x){let se=0;for(;!(J<<31-se&4294967295);)se++;V*32+se<x&&(x=V*32+se)}if(V*32+31>C){let se=31;for(;!(J>>>se);)se--;V*32+se>C&&(C=V*32+se)}}}return C<x||P<w?null:Int32Array.from([x,w,C-x+1,P-w+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let d=0;for(;d<f.length&&f[d]===0;)d++;if(d===f.length)return null;const m=d/l;let x=d%l*32;const w=f[d];let C=0;for(;!(w<<31-C&4294967295);)C++;return x+=C,Int32Array.from([x,m])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let d=f.length-1;for(;d>=0&&f[d]===0;)d--;if(d<0)return null;const m=Math.floor(d/l);let x=Math.floor(d%l)*32;const w=f[d];let C=31;for(;!(w>>>C);)C--;return x+=C,Int32Array.from([x,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof oe))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&T.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+T.hashCode(this.bits),l}toString(l="X ",f="  ",d=`
`){return this.buildToString(l,f,d)}buildToString(l,f,d){let m=new K;for(let x=0,w=this.height;x<w;x++){for(let C=0,P=this.width;C<P;C++)m.append(this.get(C,x)?l:f);m.append(d)}return m.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends u{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class Re extends _{constructor(l){super(l),this.luminances=Re.EMPTY,this.buckets=new Int32Array(Re.LUMINANCE_BUCKETS)}getBlackRow(l,f){const d=this.getLuminanceSource(),m=d.getWidth();f==null||f.getSize()<m?f=new k(m):f.clear(),this.initArrays(m);const x=d.getRow(l,this.luminances),w=this.buckets;for(let P=0;P<m;P++)w[(x[P]&255)>>Re.LUMINANCE_SHIFT]++;const C=Re.estimateBlackPoint(w);if(m<3)for(let P=0;P<m;P++)(x[P]&255)<C&&f.set(P);else{let P=x[0]&255,R=x[1]&255;for(let V=1;V<m-1;V++){const J=x[V+1]&255;(R*4-P-J)/2<C&&f.set(V),P=R,R=J}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),d=l.getHeight(),m=new oe(f,d);this.initArrays(f);const x=this.buckets;for(let P=1;P<5;P++){const R=Math.floor(d*P/5),V=l.getRow(R,this.luminances),J=Math.floor(f*4/5);for(let se=Math.floor(f/5);se<J;se++){const Ee=V[se]&255;x[Ee>>Re.LUMINANCE_SHIFT]++}}const w=Re.estimateBlackPoint(x),C=l.getMatrix();for(let P=0;P<d;P++){const R=P*f;for(let V=0;V<f;V++)(C[R+V]&255)<w&&m.set(V,P)}return m}createBinarizer(l){return new Re(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let d=0;d<Re.LUMINANCE_BUCKETS;d++)f[d]=0}static estimateBlackPoint(l){const f=l.length;let d=0,m=0,x=0;for(let V=0;V<f;V++)l[V]>x&&(m=V,x=l[V]),l[V]>d&&(d=l[V]);let w=0,C=0;for(let V=0;V<f;V++){const J=V-m,se=l[V]*J*J;se>C&&(w=V,C=se)}if(m>w){const V=m;m=w,w=V}if(w-m<=f/16)throw new ae;let P=w-1,R=-1;for(let V=w-1;V>m;V--){const J=V-m,se=J*J*(w-V)*(d-l[V]);se>R&&(P=V,R=se)}return P<<Re.LUMINANCE_SHIFT}}Re.LUMINANCE_BITS=5,Re.LUMINANCE_SHIFT=8-Re.LUMINANCE_BITS,Re.LUMINANCE_BUCKETS=1<<Re.LUMINANCE_BITS,Re.EMPTY=Uint8ClampedArray.from([0]);class ke extends Re{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),d=l.getHeight();if(f>=ke.MINIMUM_DIMENSION&&d>=ke.MINIMUM_DIMENSION){const m=l.getMatrix();let x=f>>ke.BLOCK_SIZE_POWER;f&ke.BLOCK_SIZE_MASK&&x++;let w=d>>ke.BLOCK_SIZE_POWER;d&ke.BLOCK_SIZE_MASK&&w++;const C=ke.calculateBlackPoints(m,x,w,f,d),P=new oe(f,d);ke.calculateThresholdForBlock(m,x,w,f,d,C,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ke(l)}static calculateThresholdForBlock(l,f,d,m,x,w,C){const P=x-ke.BLOCK_SIZE,R=m-ke.BLOCK_SIZE;for(let V=0;V<d;V++){let J=V<<ke.BLOCK_SIZE_POWER;J>P&&(J=P);const se=ke.cap(V,2,d-3);for(let Ee=0;Ee<f;Ee++){let Le=Ee<<ke.BLOCK_SIZE_POWER;Le>R&&(Le=R);const je=ke.cap(Ee,2,f-3);let Ve=0;for(let vt=-2;vt<=2;vt++){const _t=w[se+vt];Ve+=_t[je-2]+_t[je-1]+_t[je]+_t[je+1]+_t[je+2]}const rt=Ve/25;ke.thresholdBlock(l,Le,J,rt,m,C)}}}static cap(l,f,d){return l<f?f:l>d?d:l}static thresholdBlock(l,f,d,m,x,w){for(let C=0,P=d*x+f;C<ke.BLOCK_SIZE;C++,P+=x)for(let R=0;R<ke.BLOCK_SIZE;R++)(l[P+R]&255)<=m&&w.set(f+R,d+C)}static calculateBlackPoints(l,f,d,m,x){const w=x-ke.BLOCK_SIZE,C=m-ke.BLOCK_SIZE,P=new Array(d);for(let R=0;R<d;R++){P[R]=new Int32Array(f);let V=R<<ke.BLOCK_SIZE_POWER;V>w&&(V=w);for(let J=0;J<f;J++){let se=J<<ke.BLOCK_SIZE_POWER;se>C&&(se=C);let Ee=0,Le=255,je=0;for(let rt=0,vt=V*m+se;rt<ke.BLOCK_SIZE;rt++,vt+=m){for(let _t=0;_t<ke.BLOCK_SIZE;_t++){const yt=l[vt+_t]&255;Ee+=yt,yt<Le&&(Le=yt),yt>je&&(je=yt)}if(je-Le>ke.MIN_DYNAMIC_RANGE)for(rt++,vt+=m;rt<ke.BLOCK_SIZE;rt++,vt+=m)for(let _t=0;_t<ke.BLOCK_SIZE;_t++)Ee+=l[vt+_t]&255}let Ve=Ee>>ke.BLOCK_SIZE_POWER*2;if(je-Le<=ke.MIN_DYNAMIC_RANGE&&(Ve=Le/2,R>0&&J>0)){const rt=(P[R-1][J]+2*P[R][J-1]+P[R-1][J-1])/4;Le<rt&&(Ve=rt)}P[R][J]=Ve}}return P}}ke.BLOCK_SIZE_POWER=3,ke.BLOCK_SIZE=1<<ke.BLOCK_SIZE_POWER,ke.BLOCK_SIZE_MASK=ke.BLOCK_SIZE-1,ke.MINIMUM_DIMENSION=ke.BLOCK_SIZE*5,ke.MIN_DYNAMIC_RANGE=24;class we{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,d,m){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new K;for(let d=0;d<this.height;d++){const m=this.getRow(d,l);for(let x=0;x<this.width;x++){const w=m[x]&255;let C;w<64?C="#":w<128?C="+":w<192?C=".":C=" ",f.append(C)}f.append(`
`)}return f.toString()}}class _e extends we{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const d=this.delegate.getRow(l,f),m=this.getWidth();for(let x=0;x<m;x++)d[x]=255-(d[x]&255);return d}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(f);for(let m=0;m<f;m++)d[m]=255-(l[m]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,d,m){return new _e(this.delegate.crop(l,f,d,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class $e extends we{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return $e.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,d){const m=new Uint8ClampedArray(f*d);for(let x=0,w=0,C=l.length;x<C;x+=4,w++){let P;if(l[x+3]===0)P=255;else{const V=l[x],J=l[x+1],se=l[x+2];P=306*V+601*J+117*se+512>>10}m[w]=P}return m}getRow(l,f){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const d=this.getWidth(),m=l*d;return f===null?f=this.buffer.slice(m,m+d):(f.length<d&&(f=new Uint8ClampedArray(d)),f.set(this.buffer.slice(m,m+d))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,d,m){return super.crop(l,f,d,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),d=f.getContext("2d"),m=l*$e.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(m))*x+Math.abs(Math.sin(m))*w),P=Math.ceil(Math.abs(Math.sin(m))*x+Math.abs(Math.cos(m))*w);return f.width=C,f.height=P,d.translate(C/2,P/2),d.rotate(m),d.drawImage(this.canvas,x/-2,w/-2),this.buffer=$e.makeBufferFromCanvasImageData(f),this}invert(){return new _e(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(l,f,d){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j=(globalThis||Aa||self||window||void 0)&&(globalThis||Aa||self||window||void 0).__awaiter||function(Z,l,f,d){function m(x){return x instanceof f?x:new f(function(w){w(x)})}return new(f||(f=Promise))(function(x,w){function C(V){try{R(d.next(V))}catch(J){w(J)}}function P(V){try{R(d.throw(V))}catch(J){w(J)}}function R(V){V.done?x(V.value):m(V.value).then(C,P)}R((d=d.apply(Z,l||[])).next())})};class Y{constructor(l,f=500,d){this.reader=l,this.timeBetweenScansMillis=f,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const d of l){const m=d.kind==="video"?"videoinput":d.kind;if(m!=="videoinput")continue;const x=d.deviceId||d.id,w=d.label||`Video device ${f.length+1}`,C=d.groupId,P={deviceId:x,label:w,kind:m,groupId:C};f.push(P)}return f})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new We(f.deviceId,f.label))})}findDeviceById(l){return j(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(d=>d.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return j(this,void 0,void 0,function*(){this.reset();let d;l?d={deviceId:{exact:l}}:d={facingMode:"environment"};const m={video:d};return yield this.decodeOnceFromConstraints(m,f)})}decodeOnceFromConstraints(l,f){return j(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(d,f)})}decodeOnceFromStream(l,f){return j(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(l,f,d){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,d)})}decodeFromVideoDevice(l,f,d){return j(this,void 0,void 0,function*(){let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const x={video:m};return yield this.decodeFromConstraints(x,f,d)})}decodeFromConstraints(l,f,d){return j(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(m,f,d)})}decodeFromStream(l,f,d){return j(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(m,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return j(this,void 0,void 0,function*(){const d=this.prepareVideoElement(f);return this.addVideoSource(d,l),this.videoElement=d,this.stream=l,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(l){return new Promise((f,d)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const d=document.getElementById(l);if(!d)throw new h(`element with id '${l}' not found`);if(d.nodeName.toLowerCase()!==f.toLowerCase())throw new h(`element with id '${l}' must be an ${f} element`);return d}decodeFromImage(l,f){if(!l&&!f)throw new h("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,d){if(l===void 0&&f===void 0)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,d):this.decodeFromVideoElementContinuously(l,d)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let d;return this.isImageLoaded(f)?d=this.decodeOnce(f,!1,!0):d=this._decodeOnLoadImage(f),d}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(d,f)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const d=this._decodeOnLoadImage(f);return f.src=l,d}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),d=this.decodeFromVideoElement(f);return f.src=l,d}decodeFromVideoUrlContinuously(l,f){if(!l)throw new h("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(d,f);return d.src=l,m}_decodeOnLoadImage(l){return new Promise((f,d)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,d),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,d=!0){this._stopAsyncDecode=!1;const m=(x,w)=>{if(this._stopAsyncDecode){w(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(l);x(C)}catch(C){const P=f&&C instanceof ae,V=(C instanceof g||C instanceof F)&&d;if(P||V)return setTimeout(m,this._timeBetweenDecodingAttempts,x,w);w(C)}};return new Promise((x,w)=>m(x,w))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(l);f(m,null),setTimeout(d,this.timeBetweenScansMillis)}catch(m){f(null,m);const x=m instanceof g||m instanceof F,w=m instanceof ae;(x||w)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,d){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,d=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),d=new $e(f),m=new ke(d);return new v(m)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let d,m;return typeof l<"u"&&(l instanceof HTMLVideoElement?(d=l.videoWidth,m=l.videoHeight):l instanceof HTMLImageElement&&(d=l.naturalWidth||l.width,m=l.naturalHeight||l.height)),f.style.width=d+"px",f.style.height=m+"px",f.width=d,f.height=m,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch{l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class H{constructor(l,f,d=f==null?0:8*f.length,m,x,w=b.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=d,this.resultPoints=m,this.format=x,this.timestamp=w,this.text=l,this.rawBytes=f,d==null?this.numBits=f==null?0:8*f.length:this.numBits=d,this.resultPoints=m,this.format=x,this.resultMetadata=null,w==null?this.timestamp=b.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const d=new Array(f.length+l.length);b.arraycopy(f,0,d,0,f.length),b.arraycopy(l,0,d,f.length,l.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var X;(function(Z){Z[Z.AZTEC=0]="AZTEC",Z[Z.CODABAR=1]="CODABAR",Z[Z.CODE_39=2]="CODE_39",Z[Z.CODE_93=3]="CODE_93",Z[Z.CODE_128=4]="CODE_128",Z[Z.DATA_MATRIX=5]="DATA_MATRIX",Z[Z.EAN_8=6]="EAN_8",Z[Z.EAN_13=7]="EAN_13",Z[Z.ITF=8]="ITF",Z[Z.MAXICODE=9]="MAXICODE",Z[Z.PDF_417=10]="PDF_417",Z[Z.QR_CODE=11]="QR_CODE",Z[Z.RSS_14=12]="RSS_14",Z[Z.RSS_EXPANDED=13]="RSS_EXPANDED",Z[Z.UPC_A=14]="UPC_A",Z[Z.UPC_E=15]="UPC_E",Z[Z.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(X||(X={}));var ne=X,Oe;(function(Z){Z[Z.OTHER=0]="OTHER",Z[Z.ORIENTATION=1]="ORIENTATION",Z[Z.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Z[Z.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Z[Z.ISSUE_NUMBER=4]="ISSUE_NUMBER",Z[Z.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Z[Z.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Z[Z.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Z[Z.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Z[Z.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Z[Z.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oe||(Oe={}));var Ie=Oe;class be{constructor(l,f,d,m,x=-1,w=-1){this.rawBytes=l,this.text=f,this.byteSegments=d,this.ecLevel=m,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new p;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class ze{constructor(l,f){if(f.length===0)throw new p;this.field=l;const d=f.length;if(d>1&&f[0]===0){let m=1;for(;m<d&&f[m]===0;)m++;m===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-m),b.arraycopy(f,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let d;if(l===1){d=0;for(let w=0,C=f.length;w!==C;w++){const P=f[w];d=Pe.addOrSubtract(d,P)}return d}d=f[0];const m=f.length,x=this.field;for(let w=1;w<m;w++)d=Pe.addOrSubtract(x.multiply(l,d),f[w]);return d}addOrSubtract(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,d=l.coefficients;if(f.length>d.length){const w=f;f=d,d=w}let m=new Int32Array(d.length);const x=d.length-f.length;b.arraycopy(d,0,m,0,x);for(let w=x;w<d.length;w++)m[w]=Pe.addOrSubtract(f[w-x],d[w]);return new ze(this.field,m)}multiply(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,d=f.length,m=l.coefficients,x=m.length,w=new Int32Array(d+x-1),C=this.field;for(let P=0;P<d;P++){const R=f[P];for(let V=0;V<x;V++)w[P+V]=Pe.addOrSubtract(w[P+V],C.multiply(R,m[V]))}return new ze(C,w)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,d=this.field,m=new Int32Array(f),x=this.coefficients;for(let w=0;w<f;w++)m[w]=d.multiply(x[w],l);return new ze(d,m)}multiplyByMonomial(l,f){if(l<0)throw new p;if(f===0)return this.field.getZero();const d=this.coefficients,m=d.length,x=new Int32Array(m+l),w=this.field;for(let C=0;C<m;C++)x[C]=w.multiply(d[C],f);return new ze(w,x)}divide(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new p("Divide by 0");const f=this.field;let d=f.getZero(),m=this;const x=l.getCoefficient(l.getDegree()),w=f.inverse(x);for(;m.getDegree()>=l.getDegree()&&!m.isZero();){const C=m.getDegree()-l.getDegree(),P=f.multiply(m.getCoefficient(m.getDegree()),w),R=l.multiplyByMonomial(C,P),V=f.buildMonomial(C,P);d=d.addOrSubtract(V),m=m.addOrSubtract(R)}return[d,m]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let d=this.getCoefficient(f);if(d!==0){if(d<0?(l+=" - ",d=-d):l.length>0&&(l+=" + "),f===0||d!==1){const m=this.field.log(d);m===0?l+="1":m===1?l+="a":(l+="a^",l+=m)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class Me extends u{}Me.kind="ArithmeticException";class st extends Pe{constructor(l,f,d){super(),this.primitive=l,this.size=f,this.generatorBase=d;const m=new Int32Array(f);let x=1;for(let C=0;C<f;C++)m[C]=x,x*=2,x>=f&&(x^=l,x&=f-1);this.expTable=m;const w=new Int32Array(f);for(let C=0;C<f-1;C++)w[m[C]]=C;this.logTable=w,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new p;if(f===0)return this.zero;const d=new Int32Array(l+1);return d[0]=f,new ze(this,d)}inverse(l){if(l===0)throw new Me;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class Fe extends u{}Fe.kind="ReedSolomonException";class me extends u{}me.kind="IllegalStateException";class Dt{constructor(l){this.field=l}decode(l,f){const d=this.field,m=new ze(d,l),x=new Int32Array(f);let w=!0;for(let Ee=0;Ee<f;Ee++){const Le=m.evaluateAt(d.exp(Ee+d.getGeneratorBase()));x[x.length-1-Ee]=Le,Le!==0&&(w=!1)}if(w)return;const C=new ze(d,x),P=this.runEuclideanAlgorithm(d.buildMonomial(f,1),C,f),R=P[0],V=P[1],J=this.findErrorLocations(R),se=this.findErrorMagnitudes(V,J);for(let Ee=0;Ee<J.length;Ee++){const Le=l.length-1-d.log(J[Ee]);if(Le<0)throw new Fe("Bad error location");l[Le]=st.addOrSubtract(l[Le],se[Ee])}}runEuclideanAlgorithm(l,f,d){if(l.getDegree()<f.getDegree()){const Ee=l;l=f,f=Ee}const m=this.field;let x=l,w=f,C=m.getZero(),P=m.getOne();for(;w.getDegree()>=(d/2|0);){let Ee=x,Le=C;if(x=w,C=P,x.isZero())throw new Fe("r_{i-1} was zero");w=Ee;let je=m.getZero();const Ve=x.getCoefficient(x.getDegree()),rt=m.inverse(Ve);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const vt=w.getDegree()-x.getDegree(),_t=m.multiply(w.getCoefficient(w.getDegree()),rt);je=je.addOrSubtract(m.buildMonomial(vt,_t)),w=w.addOrSubtract(x.multiplyByMonomial(vt,_t))}if(P=je.multiply(C).addOrSubtract(Le),w.getDegree()>=x.getDegree())throw new me("Division algorithm failed to reduce polynomial?")}const R=P.getCoefficient(0);if(R===0)throw new Fe("sigmaTilde(0) was zero");const V=m.inverse(R),J=P.multiplyScalar(V),se=w.multiplyScalar(V);return[J,se]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const d=new Int32Array(f);let m=0;const x=this.field;for(let w=1;w<x.getSize()&&m<f;w++)l.evaluateAt(w)===0&&(d[m]=x.inverse(w),m++);if(m!==f)throw new Fe("Error locator degree does not match number of roots");return d}findErrorMagnitudes(l,f){const d=f.length,m=new Int32Array(d),x=this.field;for(let w=0;w<d;w++){const C=x.inverse(f[w]);let P=1;for(let R=0;R<d;R++)if(w!==R){const V=x.multiply(f[R],C),J=V&1?V&-2:V|1;P=x.multiply(P,J)}m[w]=x.multiply(l.evaluateAt(C),x.inverse(P)),x.getGeneratorBase()!==0&&(m[w]=x.multiply(m[w],C))}return m}}var lt;(function(Z){Z[Z.UPPER=0]="UPPER",Z[Z.LOWER=1]="LOWER",Z[Z.MIXED=2]="MIXED",Z[Z.DIGIT=3]="DIGIT",Z[Z.PUNCT=4]="PUNCT",Z[Z.BINARY=5]="BINARY"})(lt||(lt={}));class Ot{decode(l){this.ddata=l;let f=l.getBits(),d=this.extractBits(f),m=this.correctBits(d),x=Ot.convertBoolArrayToByteArray(m),w=Ot.getEncodedData(m),C=new be(x,w,null,null);return C.setNumBits(m.length),C}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,d=lt.UPPER,m=lt.UPPER,x="",w=0;for(;w<f;)if(m===lt.BINARY){if(f-w<5)break;let C=Ot.readCode(l,w,5);if(w+=5,C===0){if(f-w<11)break;C=Ot.readCode(l,w,11)+31,w+=11}for(let P=0;P<C;P++){if(f-w<8){w=f;break}const R=Ot.readCode(l,w,8);x+=U.castAsNonUtf8Char(R),w+=8}m=d}else{let C=m===lt.DIGIT?4:5;if(f-w<C)break;let P=Ot.readCode(l,w,C);w+=C;let R=Ot.getCharacter(m,P);R.startsWith("CTRL_")?(d=m,m=Ot.getTable(R.charAt(5)),R.charAt(6)==="L"&&(d=m)):(x+=R,m=d)}return x}static getTable(l){switch(l){case"L":return lt.LOWER;case"P":return lt.PUNCT;case"M":return lt.MIXED;case"D":return lt.DIGIT;case"B":return lt.BINARY;case"U":default:return lt.UPPER}}static getCharacter(l,f){switch(l){case lt.UPPER:return Ot.UPPER_TABLE[f];case lt.LOWER:return Ot.LOWER_TABLE[f];case lt.MIXED:return Ot.MIXED_TABLE[f];case lt.PUNCT:return Ot.PUNCT_TABLE[f];case lt.DIGIT:return Ot.DIGIT_TABLE[f];default:throw new me("Bad table")}}correctBits(l){let f,d;this.ddata.getNbLayers()<=2?(d=6,f=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,f=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,f=st.AZTEC_DATA_10):(d=12,f=st.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),x=l.length/d;if(x<m)throw new F;let w=l.length%d,C=new Int32Array(x);for(let se=0;se<x;se++,w+=d)C[se]=Ot.readCode(l,w,d);try{new Dt(f).decode(C,x-m)}catch(se){throw new F(se)}let P=(1<<d)-1,R=0;for(let se=0;se<m;se++){let Ee=C[se];if(Ee===0||Ee===P)throw new F;(Ee===1||Ee===P-1)&&R++}let V=new Array(m*d-R),J=0;for(let se=0;se<m;se++){let Ee=C[se];if(Ee===1||Ee===P-1)V.fill(Ee>1,J,J+d-1),J+=d-1;else for(let Le=d-1;Le>=0;--Le)V[J++]=(Ee&1<<Le)!==0}return V}extractBits(l){let f=this.ddata.isCompact(),d=this.ddata.getNbLayers(),m=(f?11:14)+d*4,x=new Int32Array(m),w=new Array(this.totalBitsInLayer(d,f));if(f)for(let C=0;C<x.length;C++)x[C]=C;else{let C=m+1+2*O.truncDivision(O.truncDivision(m,2)-1,15),P=m/2,R=O.truncDivision(C,2);for(let V=0;V<P;V++){let J=V+O.truncDivision(V,15);x[P-V-1]=R-J-1,x[P+V]=R+J+1}}for(let C=0,P=0;C<d;C++){let R=(d-C)*4+(f?9:12),V=C*2,J=m-1-V;for(let se=0;se<R;se++){let Ee=se*2;for(let Le=0;Le<2;Le++)w[P+Ee+Le]=l.get(x[V+Le],x[V+se]),w[P+2*R+Ee+Le]=l.get(x[V+se],x[J-Le]),w[P+4*R+Ee+Le]=l.get(x[J-Le],x[J-se]),w[P+6*R+Ee+Le]=l.get(x[J-se],x[V+Le])}P+=R*8}return w}static readCode(l,f,d){let m=0;for(let x=f;x<f+d;x++)m<<=1,l[x]&&(m|=1);return m}static readByte(l,f){let d=l.length-f;return d>=8?Ot.readCode(l,f,8):Ot.readCode(l,f,d)<<8-d}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let d=0;d<f.length;d++)f[d]=Ot.readByte(l,8*d);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,d,m){const x=l-d,w=f-m;return Math.sqrt(x*x+w*w)}static sum(l){let f=0;for(let d=0,m=l.length;d!==m;d++){const x=l[d];f+=x}return f}}class Ut{static floatToIntBits(l){return l}}Ut.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof at){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*Ut.floatToIntBits(this.x)+Ut.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),d=this.distance(l[1],l[2]),m=this.distance(l[0],l[2]);let x,w,C;if(d>=f&&d>=m?(w=l[0],x=l[1],C=l[2]):m>=d&&m>=f?(w=l[1],x=l[0],C=l[2]):(w=l[2],x=l[0],C=l[1]),this.crossProductZ(x,w,C)<0){const P=x;x=C,C=P}l[0]=x,l[1]=w,l[2]=C}static distance(l,f){return ot.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,d){const m=f.x,x=f.y;return(d.x-m)*(l.y-x)-(d.y-x)*(l.x-m)}}class gr{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Ht extends gr{constructor(l,f,d,m,x){super(l,f),this.compact=d,this.nbDatablocks=m,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class cr{constructor(l,f,d,m){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=cr.INIT_SIZE),d==null&&(d=l.getWidth()/2|0),m==null&&(m=l.getHeight()/2|0);const x=f/2|0;if(this.leftInit=d-x,this.rightInit=d+x,this.upInit=m-x,this.downInit=m+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let l=this.leftInit,f=this.rightInit,d=this.upInit,m=this.downInit,x=!1,w=!0,C=!1,P=!1,R=!1,V=!1,J=!1;const se=this.width,Ee=this.height;for(;w;){w=!1;let Le=!0;for(;(Le||!P)&&f<se;)Le=this.containsBlackPoint(d,m,f,!1),Le?(f++,w=!0,P=!0):P||f++;if(f>=se){x=!0;break}let je=!0;for(;(je||!R)&&m<Ee;)je=this.containsBlackPoint(l,f,m,!0),je?(m++,w=!0,R=!0):R||m++;if(m>=Ee){x=!0;break}let Ve=!0;for(;(Ve||!V)&&l>=0;)Ve=this.containsBlackPoint(d,m,l,!1),Ve?(l--,w=!0,V=!0):V||l--;if(l<0){x=!0;break}let rt=!0;for(;(rt||!J)&&d>=0;)rt=this.containsBlackPoint(l,f,d,!0),rt?(d--,w=!0,J=!0):J||d--;if(d<0){x=!0;break}w&&(C=!0)}if(!x&&C){const Le=f-l;let je=null;for(let _t=1;je===null&&_t<Le;_t++)je=this.getBlackPointOnSegment(l,m-_t,l+_t,m);if(je==null)throw new ae;let Ve=null;for(let _t=1;Ve===null&&_t<Le;_t++)Ve=this.getBlackPointOnSegment(l,d+_t,l+_t,d);if(Ve==null)throw new ae;let rt=null;for(let _t=1;rt===null&&_t<Le;_t++)rt=this.getBlackPointOnSegment(f,d+_t,f-_t,d);if(rt==null)throw new ae;let vt=null;for(let _t=1;vt===null&&_t<Le;_t++)vt=this.getBlackPointOnSegment(f,m-_t,f-_t,m);if(vt==null)throw new ae;return this.centerEdges(vt,je,rt,Ve)}else throw new ae}getBlackPointOnSegment(l,f,d,m){const x=ot.round(ot.distance(l,f,d,m)),w=(d-l)/x,C=(m-f)/x,P=this.image;for(let R=0;R<x;R++){const V=ot.round(l+R*w),J=ot.round(f+R*C);if(P.get(V,J))return new at(V,J)}return null}centerEdges(l,f,d,m){const x=l.getX(),w=l.getY(),C=f.getX(),P=f.getY(),R=d.getX(),V=d.getY(),J=m.getX(),se=m.getY(),Ee=cr.CORR;return x<this.width/2?[new at(J-Ee,se+Ee),new at(C+Ee,P+Ee),new at(R-Ee,V-Ee),new at(x+Ee,w-Ee)]:[new at(J+Ee,se+Ee),new at(C+Ee,P-Ee),new at(R-Ee,V+Ee),new at(x-Ee,w-Ee)]}containsBlackPoint(l,f,d,m){const x=this.image;if(m){for(let w=l;w<=f;w++)if(x.get(w,d))return!0}else for(let w=l;w<=f;w++)if(x.get(d,w))return!0;return!1}}cr.INIT_SIZE=10,cr.CORR=1;class lr{static checkAndNudgePoints(l,f){const d=l.getWidth(),m=l.getHeight();let x=!0;for(let w=0;w<f.length&&x;w+=2){const C=Math.floor(f[w]),P=Math.floor(f[w+1]);if(C<-1||C>d||P<-1||P>m)throw new ae;x=!1,C===-1?(f[w]=0,x=!0):C===d&&(f[w]=d-1,x=!0),P===-1?(f[w+1]=0,x=!0):P===m&&(f[w+1]=m-1,x=!0)}x=!0;for(let w=f.length-2;w>=0&&x;w-=2){const C=Math.floor(f[w]),P=Math.floor(f[w+1]);if(C<-1||C>d||P<-1||P>m)throw new ae;x=!1,C===-1?(f[w]=0,x=!0):C===d&&(f[w]=d-1,x=!0),P===-1?(f[w+1]=0,x=!0):P===m&&(f[w+1]=m-1,x=!0)}}}class Jt{constructor(l,f,d,m,x,w,C,P,R){this.a11=l,this.a21=f,this.a31=d,this.a12=m,this.a22=x,this.a32=w,this.a13=C,this.a23=P,this.a33=R}static quadrilateralToQuadrilateral(l,f,d,m,x,w,C,P,R,V,J,se,Ee,Le,je,Ve){const rt=Jt.quadrilateralToSquare(l,f,d,m,x,w,C,P);return Jt.squareToQuadrilateral(R,V,J,se,Ee,Le,je,Ve).times(rt)}transformPoints(l){const f=l.length,d=this.a11,m=this.a12,x=this.a13,w=this.a21,C=this.a22,P=this.a23,R=this.a31,V=this.a32,J=this.a33;for(let se=0;se<f;se+=2){const Ee=l[se],Le=l[se+1],je=x*Ee+P*Le+J;l[se]=(d*Ee+w*Le+R)/je,l[se+1]=(m*Ee+C*Le+V)/je}}transformPointsWithValues(l,f){const d=this.a11,m=this.a12,x=this.a13,w=this.a21,C=this.a22,P=this.a23,R=this.a31,V=this.a32,J=this.a33,se=l.length;for(let Ee=0;Ee<se;Ee++){const Le=l[Ee],je=f[Ee],Ve=x*Le+P*je+J;l[Ee]=(d*Le+w*je+R)/Ve,f[Ee]=(m*Le+C*je+V)/Ve}}static squareToQuadrilateral(l,f,d,m,x,w,C,P){const R=l-d+x-C,V=f-m+w-P;if(R===0&&V===0)return new Jt(d-l,x-d,l,m-f,w-m,f,0,0,1);{const J=d-x,se=C-x,Ee=m-w,Le=P-w,je=J*Le-se*Ee,Ve=(R*Le-se*V)/je,rt=(J*V-R*Ee)/je;return new Jt(d-l+Ve*d,C-l+rt*C,l,m-f+Ve*m,P-f+rt*P,f,Ve,rt,1)}}static quadrilateralToSquare(l,f,d,m,x,w,C,P){return Jt.squareToQuadrilateral(l,f,d,m,x,w,C,P).buildAdjoint()}buildAdjoint(){return new Jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Jt(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class te extends lr{sampleGrid(l,f,d,m,x,w,C,P,R,V,J,se,Ee,Le,je,Ve,rt,vt,_t){const yt=Jt.quadrilateralToQuadrilateral(m,x,w,C,P,R,V,J,se,Ee,Le,je,Ve,rt,vt,_t);return this.sampleGridWithTransform(l,f,d,yt)}sampleGridWithTransform(l,f,d,m){if(f<=0||d<=0)throw new ae;const x=new oe(f,d),w=new Float32Array(2*f);for(let C=0;C<d;C++){const P=w.length,R=C+.5;for(let V=0;V<P;V+=2)w[V]=V/2+.5,w[V+1]=R;m.transformPoints(w),lr.checkAndNudgePoints(l,w);try{for(let V=0;V<P;V+=2)l.get(Math.floor(w[V]),Math.floor(w[V+1]))&&x.set(V/2,C)}catch{throw new ae}}return x}}class xt{static setGridSampler(l){xt.gridSampler=l}static getInstance(){return xt.gridSampler}}xt.gridSampler=new te;class wt{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Et{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),d=this.getBullsEyeCorners(f);if(l){let w=d[0];d[0]=d[2],d[2]=w}this.extractParameters(d);let m=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),x=this.getMatrixCornerPoints(d);return new Ht(m,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ae;let f=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(d,f);let m=0;for(let w=0;w<4;w++){let C=d[(this.shift+w)%4];this.compact?(m<<=7,m+=C>>1&127):(m<<=10,m+=(C>>2&992)+(C>>1&31))}let x=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,f){let d=0;l.forEach((m,x,w)=>{let C=(m>>f-2<<1)+(m&1);d=(d<<3)+C}),d=((d&1)<<11)+(d>>1);for(let m=0;m<4;m++)if(O.bitCount(d^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new ae}getCorrectedParameterData(l,f){let d,m;f?(d=7,m=2):(d=10,m=4);let x=d-m,w=new Int32Array(d);for(let P=d-1;P>=0;--P)w[P]=l&15,l>>=4;try{new Dt(st.AZTEC_PARAM).decode(w,x)}catch{throw new ae}let C=0;for(let P=0;P<m;P++)C=(C<<4)+w[P];return C}getBullsEyeCorners(l){let f=l,d=l,m=l,x=l,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let J=this.getFirstDifferent(f,w,1,-1),se=this.getFirstDifferent(d,w,1,1),Ee=this.getFirstDifferent(m,w,-1,1),Le=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let je=this.distancePoint(Le,J)*this.nbCenterLayers/(this.distancePoint(x,f)*(this.nbCenterLayers+2));if(je<.75||je>1.25||!this.isWhiteOrBlackRectangle(J,se,Ee,Le))break}f=J,d=se,m=Ee,x=Le,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let C=new at(f.getX()+.5,f.getY()-.5),P=new at(d.getX()+.5,d.getY()+.5),R=new at(m.getX()-.5,m.getY()+.5),V=new at(x.getX()-.5,x.getY()-.5);return this.expandSquare([C,P,R,V],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,d,m;try{let C=new cr(this.image).detect();l=C[0],f=C[1],d=C[2],m=C[3]}catch{let P=this.image.getWidth()/2,R=this.image.getHeight()/2;l=this.getFirstDifferent(new wt(P+7,R-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new wt(P+7,R+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new wt(P-7,R+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new wt(P-7,R-7),!1,-1,-1).toResultPoint()}let x=ot.round((l.getX()+m.getX()+f.getX()+d.getX())/4),w=ot.round((l.getY()+m.getY()+f.getY()+d.getY())/4);try{let C=new cr(this.image,15,x,w).detect();l=C[0],f=C[1],d=C[2],m=C[3]}catch{l=this.getFirstDifferent(new wt(x+7,w-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new wt(x+7,w+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new wt(x-7,w+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new wt(x-7,w-7),!1,-1,-1).toResultPoint()}return x=ot.round((l.getX()+m.getX()+f.getX()+d.getX())/4),w=ot.round((l.getY()+m.getY()+f.getY()+d.getY())/4),new wt(x,w)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,d,m,x){let w=xt.getInstance(),C=this.getDimension(),P=C/2-this.nbCenterLayers,R=C/2+this.nbCenterLayers;return w.sampleGrid(l,C,C,P,P,R,P,R,R,P,R,f.getX(),f.getY(),d.getX(),d.getY(),m.getX(),m.getY(),x.getX(),x.getY())}sampleLine(l,f,d){let m=0,x=this.distanceResultPoint(l,f),w=x/d,C=l.getX(),P=l.getY(),R=w*(f.getX()-l.getX())/x,V=w*(f.getY()-l.getY())/x;for(let J=0;J<d;J++)this.image.get(ot.round(C+J*R),ot.round(P+J*V))&&(m|=1<<d-J-1);return m}isWhiteOrBlackRectangle(l,f,d,m){let x=3;l=new wt(l.getX()-x,l.getY()+x),f=new wt(f.getX()-x,f.getY()-x),d=new wt(d.getX()+x,d.getY()-x),m=new wt(m.getX()+x,m.getY()+x);let w=this.getColor(m,l);if(w===0)return!1;let C=this.getColor(l,f);return C!==w||(C=this.getColor(f,d),C!==w)?!1:(C=this.getColor(d,m),C===w)}getColor(l,f){let d=this.distancePoint(l,f),m=(f.getX()-l.getX())/d,x=(f.getY()-l.getY())/d,w=0,C=l.getX(),P=l.getY(),R=this.image.get(l.getX(),l.getY()),V=Math.ceil(d);for(let se=0;se<V;se++)C+=m,P+=x,this.image.get(ot.round(C),ot.round(P))!==R&&w++;let J=w/d;return J>.1&&J<.9?0:J<=.1===R?1:-1}getFirstDifferent(l,f,d,m){let x=l.getX()+d,w=l.getY()+m;for(;this.isValid(x,w)&&this.image.get(x,w)===f;)x+=d,w+=m;for(x-=d,w-=m;this.isValid(x,w)&&this.image.get(x,w)===f;)x+=d;for(x-=d;this.isValid(x,w)&&this.image.get(x,w)===f;)w+=m;return w-=m,new wt(x,w)}expandSquare(l,f,d){let m=d/(2*f),x=l[0].getX()-l[2].getX(),w=l[0].getY()-l[2].getY(),C=(l[0].getX()+l[2].getX())/2,P=(l[0].getY()+l[2].getY())/2,R=new at(C+m*x,P+m*w),V=new at(C-m*x,P-m*w);x=l[1].getX()-l[3].getX(),w=l[1].getY()-l[3].getY(),C=(l[1].getX()+l[3].getX())/2,P=(l[1].getY()+l[3].getY())/2;let J=new at(C+m*x,P+m*w),se=new at(C-m*x,P-m*w);return[R,J,V,se]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=ot.round(l.getX()),d=ot.round(l.getY());return this.isValid(f,d)}distancePoint(l,f){return ot.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return ot.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(l,f=null){let d=null,m=new Et(l.getBlackMatrix()),x=null,w=null;try{let V=m.detectMirror(!1);x=V.getPoints(),this.reportFoundResultPoints(f,x),w=new Ot().decode(V)}catch(V){d=V}if(w==null)try{let V=m.detectMirror(!0);x=V.getPoints(),this.reportFoundResultPoints(f,x),w=new Ot().decode(V)}catch(V){throw d??V}let C=new H(w.getText(),w.getRawBytes(),w.getNumBits(),x,ne.AZTEC,b.currentTimeMillis()),P=w.getByteSegments();P!=null&&C.putMetadata(Ie.BYTE_SEGMENTS,P);let R=w.getECLevel();return R!=null&&C.putMetadata(Ie.ERROR_CORRECTION_LEVEL,R),C}reportFoundResultPoints(l,f){if(l!=null){let d=l.get(z.NEED_RESULT_POINT_CALLBACK);d!=null&&f.forEach((m,x,w)=>{d.foundPossibleResultPoint(m)})}}reset(){}}class Ne extends Y{constructor(l=500){super(new zt,l)}}class xe{decode(l,f){try{return this.doDecode(l,f)}catch{if(f&&f.get(z.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),w=this.doDecode(x,f),C=w.getResultMetadata();let P=270;C!==null&&C.get(Ie.ORIENTATION)===!0&&(P=P+C.get(Ie.ORIENTATION)%360),w.putMetadata(Ie.ORIENTATION,P);const R=w.getResultPoints();if(R!==null){const V=x.getHeight();for(let J=0;J<R.length;J++)R[J]=new at(V-R[J].getY()-1,R[J].getX())}return w}else throw new ae}}reset(){}doDecode(l,f){const d=l.getWidth(),m=l.getHeight();let x=new k(d);const w=f&&f.get(z.TRY_HARDER)===!0,C=Math.max(1,m>>(w?8:5));let P;w?P=m:P=15;const R=Math.trunc(m/2);for(let V=0;V<P;V++){const J=Math.trunc((V+1)/2),se=(V&1)===0,Ee=R+C*(se?J:-J);if(Ee<0||Ee>=m)break;try{x=l.getBlackRow(Ee,x)}catch{continue}for(let Le=0;Le<2;Le++){if(Le===1&&(x.reverse(),f&&f.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const je=new Map;f.forEach((Ve,rt)=>je.set(rt,Ve)),je.delete(z.NEED_RESULT_POINT_CALLBACK),f=je}try{const je=this.decodeRow(Ee,x,f);if(Le===1){je.putMetadata(Ie.ORIENTATION,180);const Ve=je.getResultPoints();Ve!==null&&(Ve[0]=new at(d-Ve[0].getX()-1,Ve[0].getY()),Ve[1]=new at(d-Ve[1].getX()-1,Ve[1].getY()))}return je}catch{}}}throw new ae}static recordPattern(l,f,d){const m=d.length;for(let R=0;R<m;R++)d[R]=0;const x=l.getSize();if(f>=x)throw new ae;let w=!l.get(f),C=0,P=f;for(;P<x;){if(l.get(P)!==w)d[C]++;else{if(++C===m)break;d[C]=1,w=!w}P++}if(!(C===m||C===m-1&&P===x))throw new ae}static recordPatternInReverse(l,f,d){let m=d.length,x=l.get(f);for(;f>0&&m>=0;)l.get(--f)!==x&&(m--,x=!x);if(m>=0)throw new ae;xe.recordPattern(l,f+1,d)}static patternMatchVariance(l,f,d){const m=l.length;let x=0,w=0;for(let R=0;R<m;R++)x+=l[R],w+=f[R];if(x<w)return Number.POSITIVE_INFINITY;const C=x/w;d*=C;let P=0;for(let R=0;R<m;R++){const V=l[R],J=f[R]*C,se=V>J?V-J:J-V;if(se>d)return Number.POSITIVE_INFINITY;P+=se}return P/x}}class fe extends xe{static findStartPattern(l){const f=l.getSize(),d=l.getNextSet(0);let m=0,x=Int32Array.from([0,0,0,0,0,0]),w=d,C=!1;const P=6;for(let R=d;R<f;R++)if(l.get(R)!==C)x[m]++;else{if(m===P-1){let V=fe.MAX_AVG_VARIANCE,J=-1;for(let se=fe.CODE_START_A;se<=fe.CODE_START_C;se++){const Ee=xe.patternMatchVariance(x,fe.CODE_PATTERNS[se],fe.MAX_INDIVIDUAL_VARIANCE);Ee<V&&(V=Ee,J=se)}if(J>=0&&l.isRange(Math.max(0,w-(R-w)/2),w,!1))return Int32Array.from([w,R,J]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[m-1]=0,x[m]=0,m--}else m++;x[m]=1,C=!C}throw new ae}static decodeCode(l,f,d){xe.recordPattern(l,d,f);let m=fe.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<fe.CODE_PATTERNS.length;w++){const C=fe.CODE_PATTERNS[w],P=this.patternMatchVariance(f,C,fe.MAX_INDIVIDUAL_VARIANCE);P<m&&(m=P,x=w)}if(x>=0)return x;throw new ae}decodeRow(l,f,d){const m=d&&d.get(z.ASSUME_GS1)===!0,x=fe.findStartPattern(f),w=x[2];let C=0;const P=new Uint8Array(20);P[C++]=w;let R;switch(w){case fe.CODE_START_A:R=fe.CODE_CODE_A;break;case fe.CODE_START_B:R=fe.CODE_CODE_B;break;case fe.CODE_START_C:R=fe.CODE_CODE_C;break;default:throw new F}let V=!1,J=!1,se="",Ee=x[0],Le=x[1];const je=Int32Array.from([0,0,0,0,0,0]);let Ve=0,rt=0,vt=w,_t=0,yt=!0,dr=!1,wr=!1;for(;!V;){const fc=J;switch(J=!1,Ve=rt,rt=fe.decodeCode(f,je,Le),P[C++]=rt,rt!==fe.CODE_STOP&&(yt=!0),rt!==fe.CODE_STOP&&(_t++,vt+=_t*rt),Ee=Le,Le+=je.reduce((yg,_f)=>yg+_f,0),rt){case fe.CODE_START_A:case fe.CODE_START_B:case fe.CODE_START_C:throw new F}switch(R){case fe.CODE_CODE_A:if(rt<64)wr===dr?se+=String.fromCharCode(32+rt):se+=String.fromCharCode(32+rt+128),wr=!1;else if(rt<96)wr===dr?se+=String.fromCharCode(rt-64):se+=String.fromCharCode(rt+64),wr=!1;else switch(rt!==fe.CODE_STOP&&(yt=!1),rt){case fe.CODE_FNC_1:m&&(se.length===0?se+="]C1":se+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_A:!dr&&wr?(dr=!0,wr=!1):dr&&wr?(dr=!1,wr=!1):wr=!0;break;case fe.CODE_SHIFT:J=!0,R=fe.CODE_CODE_B;break;case fe.CODE_CODE_B:R=fe.CODE_CODE_B;break;case fe.CODE_CODE_C:R=fe.CODE_CODE_C;break;case fe.CODE_STOP:V=!0;break}break;case fe.CODE_CODE_B:if(rt<96)wr===dr?se+=String.fromCharCode(32+rt):se+=String.fromCharCode(32+rt+128),wr=!1;else switch(rt!==fe.CODE_STOP&&(yt=!1),rt){case fe.CODE_FNC_1:m&&(se.length===0?se+="]C1":se+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_B:!dr&&wr?(dr=!0,wr=!1):dr&&wr?(dr=!1,wr=!1):wr=!0;break;case fe.CODE_SHIFT:J=!0,R=fe.CODE_CODE_A;break;case fe.CODE_CODE_A:R=fe.CODE_CODE_A;break;case fe.CODE_CODE_C:R=fe.CODE_CODE_C;break;case fe.CODE_STOP:V=!0;break}break;case fe.CODE_CODE_C:if(rt<100)rt<10&&(se+="0"),se+=rt;else switch(rt!==fe.CODE_STOP&&(yt=!1),rt){case fe.CODE_FNC_1:m&&(se.length===0?se+="]C1":se+="");break;case fe.CODE_CODE_A:R=fe.CODE_CODE_A;break;case fe.CODE_CODE_B:R=fe.CODE_CODE_B;break;case fe.CODE_STOP:V=!0;break}break}fc&&(R=R===fe.CODE_CODE_A?fe.CODE_CODE_B:fe.CODE_CODE_A)}const ki=Le-Ee;if(Le=f.getNextUnset(Le),!f.isRange(Le,Math.min(f.getSize(),Le+(Le-Ee)/2),!1))throw new ae;if(vt-=_t*Ve,vt%103!==Ve)throw new g;const na=se.length;if(na===0)throw new ae;na>0&&yt&&(R===fe.CODE_CODE_C?se=se.substring(0,na-2):se=se.substring(0,na-1));const Wi=(x[1]+x[0])/2,cn=Ee+ki/2,Ni=P.length,ja=new Uint8Array(Ni);for(let fc=0;fc<Ni;fc++)ja[fc]=P[fc];const uc=[new at(Wi,l),new at(cn,l)];return new H(se,ja,0,uc,ne.CODE_128,new Date().getTime())}}fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],fe.MAX_AVG_VARIANCE=.25,fe.MAX_INDIVIDUAL_VARIANCE=.7,fe.CODE_SHIFT=98,fe.CODE_CODE_C=99,fe.CODE_CODE_B=100,fe.CODE_CODE_A=101,fe.CODE_FNC_1=102,fe.CODE_FNC_2=97,fe.CODE_FNC_3=96,fe.CODE_FNC_4_A=101,fe.CODE_FNC_4_B=100,fe.CODE_START_A=103,fe.CODE_START_B=104,fe.CODE_START_C=105,fe.CODE_STOP=106;class Qe extends xe{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,d){let m=this.counters;m.fill(0),this.decodeRowResult="";let x=Qe.findAsteriskPattern(f,m),w=f.getNextSet(x[1]),C=f.getSize(),P,R;do{Qe.recordPattern(f,w,m);let je=Qe.toNarrowWidePattern(m);if(je<0)throw new ae;P=Qe.patternToChar(je),this.decodeRowResult+=P,R=w;for(let Ve of m)w+=Ve;w=f.getNextSet(w)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let V=0;for(let je of m)V+=je;let J=w-R-V;if(w!==C&&J*2<V)throw new ae;if(this.usingCheckDigit){let je=this.decodeRowResult.length-1,Ve=0;for(let rt=0;rt<je;rt++)Ve+=Qe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(rt));if(this.decodeRowResult.charAt(je)!==Qe.ALPHABET_STRING.charAt(Ve%43))throw new g;this.decodeRowResult=this.decodeRowResult.substring(0,je)}if(this.decodeRowResult.length===0)throw new ae;let se;this.extendedMode?se=Qe.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;let Ee=(x[1]+x[0])/2,Le=R+V/2;return new H(se,null,0,[new at(Ee,l),new at(Le,l)],ne.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let d=l.getSize(),m=l.getNextSet(0),x=0,w=m,C=!1,P=f.length;for(let R=m;R<d;R++)if(l.get(R)!==C)f[x]++;else{if(x===P-1){if(this.toNarrowWidePattern(f)===Qe.ASTERISK_ENCODING&&l.isRange(Math.max(0,w-Math.floor((R-w)/2)),w,!1))return[w,R];w+=f[0]+f[1],f.copyWithin(0,2,2+x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,C=!C}throw new ae}static toNarrowWidePattern(l){let f=l.length,d=0,m;do{let x=2147483647;for(let P of l)P<x&&P>d&&(x=P);d=x,m=0;let w=0,C=0;for(let P=0;P<f;P++){let R=l[P];R>d&&(C|=1<<f-1-P,m++,w+=R)}if(m===3){for(let P=0;P<f&&m>0;P++){let R=l[P];if(R>d&&(m--,R*2>=w))return-1}return C}}while(m>3);return-1}static patternToChar(l){for(let f=0;f<Qe.CHARACTER_ENCODINGS.length;f++)if(Qe.CHARACTER_ENCODINGS[f]===l)return Qe.ALPHABET_STRING.charAt(f);if(l===Qe.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(l){let f=l.length,d="";for(let m=0;m<f;m++){let x=l.charAt(m);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=l.charAt(m+1),C="\0";switch(x){case"+":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)+32);else throw new F;break;case"$":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)-64);else throw new F;break;case"%":if(w>="A"&&w<="E")C=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")C=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")C=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")C="\0";else if(w==="V")C="@";else if(w==="W")C="`";else if(w==="X"||w==="Y"||w==="Z")C="";else throw new F;break;case"/":if(w>="A"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")C=":";else throw new F;break}d+=C,m++}else d+=x}return d}}Qe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qe.ASTERISK_ENCODING=148;class ft extends xe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,d){let m=this.decodeStart(f),x=this.decodeEnd(f),w=new K;ft.decodeMiddle(f,m[1],x[0],w);let C=w.toString(),P=null;d!=null&&(P=d.get(z.ALLOWED_LENGTHS)),P==null&&(P=ft.DEFAULT_ALLOWED_LENGTHS);let R=C.length,V=!1,J=0;for(let Le of P){if(R===Le){V=!0;break}Le>J&&(J=Le)}if(!V&&R>J&&(V=!0),!V)throw new F;const se=[new at(m[1],l),new at(x[0],l)];return new H(C,null,0,se,ne.ITF,new Date().getTime())}static decodeMiddle(l,f,d,m){let x=new Int32Array(10),w=new Int32Array(5),C=new Int32Array(5);for(x.fill(0),w.fill(0),C.fill(0);f<d;){xe.recordPattern(l,f,x);for(let R=0;R<5;R++){let V=2*R;w[R]=x[V],C[R]=x[V+1]}let P=ft.decodeDigit(w);m.append(P.toString()),P=this.decodeDigit(C),m.append(P.toString()),x.forEach(function(R){f+=R})}}decodeStart(l){let f=ft.skipWhiteSpace(l),d=ft.findGuardPattern(l,f,ft.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(l,d[0]),d}validateQuietZone(l,f){let d=this.narrowLineWidth*10;d=d<f?d:f;for(let m=f-1;d>0&&m>=0&&!l.get(m);m--)d--;if(d!==0)throw new ae}static skipWhiteSpace(l){const f=l.getSize(),d=l.getNextSet(0);if(d===f)throw new ae;return d}decodeEnd(l){l.reverse();try{let f=ft.skipWhiteSpace(l),d;try{d=ft.findGuardPattern(l,f,ft.END_PATTERN_REVERSED[0])}catch(x){x instanceof ae&&(d=ft.findGuardPattern(l,f,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,d[0]);let m=d[0];return d[0]=l.getSize()-d[1],d[1]=l.getSize()-m,d}finally{l.reverse()}}static findGuardPattern(l,f,d){let m=d.length,x=new Int32Array(m),w=l.getSize(),C=!1,P=0,R=f;x.fill(0);for(let V=f;V<w;V++)if(l.get(V)!==C)x[P]++;else{if(P===m-1){if(xe.patternMatchVariance(x,d,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[R,V];R+=x[0]+x[1],b.arraycopy(x,2,x,0,P-1),x[P-1]=0,x[P]=0,P--}else P++;x[P]=1,C=!C}throw new ae}static decodeDigit(l){let f=ft.MAX_AVG_VARIANCE,d=-1,m=ft.PATTERNS.length;for(let x=0;x<m;x++){let w=ft.PATTERNS[x],C=xe.patternMatchVariance(l,w,ft.MAX_INDIVIDUAL_VARIANCE);C<f?(f=C,d=x):C===f&&(d=-1)}if(d>=0)return d%10;throw new ae}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ze extends xe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,d,m=0,x=Int32Array.from([0,0,0]);for(;!f;){x=Int32Array.from([0,0,0]),d=Ze.findGuardPattern(l,m,!1,this.START_END_PATTERN,x);let w=d[0];m=d[1];let C=w-(m-w);C>=0&&(f=l.isRange(C,w,!1))}return d}static checkChecksum(l){return Ze.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let d=parseInt(l.charAt(f-1),10);return Ze.getStandardUPCEANChecksum(l.substring(0,f-1))===d}static getStandardUPCEANChecksum(l){let f=l.length,d=0;for(let m=f-1;m>=0;m-=2){let x=l.charAt(m).charCodeAt(0)-48;if(x<0||x>9)throw new F;d+=x}d*=3;for(let m=f-2;m>=0;m-=2){let x=l.charAt(m).charCodeAt(0)-48;if(x<0||x>9)throw new F;d+=x}return(1e3-d)%10}static decodeEnd(l,f){return Ze.findGuardPattern(l,f,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,d,m){return this.findGuardPattern(l,f,d,m,new Int32Array(m.length))}static findGuardPattern(l,f,d,m,x){let w=l.getSize();f=d?l.getNextUnset(f):l.getNextSet(f);let C=0,P=f,R=m.length,V=d;for(let J=f;J<w;J++)if(l.get(J)!==V)x[C]++;else{if(C===R-1){if(xe.patternMatchVariance(x,m,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return Int32Array.from([P,J]);P+=x[0]+x[1];let se=x.slice(2,x.length-1);for(let Ee=0;Ee<C-1;Ee++)x[Ee]=se[Ee];x[C-1]=0,x[C]=0,C--}else C++;x[C]=1,V=!V}throw new ae}static decodeDigit(l,f,d,m){this.recordPattern(l,d,f);let x=this.MAX_AVG_VARIANCE,w=-1,C=m.length;for(let P=0;P<C;P++){let R=m[P],V=xe.patternMatchVariance(f,R,Ze.MAX_INDIVIDUAL_VARIANCE);V<x&&(x=V,w=P)}if(w>=0)return w;throw new ae}}Ze.MAX_AVG_VARIANCE=.48,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.START_END_PATTERN=Int32Array.from([1,1,1]),Ze.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ze.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ze.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Rt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,d){let m=this.decodeRowStringBuffer,x=this.decodeMiddle(f,d,m),w=m.toString(),C=Rt.parseExtensionString(w),P=[new at((d[0]+d[1])/2,l),new at(x,l)],R=new H(w,null,0,P,ne.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&R.putAllMetadata(C),R}decodeMiddle(l,f,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let x=l.getSize(),w=f[1],C=0;for(let R=0;R<5&&w<x;R++){let V=Ze.decodeDigit(l,m,w,Ze.L_AND_G_PATTERNS);d+=String.fromCharCode(48+V%10);for(let J of m)w+=J;V>=10&&(C|=1<<4-R),R!==4&&(w=l.getNextSet(w),w=l.getNextUnset(w))}if(d.length!==5)throw new ae;let P=this.determineCheckDigit(C);if(Rt.extensionChecksum(d.toString())!==P)throw new ae;return w}static extensionChecksum(l){let f=l.length,d=0;for(let m=f-2;m>=0;m-=2)d+=l.charAt(m).charCodeAt(0)-48;d*=3;for(let m=f-1;m>=0;m-=2)d+=l.charAt(m).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new ae}static parseExtensionString(l){if(l.length!==5)return null;let f=Rt.parseExtension5String(l);return f==null?null:new Map([[Ie.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let d=parseInt(l.substring(1)),m=(d/100).toString(),x=d%100,w=x<10?"0"+x:x.toString();return f+m+"."+w}}class $t{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,d){let m=this.decodeRowStringBuffer,x=this.decodeMiddle(f,d,m),w=m.toString(),C=$t.parseExtensionString(w),P=[new at((d[0]+d[1])/2,l),new at(x,l)],R=new H(w,null,0,P,ne.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&R.putAllMetadata(C),R}decodeMiddle(l,f,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let x=l.getSize(),w=f[1],C=0;for(let P=0;P<2&&w<x;P++){let R=Ze.decodeDigit(l,m,w,Ze.L_AND_G_PATTERNS);d+=String.fromCharCode(48+R%10);for(let V of m)w+=V;R>=10&&(C|=1<<1-P),P!==1&&(w=l.getNextSet(w),w=l.getNextUnset(w))}if(d.length!==2)throw new ae;if(parseInt(d.toString())%4!==C)throw new ae;return w}static parseExtensionString(l){return l.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(l)]])}}class fr{static decodeRow(l,f,d){let m=Ze.findGuardPattern(f,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Rt().decodeRow(l,f,m)}catch{return new $t().decodeRow(l,f,m)}}}fr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class er extends Ze{constructor(){super(),this.decodeRowStringBuffer="",er.L_AND_G_PATTERNS=er.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=er.L_PATTERNS[l-10],d=new Int32Array(f.length);for(let m=0;m<f.length;m++)d[m]=f[f.length-m-1];er.L_AND_G_PATTERNS[l]=d}}decodeRow(l,f,d){let m=er.findStartGuardPattern(f),x=d==null?null:d.get(z.NEED_RESULT_POINT_CALLBACK);if(x!=null){const yt=new at((m[0]+m[1])/2,l);x.foundPossibleResultPoint(yt)}let w=this.decodeMiddle(f,m,this.decodeRowStringBuffer),C=w.rowOffset,P=w.resultString;if(x!=null){const yt=new at(C,l);x.foundPossibleResultPoint(yt)}let R=this.decodeEnd(f,C);if(x!=null){const yt=new at((R[0]+R[1])/2,l);x.foundPossibleResultPoint(yt)}let V=R[1],J=V+(V-R[0]);if(J>=f.getSize()||!f.isRange(V,J,!1))throw new ae;let se=P.toString();if(se.length<8)throw new F;if(!er.checkChecksum(se))throw new g;let Ee=(m[1]+m[0])/2,Le=(R[1]+R[0])/2,je=this.getBarcodeFormat(),Ve=[new at(Ee,l),new at(Le,l)],rt=new H(se,null,0,Ve,je,new Date().getTime()),vt=0;try{let yt=fr.decodeRow(l,f,R[1]);rt.putMetadata(Ie.UPC_EAN_EXTENSION,yt.getText()),rt.putAllMetadata(yt.getResultMetadata()),rt.addResultPoints(yt.getResultPoints()),vt=yt.getText().length}catch{}let _t=d==null?null:d.get(z.ALLOWED_EAN_EXTENSIONS);if(_t!=null){let yt=!1;for(let dr in _t)if(vt.toString()===dr){yt=!0;break}if(!yt)throw new ae}return rt}decodeEnd(l,f){return er.findGuardPattern(l,f,!1,er.START_END_PATTERN,new Int32Array(er.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return er.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let d=parseInt(l.charAt(f-1),10);return er.getStandardUPCEANChecksum(l.substring(0,f-1))===d}static getStandardUPCEANChecksum(l){let f=l.length,d=0;for(let m=f-1;m>=0;m-=2){let x=l.charAt(m).charCodeAt(0)-48;if(x<0||x>9)throw new F;d+=x}d*=3;for(let m=f-2;m>=0;m-=2){let x=l.charAt(m).charCodeAt(0)-48;if(x<0||x>9)throw new F;d+=x}return(1e3-d)%10}}class mr extends er{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let x=l.getSize(),w=f[1],C=0;for(let R=0;R<6&&w<x;R++){let V=er.decodeDigit(l,m,w,er.L_AND_G_PATTERNS);d+=String.fromCharCode(48+V%10);for(let J of m)w+=J;V>=10&&(C|=1<<5-R)}d=mr.determineFirstDigit(d,C),w=er.findGuardPattern(l,w,!0,er.MIDDLE_PATTERN,new Int32Array(er.MIDDLE_PATTERN.length).fill(0))[1];for(let R=0;R<6&&w<x;R++){let V=er.decodeDigit(l,m,w,er.L_PATTERNS);d+=String.fromCharCode(48+V);for(let J of m)w+=J}return{rowOffset:w,resultString:d}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(l,f){for(let d=0;d<10;d++)if(f===this.FIRST_DIGIT_ENCODINGS[d])return l=String.fromCharCode(48+d)+l,l;throw new ae}}mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class nr extends er{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,d){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let x=l.getSize(),w=f[1];for(let P=0;P<4&&w<x;P++){let R=er.decodeDigit(l,m,w,er.L_PATTERNS);d+=String.fromCharCode(48+R);for(let V of m)w+=V}w=er.findGuardPattern(l,w,!0,er.MIDDLE_PATTERN,new Int32Array(er.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&w<x;P++){let R=er.decodeDigit(l,m,w,er.L_PATTERNS);d+=String.fromCharCode(48+R);for(let V of m)w+=V}return{rowOffset:w,resultString:d}}getBarcodeFormat(){return ne.EAN_8}}class jr extends er{constructor(){super(...arguments),this.ean13Reader=new mr}getBarcodeFormat(){return ne.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,d))}decodeMiddle(l,f,d){return this.ean13Reader.decodeMiddle(l,f,d)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let d=new H(f.substring(1),null,null,l.getResultPoints(),ne.UPC_A);return l.getResultMetadata()!=null&&d.putAllMetadata(l.getResultMetadata()),d}else throw new ae}reset(){this.ean13Reader.reset()}}class Cr extends er{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,d){const m=this.decodeMiddleCounters.map(R=>R);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const x=l.getSize();let w=f[1],C=0;for(let R=0;R<6&&w<x;R++){const V=Cr.decodeDigit(l,m,w,Cr.L_AND_G_PATTERNS);d+=String.fromCharCode(48+V%10);for(let J of m)w+=J;V>=10&&(C|=1<<5-R)}let P=Cr.determineNumSysAndCheckDigit(d,C);return{rowOffset:w,resultString:P}}decodeEnd(l,f){return Cr.findGuardPatternWithoutCounters(l,f,!0,Cr.MIDDLE_END_PATTERN)}checkChecksum(l){return er.checkChecksum(Cr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let d=0;d<=1;d++)for(let m=0;m<10;m++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][m]){let x=String.fromCharCode(48+d),w=String.fromCharCode(48+m);return x+l+w}throw ae.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),d=new K;d.append(l.charAt(0));let m=f[5];switch(m){case 0:case 1:case 2:d.appendChars(f,0,2),d.append(m),d.append("0000"),d.appendChars(f,2,3);break;case 3:d.appendChars(f,0,3),d.append("00000"),d.appendChars(f,3,2);break;case 4:d.appendChars(f,0,4),d.append("00000"),d.append(f[4]);break;default:d.appendChars(f,0,5),d.append("0000"),d.append(m);break}return l.length>=8&&d.append(l.charAt(7)),d.toString()}}Cr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $r extends xe{constructor(l){super();let f=l==null?null:l.get(z.POSSIBLE_FORMATS),d=[];n(f)?(d.push(new mr),d.push(new jr),d.push(new nr),d.push(new Cr)):(f.indexOf(ne.EAN_13)>-1&&d.push(new mr),f.indexOf(ne.UPC_A)>-1&&d.push(new jr),f.indexOf(ne.EAN_8)>-1&&d.push(new nr),f.indexOf(ne.UPC_E)>-1&&d.push(new Cr)),this.readers=d}decodeRow(l,f,d){for(let m of this.readers)try{const x=m.decodeRow(l,f,d),w=x.getBarcodeFormat()===ne.EAN_13&&x.getText().charAt(0)==="0",C=d==null?null:d.get(z.POSSIBLE_FORMATS),P=C==null||C.includes(ne.UPC_A);if(w&&P){const R=x.getRawBytes(),V=new H(x.getText().substring(1),R,R?R.length:null,x.getResultPoints(),ne.UPC_A);return V.putAllMetadata(x.getResultMetadata()),V}return x}catch{}throw new ae}reset(){for(let l of this.readers)l.reset()}}class vr extends xe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let d=0;d<f.length;d++)if(xe.patternMatchVariance(l,f[d],vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE)return d;throw new ae}static count(l){return ot.sum(new Int32Array(l))}static increment(l,f){let d=0,m=f[0];for(let x=1;x<l.length;x++)f[x]>m&&(m=f[x],d=x);l[d]++}static decrement(l,f){let d=0,m=f[0];for(let x=1;x<l.length;x++)f[x]<m&&(m=f[x],d=x);l[d]--}static isFinderPattern(l){let f=l[0]+l[1],d=f+l[2]+l[3],m=f/d;if(m>=vr.MIN_FINDER_PATTERN_RATIO&&m<=vr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let C of l)C>w&&(w=C),C<x&&(x=C);return w<10*x}return!1}}vr.MAX_AVG_VARIANCE=.2,vr.MAX_INDIVIDUAL_VARIANCE=.45,vr.MIN_FINDER_PATTERN_RATIO=9.5/12,vr.MAX_FINDER_PATTERN_RATIO=12.5/14;class kn{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof kn))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Vt{constructor(l,f,d,m,x){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new at(d,x)),this.resultPoints.push(new at(m,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Vt))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class _n{constructor(){}static getRSSvalue(l,f,d){let m=0;for(let P of l)m+=P;let x=0,w=0,C=l.length;for(let P=0;P<C-1;P++){let R;for(R=1,w|=1<<P;R<l[P];R++,w&=~(1<<P)){let V=_n.combins(m-R-1,C-P-2);if(d&&w===0&&m-R-(C-P-1)>=C-P-1&&(V-=_n.combins(m-R-(C-P),C-P-2)),C-P-1>1){let J=0;for(let se=m-R-(C-P-2);se>f;se--)J+=_n.combins(m-R-se-1,C-P-3);V-=J*(C-1-P)}else m-R>f&&V--;x+=V}m-=R}return x}static combins(l,f){let d,m;l-f>f?(m=f,d=l-f):(m=l-f,d=f);let x=1,w=1;for(let C=l;C>d;C--)x*=C,w<=m&&(x/=w,w++);for(;w<=m;)x/=w,w++;return x}}class Bi{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let d=12*f,m=new k(d),x=0,C=l[0].getRightChar().getValue();for(let P=11;P>=0;--P)C&1<<P&&m.set(x),x++;for(let P=1;P<l.length;++P){let R=l[P],V=R.getLeftChar().getValue();for(let J=11;J>=0;--J)V&1<<J&&m.set(x),x++;if(R.getRightChar()!=null){let J=R.getRightChar().getValue();for(let se=11;se>=0;--se)J&1<<se&&m.set(x),x++}}return m}}class Vr{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ai{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Mr extends Ai{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===Mr.FNC1}}Mr.FNC1="$";class Gr extends Ai{constructor(l,f,d){super(l),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ie extends Ai{constructor(l,f,d){if(super(l),f<0||f>10||d<0||d>10)throw new F;this.firstDigit=f,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ie.FNC1}isSecondDigitFNC1(){return this.secondDigit===ie.FNC1}isAnyFNC1(){return this.firstDigit===ie.FNC1||this.secondDigit===ie.FNC1}}ie.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ae;let f=l.substring(0,2);for(let x of ue.TWO_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,x[2],l):ue.processFixedAI(2,x[1],l);if(l.length<3)throw new ae;let d=l.substring(0,3);for(let x of ue.THREE_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,x[2],l):ue.processFixedAI(3,x[1],l);for(let x of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,x[2],l):ue.processFixedAI(4,x[1],l);if(l.length<4)throw new ae;let m=l.substring(0,4);for(let x of ue.FOUR_DIGIT_DATA_LENGTH)if(x[0]===m)return x[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,x[2],l):ue.processFixedAI(4,x[1],l);throw new ae}static processFixedAI(l,f,d){if(d.length<l)throw new ae;let m=d.substring(0,l);if(d.length<l+f)throw new ae;let x=d.substring(l,l+f),w=d.substring(l+f),C="("+m+")"+x,P=ue.parseFieldsInGeneralPurpose(w);return P==null?C:C+P}static processVariableAI(l,f,d){let m=d.substring(0,l),x;d.length<l+f?x=d.length:x=l+f;let w=d.substring(l,x),C=d.substring(x),P="("+m+")"+w,R=ue.parseFieldsInGeneralPurpose(C);return R==null?P:P+R}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class de{constructor(l){this.buffer=new K,this.information=l}decodeAllCodes(l,f){let d=f,m=null;do{let x=this.decodeGeneralPurposeField(d,m),w=ue.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&l.append(w),x.isRemaining()?m=""+x.getRemainingValue():m=null,d===x.getNewPosition())break;d=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new ie(this.information.getSize(),ie.FNC1,ie.FNC1):new ie(this.information.getSize(),x-1,ie.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),d=(f-8)/11,m=(f-8)%11;return new ie(l+7,d,m)}extractNumericValueFromBitArray(l,f){return de.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,d){let m=0;for(let x=0;x<d;++x)l.get(f+x)&&(m|=1<<d-x-1);return m}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new Gr(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new Gr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let d=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(d!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new Gr(this.current.getPosition(),this.buffer.toString()):f=new Gr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Vr(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new Gr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Gr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Gr(this.current.getPosition(),this.buffer.toString());return new Vr(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vr(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<116)return!0;if(l+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,8);return m>=232&&m<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Mr(l+5,Mr.FNC1);if(f>=5&&f<15)return new Mr(l+5,"0"+(f-5));let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<90)return new Mr(l+7,""+(d+1));if(d>=90&&d<116)return new Mr(l+7,""+(d+7));let m=this.extractNumericValueFromBitArray(l,8),x;switch(m){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new F}return new Mr(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,6);return d>=16&&d<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Mr(l+5,Mr.FNC1);if(f>=5&&f<15)return new Mr(l+5,"0"+(f-5));let d=this.extractNumericValueFromBitArray(l,6);if(d>=32&&d<58)return new Mr(l+6,""+(d+33));let m;switch(d){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new me("Decoding invalid alphanumeric value: "+d)}return new Mr(l+6,m)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class ge{constructor(l){this.information=l,this.generalDecoder=new de(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ye extends ge{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let d=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,d)}encodeCompressedGtinWithoutAI(l,f,d){for(let m=0;m<4;++m){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*m,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}ye.appendCheckDigit(l,d)}static appendCheckDigit(l,f){let d=0;for(let m=0;m<13;m++){let x=l.charAt(m+f).charCodeAt(0)-48;d+=m&1?x:3*x}d=10-d%10,d===10&&(d=0),l.append(d)}}ye.GTIN_SIZE=40;class Ae extends ye{constructor(l){super(l)}parseInformation(){let l=new K;l.append("(01)");let f=l.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Ae.HEADER_SIZE,4);return l.append(d),this.encodeCompressedGtinWithoutAI(l,Ae.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,Ae.HEADER_SIZE+44)}}Ae.HEADER_SIZE=4;class Ke extends ge{constructor(l){super(l)}parseInformation(){let l=new K;return this.getGeneralDecoder().decodeAllCodes(l,Ke.HEADER_SIZE)}}Ke.HEADER_SIZE=5;class ct extends ye{constructor(l){super(l)}encodeCompressedWeight(l,f,d){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(f,d);this.addWeightCode(l,m);let x=this.checkWeight(m),w=1e5;for(let C=0;C<5;++C)x/w===0&&l.append("0"),w/=10;l.append(x)}}class Ge extends ct{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Ge.HEADER_SIZE+ct.GTIN_SIZE+Ge.WEIGHT_SIZE)throw new ae;let l=new K;return this.encodeCompressedGtin(l,Ge.HEADER_SIZE),this.encodeCompressedWeight(l,Ge.HEADER_SIZE+ct.GTIN_SIZE,Ge.WEIGHT_SIZE),l.toString()}}Ge.HEADER_SIZE=5,Ge.WEIGHT_SIZE=15;class Ye extends Ge{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class qe extends Ge{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class pt extends ye{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<pt.HEADER_SIZE+ye.GTIN_SIZE)throw new ae;let l=new K;this.encodeCompressedGtin(l,pt.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(pt.HEADER_SIZE+ye.GTIN_SIZE,pt.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(pt.HEADER_SIZE+ye.GTIN_SIZE+pt.LAST_DIGIT_SIZE,null);return l.append(d.getNewString()),l.toString()}}pt.HEADER_SIZE=8,pt.LAST_DIGIT_SIZE=2;class St extends ye{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<St.HEADER_SIZE+ye.GTIN_SIZE)throw new ae;let l=new K;this.encodeCompressedGtin(l,St.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+ye.GTIN_SIZE,St.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+ye.GTIN_SIZE+St.LAST_DIGIT_SIZE,St.FIRST_THREE_DIGITS_SIZE);d/100==0&&l.append("0"),d/10==0&&l.append("0"),l.append(d);let m=this.getGeneralDecoder().decodeGeneralPurposeField(St.HEADER_SIZE+ye.GTIN_SIZE+St.LAST_DIGIT_SIZE+St.FIRST_THREE_DIGITS_SIZE,null);return l.append(m.getNewString()),l.toString()}}St.HEADER_SIZE=8,St.LAST_DIGIT_SIZE=2,St.FIRST_THREE_DIGITS_SIZE=10;class kt extends ct{constructor(l,f,d){super(l),this.dateCode=d,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=kt.HEADER_SIZE+kt.GTIN_SIZE+kt.WEIGHT_SIZE+kt.DATE_SIZE)throw new ae;let l=new K;return this.encodeCompressedGtin(l,kt.HEADER_SIZE),this.encodeCompressedWeight(l,kt.HEADER_SIZE+kt.GTIN_SIZE,kt.WEIGHT_SIZE),this.encodeCompressedDate(l,kt.HEADER_SIZE+kt.GTIN_SIZE+kt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(f,kt.DATE_SIZE);if(d==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let m=d%32;d/=32;let x=d%12+1;d/=12;let w=d;w/10==0&&l.append("0"),l.append(w),x/10==0&&l.append("0"),l.append(x),m/10==0&&l.append("0"),l.append(m)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}kt.HEADER_SIZE=8,kt.WEIGHT_SIZE=20,kt.DATE_SIZE=16;function Pt(Z){try{if(Z.get(1))return new Ae(Z);if(!Z.get(2))return new Ke(Z);switch(de.extractNumericValueFromBitArray(Z,1,4)){case 4:return new Ye(Z);case 5:return new qe(Z)}switch(de.extractNumericValueFromBitArray(Z,1,5)){case 12:return new pt(Z);case 13:return new St(Z)}switch(de.extractNumericValueFromBitArray(Z,1,7)){case 56:return new kt(Z,"310","11");case 57:return new kt(Z,"320","11");case 58:return new kt(Z,"310","13");case 59:return new kt(Z,"320","13");case 60:return new kt(Z,"310","15");case 61:return new kt(Z,"320","15");case 62:return new kt(Z,"310","17");case 63:return new kt(Z,"320","17")}}catch(l){throw console.log(l),new me("unknown decoder: "+Z)}}class Lt{constructor(l,f,d,m){this.leftchar=l,this.rightchar=f,this.finderpattern=d,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Lt?Lt.equalsOrNull(l.leftchar,f.leftchar)&&Lt.equalsOrNull(l.rightchar,f.rightchar)&&Lt.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Lt.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yr{constructor(l,f,d){this.pairs=l,this.rowNumber=f,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof yr?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let d;return l.forEach((m,x)=>{f.forEach(w=>{m.getLeftChar().getValue()===w.getLeftChar().getValue()&&m.getRightChar().getValue()===w.getRightChar().getValue()&&m.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(d=!0)})}),d}}class ut extends vr{constructor(l){super(...arguments),this.pairs=new Array(ut.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,d){this.pairs.length=0,this.startFromEven=!1;try{return ut.constructResult(this.decodeRow2pairs(l,f))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,ut.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(x){if(x instanceof ae){if(!this.pairs.length)throw new ae;d=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(l,!1),m){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ae}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let d=f;d<this.rows.length;d++){let m=this.rows[d];this.pairs.length=0;for(let w of l)this.pairs.push(w.getPairs());if(this.pairs.push(m.getPairs()),!ut.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(m);try{return this.checkRows(x,d+1)}catch(w){this.verbose&&console.log(w)}}throw new ae}static isValidSequence(l){for(let f of ut.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let d=!0;for(let m=0;m<l.length;m++)if(l[m].getFinderPattern().getValue()!=f[m]){d=!1;break}if(d)return!0}return!1}storeRow(l,f){let d=0,m=!1,x=!1;for(;d<this.rows.length;){let w=this.rows[d];if(w.getRowNumber()>l){x=w.isEquivalent(this.pairs);break}m=w.isEquivalent(this.pairs),d++}x||m||ut.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new yr(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let d of f)if(d.getPairs().length!==l.length){for(let m of d.getPairs())for(let x of l)if(Lt.equals(m,x))break}}static isPartialRow(l,f){for(let d of f){let m=!0;for(let x of l){let w=!1;for(let C of d.getPairs())if(x.equals(C)){w=!0;break}if(!w){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=Bi.buildBitArray(l),m=Pt(f).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),w=l[l.length-1].getFinderPattern().getResultPoints(),C=[x[0],x[1],w[0],w[1]];return new H(m,null,null,C,ne.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),d=l.getRightChar();if(d==null)return!1;let m=d.getChecksumPortion(),x=2;for(let C=1;C<this.pairs.size();++C){let P=this.pairs.get(C);m+=P.getLeftChar().getChecksumPortion(),x++;let R=P.getRightChar();R!=null&&(m+=R.getChecksumPortion(),x++)}return m%=211,211*(x-4)+m==f.getValue()}static getNextSecondBar(l,f){let d;return l.get(f)?(d=l.getNextUnset(f),d=l.getNextSet(d)):(d=l.getNextSet(f),d=l.getNextUnset(d)),d}retrieveNextPair(l,f,d){let m=f.length%2==0;this.startFromEven&&(m=!m);let x,w=!0,C=-1;do this.findNextPair(l,f,C),x=this.parseFoundFinderPattern(l,d,m),x==null?C=ut.getNextSecondBar(l,this.startEnd[0]):w=!1;while(w);let P=this.decodeDataCharacter(l,x,m,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new ae;let R;try{R=this.decodeDataCharacter(l,x,m,!1)}catch(V){R=null,this.verbose&&console.log(V)}return new Lt(P,R,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,d){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let x=l.getSize(),w;d>=0?w=d:this.isEmptyPair(f)?w=0:w=f[f.length-1].getFinderPattern().getStartEnd()[1];let C=f.length%2!=0;this.startFromEven&&(C=!C);let P=!1;for(;w<x&&(P=!l.get(w),!!P);)w++;let R=0,V=w;for(let J=w;J<x;J++)if(l.get(J)!=P)m[R]++;else{if(R==3){if(C&&ut.reverseCounters(m),ut.isFinderPattern(m)){this.startEnd[0]=V,this.startEnd[1]=J;return}C&&ut.reverseCounters(m),V+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,R--}else R++;m[R]=1,P=!P}throw new ae}static reverseCounters(l){let f=l.length;for(let d=0;d<f/2;++d){let m=l[d];l[d]=l[f-d-1],l[f-d-1]=m}}parseFoundFinderPattern(l,f,d){let m,x,w;if(d){let R=this.startEnd[0]-1;for(;R>=0&&!l.get(R);)R--;R++,m=this.startEnd[0]-R,x=R,w=this.startEnd[1]}else x=this.startEnd[0],w=l.getNextUnset(this.startEnd[1]+1),m=w-this.startEnd[1];let C=this.getDecodeFinderCounters();b.arraycopy(C,0,C,1,C.length-1),C[0]=m;let P;try{P=this.parseFinderValue(C,ut.FINDER_PATTERNS)}catch{return null}return new Vt(P,[x,w],x,w,f)}decodeDataCharacter(l,f,d,m){let x=this.getDataCharacterCounters();for(let cn=0;cn<x.length;cn++)x[cn]=0;if(m)ut.recordPatternInReverse(l,f.getStartEnd()[0],x);else{ut.recordPattern(l,f.getStartEnd()[1],x);for(let cn=0,Ni=x.length-1;cn<Ni;cn++,Ni--){let ja=x[cn];x[cn]=x[Ni],x[Ni]=ja}}let w=17,C=ot.sum(new Int32Array(x))/w,P=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(C-P)/P>.3)throw new ae;let R=this.getOddCounts(),V=this.getEvenCounts(),J=this.getOddRoundingErrors(),se=this.getEvenRoundingErrors();for(let cn=0;cn<x.length;cn++){let Ni=1*x[cn]/C,ja=Ni+.5;if(ja<1){if(Ni<.3)throw new ae;ja=1}else if(ja>8){if(Ni>8.7)throw new ae;ja=8}let uc=cn/2;cn&1?(V[uc]=ja,se[uc]=Ni-ja):(R[uc]=ja,J[uc]=Ni-ja)}this.adjustOddEvenCounts(w);let Ee=4*f.getValue()+(d?0:2)+(m?0:1)-1,Le=0,je=0;for(let cn=R.length-1;cn>=0;cn--){if(ut.isNotA1left(f,d,m)){let Ni=ut.WEIGHTS[Ee][2*cn];je+=R[cn]*Ni}Le+=R[cn]}let Ve=0;for(let cn=V.length-1;cn>=0;cn--)if(ut.isNotA1left(f,d,m)){let Ni=ut.WEIGHTS[Ee][2*cn+1];Ve+=V[cn]*Ni}let rt=je+Ve;if(Le&1||Le>13||Le<4)throw new ae;let vt=(13-Le)/2,_t=ut.SYMBOL_WIDEST[vt],yt=9-_t,dr=_n.getRSSvalue(R,_t,!0),wr=_n.getRSSvalue(V,yt,!1),ki=ut.EVEN_TOTAL_SUBSET[vt],na=ut.GSUM[vt],Wi=dr*ki+wr+na;return new kn(Wi,rt)}static isNotA1left(l,f,d){return!(l.getValue()==0&&f&&d)}adjustOddEvenCounts(l){let f=ot.sum(new Int32Array(this.getOddCounts())),d=ot.sum(new Int32Array(this.getEvenCounts())),m=!1,x=!1;f>13?x=!0:f<4&&(m=!0);let w=!1,C=!1;d>13?C=!0:d<4&&(w=!0);let P=f+d-l,R=(f&1)==1,V=(d&1)==0;if(P==1)if(R){if(V)throw new ae;x=!0}else{if(!V)throw new ae;C=!0}else if(P==-1)if(R){if(V)throw new ae;m=!0}else{if(!V)throw new ae;w=!0}else if(P==0){if(R){if(!V)throw new ae;f<d?(m=!0,C=!0):(x=!0,w=!0)}else if(V)throw new ae}else throw new ae;if(m){if(x)throw new ae;ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new ae;ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ut.SYMBOL_WIDEST=[7,5,4,3,1],ut.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ut.GSUM=[0,348,1388,2948,3988],ut.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ut.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ut.FINDER_PAT_A=0,ut.FINDER_PAT_B=1,ut.FINDER_PAT_C=2,ut.FINDER_PAT_D=3,ut.FINDER_PAT_E=4,ut.FINDER_PAT_F=5,ut.FINDER_PATTERN_SEQUENCES=[[ut.FINDER_PAT_A,ut.FINDER_PAT_A],[ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B],[ut.FINDER_PAT_A,ut.FINDER_PAT_C,ut.FINDER_PAT_B,ut.FINDER_PAT_D],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_C],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_D,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_E,ut.FINDER_PAT_B,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_D],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_E],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F],[ut.FINDER_PAT_A,ut.FINDER_PAT_A,ut.FINDER_PAT_B,ut.FINDER_PAT_B,ut.FINDER_PAT_C,ut.FINDER_PAT_D,ut.FINDER_PAT_D,ut.FINDER_PAT_E,ut.FINDER_PAT_E,ut.FINDER_PAT_F,ut.FINDER_PAT_F]],ut.MAX_PAIRS=11;class zr extends kn{constructor(l,f,d){super(l,f),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Or extends vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,d){const m=this.decodePair(f,!1,l,d);Or.addOrTally(this.possibleLeftPairs,m),f.reverse();let x=this.decodePair(f,!0,l,d);Or.addOrTally(this.possibleRightPairs,x),f.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&Or.checkChecksum(w,C))return Or.constructResult(w,C)}throw new ae}static addOrTally(l,f){if(f==null)return;let d=!1;for(let m of l)if(m.getValue()===f.getValue()){m.incrementCount(),d=!0;break}d||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let d=4537077*l.getValue()+f.getValue(),m=new String(d).toString(),x=new K;for(let R=13-m.length;R>0;R--)x.append("0");x.append(m);let w=0;for(let R=0;R<13;R++){let V=x.charAt(R).charCodeAt(0)-48;w+=R&1?V:3*V}w=10-w%10,w===10&&(w=0),x.append(w.toString());let C=l.getFinderPattern().getResultPoints(),P=f.getFinderPattern().getResultPoints();return new H(x.toString(),null,0,[C[0],C[1],P[0],P[1]],ne.RSS_14,new Date().getTime())}static checkChecksum(l,f){let d=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,m=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,d===m}decodePair(l,f,d,m){try{let x=this.findFinderPattern(l,f),w=this.parseFoundFinderPattern(l,d,f,x),C=m==null?null:m.get(z.NEED_RESULT_POINT_CALLBACK);if(C!=null){let V=(x[0]+x[1])/2;f&&(V=l.getSize()-1-V),C.foundPossibleResultPoint(new at(V,d))}let P=this.decodeDataCharacter(l,w,!0),R=this.decodeDataCharacter(l,w,!1);return new zr(1597*P.getValue()+R.getValue(),P.getChecksumPortion()+4*R.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(l,f,d){let m=this.getDataCharacterCounters();for(let Ve=0;Ve<m.length;Ve++)m[Ve]=0;if(d)xe.recordPatternInReverse(l,f.getStartEnd()[0],m);else{xe.recordPattern(l,f.getStartEnd()[1]+1,m);for(let Ve=0,rt=m.length-1;Ve<rt;Ve++,rt--){let vt=m[Ve];m[Ve]=m[rt],m[rt]=vt}}let x=d?16:15,w=ot.sum(new Int32Array(m))/x,C=this.getOddCounts(),P=this.getEvenCounts(),R=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let Ve=0;Ve<m.length;Ve++){let rt=m[Ve]/w,vt=Math.floor(rt+.5);vt<1?vt=1:vt>8&&(vt=8);let _t=Math.floor(Ve/2);Ve&1?(P[_t]=vt,V[_t]=rt-vt):(C[_t]=vt,R[_t]=rt-vt)}this.adjustOddEvenCounts(d,x);let J=0,se=0;for(let Ve=C.length-1;Ve>=0;Ve--)se*=9,se+=C[Ve],J+=C[Ve];let Ee=0,Le=0;for(let Ve=P.length-1;Ve>=0;Ve--)Ee*=9,Ee+=P[Ve],Le+=P[Ve];let je=se+3*Ee;if(d){if(J&1||J>12||J<4)throw new ae;let Ve=(12-J)/2,rt=Or.OUTSIDE_ODD_WIDEST[Ve],vt=9-rt,_t=_n.getRSSvalue(C,rt,!1),yt=_n.getRSSvalue(P,vt,!0),dr=Or.OUTSIDE_EVEN_TOTAL_SUBSET[Ve],wr=Or.OUTSIDE_GSUM[Ve];return new kn(_t*dr+yt+wr,je)}else{if(Le&1||Le>10||Le<4)throw new ae;let Ve=(10-Le)/2,rt=Or.INSIDE_ODD_WIDEST[Ve],vt=9-rt,_t=_n.getRSSvalue(C,rt,!0),yt=_n.getRSSvalue(P,vt,!1),dr=Or.INSIDE_ODD_TOTAL_SUBSET[Ve],wr=Or.INSIDE_GSUM[Ve];return new kn(yt*dr+_t+wr,je)}}findFinderPattern(l,f){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let m=l.getSize(),x=!1,w=0;for(;w<m&&(x=!l.get(w),f!==x);)w++;let C=0,P=w;for(let R=w;R<m;R++)if(l.get(R)!==x)d[C]++;else{if(C===3){if(vr.isFinderPattern(d))return[P,R];P+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,C--}else C++;d[C]=1,x=!x}throw new ae}parseFoundFinderPattern(l,f,d,m){let x=l.get(m[0]),w=m[0]-1;for(;w>=0&&x!==l.get(w);)w--;w++;const C=m[0]-w,P=this.getDecodeFinderCounters(),R=new Int32Array(P.length);b.arraycopy(P,0,R,1,P.length-1),R[0]=C;const V=this.parseFinderValue(R,Or.FINDER_PATTERNS);let J=w,se=m[1];return d&&(J=l.getSize()-1-J,se=l.getSize()-1-se),new Vt(V,[w,m[1]],J,se,f)}adjustOddEvenCounts(l,f){let d=ot.sum(new Int32Array(this.getOddCounts())),m=ot.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,C=!1,P=!1;l?(d>12?w=!0:d<4&&(x=!0),m>12?P=!0:m<4&&(C=!0)):(d>11?w=!0:d<5&&(x=!0),m>10?P=!0:m<4&&(C=!0));let R=d+m-f,V=(d&1)===(l?1:0),J=(m&1)===1;if(R===1)if(V){if(J)throw new ae;w=!0}else{if(!J)throw new ae;P=!0}else if(R===-1)if(V){if(J)throw new ae;x=!0}else{if(!J)throw new ae;C=!0}else if(R===0){if(V){if(!J)throw new ae;d<m?(x=!0,P=!0):(w=!0,C=!0)}else if(J)throw new ae}else throw new ae;if(x){if(w)throw new ae;vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(P)throw new ae;vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Or.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Or.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Or.OUTSIDE_GSUM=[0,161,961,2015,2715],Or.INSIDE_GSUM=[0,336,1036,1516],Or.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Or.INSIDE_ODD_WIDEST=[2,4,6,8],Or.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pa extends xe{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const d=l?l.get(z.POSSIBLE_FORMATS):null,m=l&&l.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(ne.EAN_13)||d.includes(ne.UPC_A)||d.includes(ne.EAN_8)||d.includes(ne.UPC_E))&&this.readers.push(new $r(l)),d.includes(ne.CODE_39)&&this.readers.push(new Qe(m)),d.includes(ne.CODE_128)&&this.readers.push(new fe),d.includes(ne.ITF)&&this.readers.push(new ft),d.includes(ne.RSS_14)&&this.readers.push(new Or),d.includes(ne.RSS_EXPANDED)&&this.readers.push(new ut(this.verbose))):(this.readers.push(new $r(l)),this.readers.push(new Qe),this.readers.push(new $r(l)),this.readers.push(new fe),this.readers.push(new ft),this.readers.push(new Or),this.readers.push(new ut(this.verbose)))}decodeRow(l,f,d){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(l,f,d)}catch{}throw new ae}reset(){this.readers.forEach(l=>l.reset())}}class Ro extends Y{constructor(l=500,f){super(new pa(f),l,f)}}class Fr{constructor(l,f,d){this.ecCodewords=l,this.ecBlocks=[f],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class kr{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nr{constructor(l,f,d,m,x,w){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=d,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=x,this.ecBlocks=w;let C=0;const P=w.getECCodewords(),R=w.getECBlocks();for(let V of R)C+=V.getCount()*(V.getDataCodewords()+P);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if(l&1||f&1)throw new F;for(let d of Nr.VERSIONS)if(d.symbolSizeRows===l&&d.symbolSizeColumns===f)return d;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Nr(1,10,10,8,8,new Fr(5,new kr(1,3))),new Nr(2,12,12,10,10,new Fr(7,new kr(1,5))),new Nr(3,14,14,12,12,new Fr(10,new kr(1,8))),new Nr(4,16,16,14,14,new Fr(12,new kr(1,12))),new Nr(5,18,18,16,16,new Fr(14,new kr(1,18))),new Nr(6,20,20,18,18,new Fr(18,new kr(1,22))),new Nr(7,22,22,20,20,new Fr(20,new kr(1,30))),new Nr(8,24,24,22,22,new Fr(24,new kr(1,36))),new Nr(9,26,26,24,24,new Fr(28,new kr(1,44))),new Nr(10,32,32,14,14,new Fr(36,new kr(1,62))),new Nr(11,36,36,16,16,new Fr(42,new kr(1,86))),new Nr(12,40,40,18,18,new Fr(48,new kr(1,114))),new Nr(13,44,44,20,20,new Fr(56,new kr(1,144))),new Nr(14,48,48,22,22,new Fr(68,new kr(1,174))),new Nr(15,52,52,24,24,new Fr(42,new kr(2,102))),new Nr(16,64,64,14,14,new Fr(56,new kr(2,140))),new Nr(17,72,72,16,16,new Fr(36,new kr(4,92))),new Nr(18,80,80,18,18,new Fr(48,new kr(4,114))),new Nr(19,88,88,20,20,new Fr(56,new kr(4,144))),new Nr(20,96,96,22,22,new Fr(68,new kr(4,174))),new Nr(21,104,104,24,24,new Fr(56,new kr(6,136))),new Nr(22,120,120,18,18,new Fr(68,new kr(6,175))),new Nr(23,132,132,20,20,new Fr(62,new kr(8,163))),new Nr(24,144,144,22,22,new Fr(62,new kr(8,156),new kr(2,155))),new Nr(25,8,18,6,16,new Fr(7,new kr(1,5))),new Nr(26,8,32,6,14,new Fr(11,new kr(1,10))),new Nr(27,12,26,10,24,new Fr(14,new kr(1,16))),new Nr(28,12,36,10,16,new Fr(18,new kr(1,22))),new Nr(29,16,36,14,16,new Fr(24,new kr(1,32))),new Nr(30,16,48,14,22,new Fr(28,new kr(1,49)))]}}Nr.VERSIONS=Nr.buildVersions();class Ci{constructor(l){const f=l.getHeight();if(f<8||f>144||f&1)throw new F;this.version=Ci.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),d=l.getWidth();return Nr.getVersionForDimensions(f,d)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,d=4,m=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let C=!1,P=!1,R=!1,V=!1;do if(d===x&&m===0&&!C)l[f++]=this.readCorner1(x,w)&255,d-=2,m+=2,C=!0;else if(d===x-2&&m===0&&w&3&&!P)l[f++]=this.readCorner2(x,w)&255,d-=2,m+=2,P=!0;else if(d===x+4&&m===2&&!(w&7)&&!R)l[f++]=this.readCorner3(x,w)&255,d-=2,m+=2,R=!0;else if(d===x-2&&m===0&&(w&7)===4&&!V)l[f++]=this.readCorner4(x,w)&255,d-=2,m+=2,V=!0;else{do d<x&&m>=0&&!this.readMappingMatrix.get(m,d)&&(l[f++]=this.readUtah(d,m,x,w)&255),d-=2,m+=2;while(d>=0&&m<w);d+=1,m+=3;do d>=0&&m<w&&!this.readMappingMatrix.get(m,d)&&(l[f++]=this.readUtah(d,m,x,w)&255),d+=2,m-=2;while(d<x&&m>=0);d+=3,m+=1}while(d<x||m<w);if(f!==this.version.getTotalCodewords())throw new F;return l}readModule(l,f,d,m){return l<0&&(l+=d,f+=4-(d+4&7)),f<0&&(f+=m,l+=4-(m+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,d,m){let x=0;return this.readModule(l-2,f-2,d,m)&&(x|=1),x<<=1,this.readModule(l-2,f-1,d,m)&&(x|=1),x<<=1,this.readModule(l-1,f-2,d,m)&&(x|=1),x<<=1,this.readModule(l-1,f-1,d,m)&&(x|=1),x<<=1,this.readModule(l-1,f,d,m)&&(x|=1),x<<=1,this.readModule(l,f-2,d,m)&&(x|=1),x<<=1,this.readModule(l,f-1,d,m)&&(x|=1),x<<=1,this.readModule(l,f,d,m)&&(x|=1),x}readCorner1(l,f){let d=0;return this.readModule(l-1,0,l,f)&&(d|=1),d<<=1,this.readModule(l-1,1,l,f)&&(d|=1),d<<=1,this.readModule(l-1,2,l,f)&&(d|=1),d<<=1,this.readModule(0,f-2,l,f)&&(d|=1),d<<=1,this.readModule(0,f-1,l,f)&&(d|=1),d<<=1,this.readModule(1,f-1,l,f)&&(d|=1),d<<=1,this.readModule(2,f-1,l,f)&&(d|=1),d<<=1,this.readModule(3,f-1,l,f)&&(d|=1),d}readCorner2(l,f){let d=0;return this.readModule(l-3,0,l,f)&&(d|=1),d<<=1,this.readModule(l-2,0,l,f)&&(d|=1),d<<=1,this.readModule(l-1,0,l,f)&&(d|=1),d<<=1,this.readModule(0,f-4,l,f)&&(d|=1),d<<=1,this.readModule(0,f-3,l,f)&&(d|=1),d<<=1,this.readModule(0,f-2,l,f)&&(d|=1),d<<=1,this.readModule(0,f-1,l,f)&&(d|=1),d<<=1,this.readModule(1,f-1,l,f)&&(d|=1),d}readCorner3(l,f){let d=0;return this.readModule(l-1,0,l,f)&&(d|=1),d<<=1,this.readModule(l-1,f-1,l,f)&&(d|=1),d<<=1,this.readModule(0,f-3,l,f)&&(d|=1),d<<=1,this.readModule(0,f-2,l,f)&&(d|=1),d<<=1,this.readModule(0,f-1,l,f)&&(d|=1),d<<=1,this.readModule(1,f-3,l,f)&&(d|=1),d<<=1,this.readModule(1,f-2,l,f)&&(d|=1),d<<=1,this.readModule(1,f-1,l,f)&&(d|=1),d}readCorner4(l,f){let d=0;return this.readModule(l-3,0,l,f)&&(d|=1),d<<=1,this.readModule(l-2,0,l,f)&&(d|=1),d<<=1,this.readModule(l-1,0,l,f)&&(d|=1),d<<=1,this.readModule(0,f-2,l,f)&&(d|=1),d<<=1,this.readModule(0,f-1,l,f)&&(d|=1),d<<=1,this.readModule(1,f-1,l,f)&&(d|=1),d<<=1,this.readModule(2,f-1,l,f)&&(d|=1),d<<=1,this.readModule(3,f-1,l,f)&&(d|=1),d}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new p("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=f/m|0,C=d/x|0,P=w*m,R=C*x,V=new oe(R,P);for(let J=0;J<w;++J){const se=J*m;for(let Ee=0;Ee<C;++Ee){const Le=Ee*x;for(let je=0;je<m;++je){const Ve=J*(m+2)+1+je,rt=se+je;for(let vt=0;vt<x;++vt){const _t=Ee*(x+2)+1+vt;if(l.get(_t,Ve)){const yt=Le+vt;V.set(yt,rt)}}}}}return V}}class mf{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const d=f.getECBlocks();let m=0;const x=d.getECBlocks();for(let je of x)m+=je.getCount();const w=new Array(m);let C=0;for(let je of x)for(let Ve=0;Ve<je.getCount();Ve++){const rt=je.getDataCodewords(),vt=d.getECCodewords()+rt;w[C++]=new mf(rt,new Uint8Array(vt))}const R=w[0].codewords.length-d.getECCodewords(),V=R-1;let J=0;for(let je=0;je<V;je++)for(let Ve=0;Ve<C;Ve++)w[Ve].codewords[je]=l[J++];const se=f.getVersionNumber()===24,Ee=se?8:C;for(let je=0;je<Ee;je++)w[je].codewords[R-1]=l[J++];const Le=w[0].codewords.length;for(let je=R;je<Le;je++)for(let Ve=0;Ve<C;Ve++){const rt=se?(Ve+8)%C:Ve,vt=se&&rt>7?je-1:je;w[rt].codewords[vt]=l[J++]}if(J!==l.length)throw new p;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hn{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new p(""+l);let f=0,d=this.bitOffset,m=this.byteOffset;const x=this.bytes;if(d>0){const w=8-d,C=l<w?l:w,P=w-C,R=255>>8-C<<P;f=(x[m]&R)>>P,l-=C,d+=C,d===8&&(d=0,m++)}if(l>0){for(;l>=8;)f=f<<8|x[m]&255,m++,l-=8;if(l>0){const w=8-l,C=255>>w<<w;f=f<<l|(x[m]&C)>>w,d+=l}}return this.bitOffset=d,this.byteOffset=m,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vn;(function(Z){Z[Z.PAD_ENCODE=0]="PAD_ENCODE",Z[Z.ASCII_ENCODE=1]="ASCII_ENCODE",Z[Z.C40_ENCODE=2]="C40_ENCODE",Z[Z.TEXT_ENCODE=3]="TEXT_ENCODE",Z[Z.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Z[Z.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Z[Z.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vn||(Vn={}));class Lo{static decode(l){const f=new Hn(l),d=new K,m=new K,x=new Array;let w=Vn.ASCII_ENCODE;do if(w===Vn.ASCII_ENCODE)w=this.decodeAsciiSegment(f,d,m);else{switch(w){case Vn.C40_ENCODE:this.decodeC40Segment(f,d);break;case Vn.TEXT_ENCODE:this.decodeTextSegment(f,d);break;case Vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,d);break;case Vn.EDIFACT_ENCODE:this.decodeEdifactSegment(f,d);break;case Vn.BASE256_ENCODE:this.decodeBase256Segment(f,d,x);break;default:throw new F}w=Vn.ASCII_ENCODE}while(w!==Vn.PAD_ENCODE&&f.available()>0);return m.length()>0&&d.append(m.toString()),new be(l,d.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,f,d){let m=!1;do{let x=l.readBits(8);if(x===0)throw new F;if(x<=128)return m&&(x+=128),f.append(String.fromCharCode(x-1)),Vn.ASCII_ENCODE;if(x===129)return Vn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&f.append("0"),f.append(""+w)}else switch(x){case 230:return Vn.C40_ENCODE;case 231:return Vn.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:f.append("[)>05"),d.insert(0,"");break;case 237:f.append("[)>06"),d.insert(0,"");break;case 238:return Vn.ANSIX12_ENCODE;case 239:return Vn.TEXT_ENCODE;case 240:return Vn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new F;break}}while(l.available()>0);return Vn.ASCII_ENCODE}static decodeC40Segment(l,f){let d=!1;const m=[];let x=0;do{if(l.available()===8)return;const w=l.readBits(8);if(w===254)return;this.parseTwoBytes(w,l.readBits(8),m);for(let C=0;C<3;C++){const P=m[C];switch(x){case 0:if(P<3)x=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const R=this.C40_BASIC_SET_CHARS[P];d?(f.append(String.fromCharCode(R.charCodeAt(0)+128)),d=!1):f.append(R)}else throw new F;break;case 1:d?(f.append(String.fromCharCode(P+128)),d=!1):f.append(String.fromCharCode(P)),x=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const R=this.C40_SHIFT2_SET_CHARS[P];d?(f.append(String.fromCharCode(R.charCodeAt(0)+128)),d=!1):f.append(R)}else switch(P){case 27:f.append("");break;case 30:d=!0;break;default:throw new F}x=0;break;case 3:d?(f.append(String.fromCharCode(P+224)),d=!1):f.append(String.fromCharCode(P+96)),x=0;break;default:throw new F}}}while(l.available()>0)}static decodeTextSegment(l,f){let d=!1,m=[],x=0;do{if(l.available()===8)return;const w=l.readBits(8);if(w===254)return;this.parseTwoBytes(w,l.readBits(8),m);for(let C=0;C<3;C++){const P=m[C];switch(x){case 0:if(P<3)x=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const R=this.TEXT_BASIC_SET_CHARS[P];d?(f.append(String.fromCharCode(R.charCodeAt(0)+128)),d=!1):f.append(R)}else throw new F;break;case 1:d?(f.append(String.fromCharCode(P+128)),d=!1):f.append(String.fromCharCode(P)),x=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const R=this.TEXT_SHIFT2_SET_CHARS[P];d?(f.append(String.fromCharCode(R.charCodeAt(0)+128)),d=!1):f.append(R)}else switch(P){case 27:f.append("");break;case 30:d=!0;break;default:throw new F}x=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const R=this.TEXT_SHIFT3_SET_CHARS[P];d?(f.append(String.fromCharCode(R.charCodeAt(0)+128)),d=!1):f.append(R),x=0}else throw new F;break;default:throw new F}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const d=[];do{if(l.available()===8)return;const m=l.readBits(8);if(m===254)return;this.parseTwoBytes(m,l.readBits(8),d);for(let x=0;x<3;x++){const w=d[x];switch(w){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(w<14)f.append(String.fromCharCode(w+44));else if(w<40)f.append(String.fromCharCode(w+51));else throw new F;break}}}while(l.available()>0)}static parseTwoBytes(l,f,d){let m=(l<<8)+f-1,x=Math.floor(m/1600);d[0]=x,m-=x*1600,x=Math.floor(m/40),d[1]=x,d[2]=m-x*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let d=0;d<4;d++){let m=l.readBits(6);if(m===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}m&32||(m|=64),f.append(String.fromCharCode(m))}}while(l.available()>0)}static decodeBase256Segment(l,f,d){let m=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),m++);let w;if(x===0?w=l.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(l.readBits(8),m++),w<0)throw new F;const C=new Uint8Array(w);for(let P=0;P<w;P++){if(l.available()<8)throw new F;C[P]=this.unrandomize255State(l.readBits(8),m++)}d.push(C);try{f.append(W.decode(C,U.ISO88591))}catch(P){throw new me("Platform does not support required encoding: "+P.message)}}static unrandomize255State(l,f){const d=149*f%255+1,m=l-d;return m>=0?m:m+256}}Lo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Lo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Lo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Lo.TEXT_SHIFT2_SET_CHARS=Lo.C40_SHIFT2_SET_CHARS,Lo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ks{constructor(){this.rsDecoder=new Dt(st.DATA_MATRIX_FIELD_256)}decode(l){const f=new Ci(l),d=f.getVersion(),m=f.readCodewords(),x=mf.getDataBlocks(m,d);let w=0;for(let R of x)w+=R.getNumDataCodewords();const C=new Uint8Array(w),P=x.length;for(let R=0;R<P;R++){const V=x[R],J=V.getCodewords(),se=V.getNumDataCodewords();this.correctErrors(J,se);for(let Ee=0;Ee<se;Ee++)C[Ee*P+R]=J[Ee]}return Lo.decode(C)}correctErrors(l,f){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-f)}catch{throw new g}for(let m=0;m<f;m++)l[m]=d[m]}}class un{constructor(l){this.image=l,this.rectangleDetector=new cr(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new ae;f=this.shiftToModuleCenter(f);const d=f[0],m=f[1],x=f[2],w=f[3];let C=this.transitionsBetween(d,w)+1,P=this.transitionsBetween(x,w)+1;(C&1)===1&&(C+=1),(P&1)===1&&(P+=1),4*C<7*P&&4*P<7*C&&(C=P=Math.max(C,P));let R=un.sampleGrid(this.image,d,m,x,w,C,P);return new gr(R,[d,m,x,w])}static shiftPoint(l,f,d){let m=(f.getX()-l.getX())/(d+1),x=(f.getY()-l.getY())/(d+1);return new at(l.getX()+m,l.getY()+x)}static moveAway(l,f,d){let m=l.getX(),x=l.getY();return m<f?m-=1:m+=1,x<d?x-=1:x+=1,new at(m,x)}detectSolid1(l){let f=l[0],d=l[1],m=l[3],x=l[2],w=this.transitionsBetween(f,d),C=this.transitionsBetween(d,m),P=this.transitionsBetween(m,x),R=this.transitionsBetween(x,f),V=w,J=[x,f,d,m];return V>C&&(V=C,J[0]=f,J[1]=d,J[2]=m,J[3]=x),V>P&&(V=P,J[0]=d,J[1]=m,J[2]=x,J[3]=f),V>R&&(J[0]=m,J[1]=x,J[2]=f,J[3]=d),J}detectSolid2(l){let f=l[0],d=l[1],m=l[2],x=l[3],w=this.transitionsBetween(f,x),C=un.shiftPoint(d,m,(w+1)*4),P=un.shiftPoint(m,d,(w+1)*4),R=this.transitionsBetween(C,f),V=this.transitionsBetween(P,x);return R<V?(l[0]=f,l[1]=d,l[2]=m,l[3]=x):(l[0]=d,l[1]=m,l[2]=x,l[3]=f),l}correctTopRight(l){let f=l[0],d=l[1],m=l[2],x=l[3],w=this.transitionsBetween(f,x),C=this.transitionsBetween(d,x),P=un.shiftPoint(f,d,(C+1)*4),R=un.shiftPoint(m,d,(w+1)*4);w=this.transitionsBetween(P,x),C=this.transitionsBetween(R,x);let V=new at(x.getX()+(m.getX()-d.getX())/(w+1),x.getY()+(m.getY()-d.getY())/(w+1)),J=new at(x.getX()+(f.getX()-d.getX())/(C+1),x.getY()+(f.getY()-d.getY())/(C+1));if(!this.isValid(V))return this.isValid(J)?J:null;if(!this.isValid(J))return V;let se=this.transitionsBetween(P,V)+this.transitionsBetween(R,V),Ee=this.transitionsBetween(P,J)+this.transitionsBetween(R,J);return se>Ee?V:J}shiftToModuleCenter(l){let f=l[0],d=l[1],m=l[2],x=l[3],w=this.transitionsBetween(f,x)+1,C=this.transitionsBetween(m,x)+1,P=un.shiftPoint(f,d,C*4),R=un.shiftPoint(m,d,w*4);w=this.transitionsBetween(P,x)+1,C=this.transitionsBetween(R,x)+1,(w&1)===1&&(w+=1),(C&1)===1&&(C+=1);let V=(f.getX()+d.getX()+m.getX()+x.getX())/4,J=(f.getY()+d.getY()+m.getY()+x.getY())/4;f=un.moveAway(f,V,J),d=un.moveAway(d,V,J),m=un.moveAway(m,V,J),x=un.moveAway(x,V,J);let se,Ee;return P=un.shiftPoint(f,d,C*4),P=un.shiftPoint(P,x,w*4),se=un.shiftPoint(d,f,C*4),se=un.shiftPoint(se,m,w*4),R=un.shiftPoint(m,x,C*4),R=un.shiftPoint(R,d,w*4),Ee=un.shiftPoint(x,m,C*4),Ee=un.shiftPoint(Ee,f,w*4),[P,se,R,Ee]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,d,m,x,w,C){return xt.getInstance().sampleGrid(l,w,C,.5,.5,w-.5,.5,w-.5,C-.5,.5,C-.5,f.getX(),f.getY(),x.getX(),x.getY(),m.getX(),m.getY(),d.getX(),d.getY())}transitionsBetween(l,f){let d=Math.trunc(l.getX()),m=Math.trunc(l.getY()),x=Math.trunc(f.getX()),w=Math.trunc(f.getY()),C=Math.abs(w-m)>Math.abs(x-d);if(C){let je=d;d=m,m=je,je=x,x=w,w=je}let P=Math.abs(x-d),R=Math.abs(w-m),V=-P/2,J=m<w?1:-1,se=d<x?1:-1,Ee=0,Le=this.image.get(C?m:d,C?d:m);for(let je=d,Ve=m;je!==x;je+=se){let rt=this.image.get(C?Ve:je,C?je:Ve);if(rt!==Le&&(Ee++,Le=rt),V+=R,V>0){if(Ve===w)break;Ve+=J,V-=P}}return Ee}}class Ti{constructor(){this.decoder=new Ks}decode(l,f=null){let d,m;if(f!=null&&f.has(z.PURE_BARCODE)){const R=Ti.extractPureBits(l.getBlackMatrix());d=this.decoder.decode(R),m=Ti.NO_POINTS}else{const R=new un(l.getBlackMatrix()).detect();d=this.decoder.decode(R.getBits()),m=R.getPoints()}const x=d.getRawBytes(),w=new H(d.getText(),x,8*x.length,m,ne.DATA_MATRIX,b.currentTimeMillis()),C=d.getByteSegments();C!=null&&w.putMetadata(Ie.BYTE_SEGMENTS,C);const P=d.getECLevel();return P!=null&&w.putMetadata(Ie.ERROR_CORRECTION_LEVEL,P),w}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(f==null||d==null)throw new ae;const m=this.moduleSize(f,l);let x=f[1];const w=d[1];let C=f[0];const R=(d[0]-C+1)/m,V=(w-x+1)/m;if(R<=0||V<=0)throw new ae;const J=m/2;x+=J,C+=J;const se=new oe(R,V);for(let Ee=0;Ee<V;Ee++){const Le=x+Ee*m;for(let je=0;je<R;je++)l.get(C+je*m,Le)&&se.set(je,Ee)}return se}static moduleSize(l,f){const d=f.getWidth();let m=l[0];const x=l[1];for(;m<d&&f.get(m,x);)m++;if(m===d)throw new ae;const w=m-l[0];if(w===0)throw new ae;return w}}Ti.NO_POINTS=[];class Xl extends Y{constructor(l=500){super(new Ti,l)}}var wn;(function(Z){Z[Z.L=0]="L",Z[Z.M=1]="M",Z[Z.Q=2]="Q",Z[Z.H=3]="H"})(wn||(wn={}));class en{constructor(l,f,d){this.value=l,this.stringValue=f,this.bits=d,en.FOR_BITS.set(d,this),en.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return en.L;case"M":return en.M;case"Q":return en.Q;case"H":return en.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof en))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=en.FOR_BITS.size)throw new p;return en.FOR_BITS.get(l)}}en.FOR_BITS=new Map,en.FOR_VALUE=new Map,en.L=new en(wn.L,"L",1),en.M=new en(wn.M,"M",0),en.Q=new en(wn.Q,"Q",3),en.H=new en(wn.H,"H",2);class Oi{constructor(l){this.errorCorrectionLevel=en.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return O.bitCount(l^f)}static decodeFormatInformation(l,f){const d=Oi.doDecodeFormatInformation(l,f);return d!==null?d:Oi.doDecodeFormatInformation(l^Oi.FORMAT_INFO_MASK_QR,f^Oi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let d=Number.MAX_SAFE_INTEGER,m=0;for(const x of Oi.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===l||w===f)return new Oi(x[1]);let C=Oi.numBitsDiffering(l,w);C<d&&(m=x[1],d=C),l!==f&&(C=Oi.numBitsDiffering(f,w),C<d&&(m=x[1],d=C))}return d<=3?new Oi(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Oi))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}Oi.FORMAT_INFO_MASK_QR=21522,Oi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Je{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const d of f)l+=d.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ve{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(l,f,...d){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=d;let m=0;const x=d[0].getECCodewordsPerBlock(),w=d[0].getECBlocks();for(const C of w)m+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new F;try{return this.getVersionForNumber((l-17)/4)}catch{throw new F}}static getVersionForNumber(l){if(l<1||l>40)throw new p;return qt.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,d=0;for(let m=0;m<qt.VERSION_DECODE_INFO.length;m++){const x=qt.VERSION_DECODE_INFO[m];if(x===l)return qt.getVersionForNumber(m+7);const w=Oi.numBitsDiffering(l,x);w<f&&(d=m+7,f=w)}return f<=3?qt.getVersionForNumber(d):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new oe(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const d=this.alignmentPatternCenters.length;for(let m=0;m<d;m++){const x=this.alignmentPatternCenters[m]-2;for(let w=0;w<d;w++)m===0&&(w===0||w===d-1)||m===d-1&&w===0||f.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}qt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qt.VERSIONS=[new qt(1,new Int32Array(0),new Je(7,new ve(1,19)),new Je(10,new ve(1,16)),new Je(13,new ve(1,13)),new Je(17,new ve(1,9))),new qt(2,Int32Array.from([6,18]),new Je(10,new ve(1,34)),new Je(16,new ve(1,28)),new Je(22,new ve(1,22)),new Je(28,new ve(1,16))),new qt(3,Int32Array.from([6,22]),new Je(15,new ve(1,55)),new Je(26,new ve(1,44)),new Je(18,new ve(2,17)),new Je(22,new ve(2,13))),new qt(4,Int32Array.from([6,26]),new Je(20,new ve(1,80)),new Je(18,new ve(2,32)),new Je(26,new ve(2,24)),new Je(16,new ve(4,9))),new qt(5,Int32Array.from([6,30]),new Je(26,new ve(1,108)),new Je(24,new ve(2,43)),new Je(18,new ve(2,15),new ve(2,16)),new Je(22,new ve(2,11),new ve(2,12))),new qt(6,Int32Array.from([6,34]),new Je(18,new ve(2,68)),new Je(16,new ve(4,27)),new Je(24,new ve(4,19)),new Je(28,new ve(4,15))),new qt(7,Int32Array.from([6,22,38]),new Je(20,new ve(2,78)),new Je(18,new ve(4,31)),new Je(18,new ve(2,14),new ve(4,15)),new Je(26,new ve(4,13),new ve(1,14))),new qt(8,Int32Array.from([6,24,42]),new Je(24,new ve(2,97)),new Je(22,new ve(2,38),new ve(2,39)),new Je(22,new ve(4,18),new ve(2,19)),new Je(26,new ve(4,14),new ve(2,15))),new qt(9,Int32Array.from([6,26,46]),new Je(30,new ve(2,116)),new Je(22,new ve(3,36),new ve(2,37)),new Je(20,new ve(4,16),new ve(4,17)),new Je(24,new ve(4,12),new ve(4,13))),new qt(10,Int32Array.from([6,28,50]),new Je(18,new ve(2,68),new ve(2,69)),new Je(26,new ve(4,43),new ve(1,44)),new Je(24,new ve(6,19),new ve(2,20)),new Je(28,new ve(6,15),new ve(2,16))),new qt(11,Int32Array.from([6,30,54]),new Je(20,new ve(4,81)),new Je(30,new ve(1,50),new ve(4,51)),new Je(28,new ve(4,22),new ve(4,23)),new Je(24,new ve(3,12),new ve(8,13))),new qt(12,Int32Array.from([6,32,58]),new Je(24,new ve(2,92),new ve(2,93)),new Je(22,new ve(6,36),new ve(2,37)),new Je(26,new ve(4,20),new ve(6,21)),new Je(28,new ve(7,14),new ve(4,15))),new qt(13,Int32Array.from([6,34,62]),new Je(26,new ve(4,107)),new Je(22,new ve(8,37),new ve(1,38)),new Je(24,new ve(8,20),new ve(4,21)),new Je(22,new ve(12,11),new ve(4,12))),new qt(14,Int32Array.from([6,26,46,66]),new Je(30,new ve(3,115),new ve(1,116)),new Je(24,new ve(4,40),new ve(5,41)),new Je(20,new ve(11,16),new ve(5,17)),new Je(24,new ve(11,12),new ve(5,13))),new qt(15,Int32Array.from([6,26,48,70]),new Je(22,new ve(5,87),new ve(1,88)),new Je(24,new ve(5,41),new ve(5,42)),new Je(30,new ve(5,24),new ve(7,25)),new Je(24,new ve(11,12),new ve(7,13))),new qt(16,Int32Array.from([6,26,50,74]),new Je(24,new ve(5,98),new ve(1,99)),new Je(28,new ve(7,45),new ve(3,46)),new Je(24,new ve(15,19),new ve(2,20)),new Je(30,new ve(3,15),new ve(13,16))),new qt(17,Int32Array.from([6,30,54,78]),new Je(28,new ve(1,107),new ve(5,108)),new Je(28,new ve(10,46),new ve(1,47)),new Je(28,new ve(1,22),new ve(15,23)),new Je(28,new ve(2,14),new ve(17,15))),new qt(18,Int32Array.from([6,30,56,82]),new Je(30,new ve(5,120),new ve(1,121)),new Je(26,new ve(9,43),new ve(4,44)),new Je(28,new ve(17,22),new ve(1,23)),new Je(28,new ve(2,14),new ve(19,15))),new qt(19,Int32Array.from([6,30,58,86]),new Je(28,new ve(3,113),new ve(4,114)),new Je(26,new ve(3,44),new ve(11,45)),new Je(26,new ve(17,21),new ve(4,22)),new Je(26,new ve(9,13),new ve(16,14))),new qt(20,Int32Array.from([6,34,62,90]),new Je(28,new ve(3,107),new ve(5,108)),new Je(26,new ve(3,41),new ve(13,42)),new Je(30,new ve(15,24),new ve(5,25)),new Je(28,new ve(15,15),new ve(10,16))),new qt(21,Int32Array.from([6,28,50,72,94]),new Je(28,new ve(4,116),new ve(4,117)),new Je(26,new ve(17,42)),new Je(28,new ve(17,22),new ve(6,23)),new Je(30,new ve(19,16),new ve(6,17))),new qt(22,Int32Array.from([6,26,50,74,98]),new Je(28,new ve(2,111),new ve(7,112)),new Je(28,new ve(17,46)),new Je(30,new ve(7,24),new ve(16,25)),new Je(24,new ve(34,13))),new qt(23,Int32Array.from([6,30,54,78,102]),new Je(30,new ve(4,121),new ve(5,122)),new Je(28,new ve(4,47),new ve(14,48)),new Je(30,new ve(11,24),new ve(14,25)),new Je(30,new ve(16,15),new ve(14,16))),new qt(24,Int32Array.from([6,28,54,80,106]),new Je(30,new ve(6,117),new ve(4,118)),new Je(28,new ve(6,45),new ve(14,46)),new Je(30,new ve(11,24),new ve(16,25)),new Je(30,new ve(30,16),new ve(2,17))),new qt(25,Int32Array.from([6,32,58,84,110]),new Je(26,new ve(8,106),new ve(4,107)),new Je(28,new ve(8,47),new ve(13,48)),new Je(30,new ve(7,24),new ve(22,25)),new Je(30,new ve(22,15),new ve(13,16))),new qt(26,Int32Array.from([6,30,58,86,114]),new Je(28,new ve(10,114),new ve(2,115)),new Je(28,new ve(19,46),new ve(4,47)),new Je(28,new ve(28,22),new ve(6,23)),new Je(30,new ve(33,16),new ve(4,17))),new qt(27,Int32Array.from([6,34,62,90,118]),new Je(30,new ve(8,122),new ve(4,123)),new Je(28,new ve(22,45),new ve(3,46)),new Je(30,new ve(8,23),new ve(26,24)),new Je(30,new ve(12,15),new ve(28,16))),new qt(28,Int32Array.from([6,26,50,74,98,122]),new Je(30,new ve(3,117),new ve(10,118)),new Je(28,new ve(3,45),new ve(23,46)),new Je(30,new ve(4,24),new ve(31,25)),new Je(30,new ve(11,15),new ve(31,16))),new qt(29,Int32Array.from([6,30,54,78,102,126]),new Je(30,new ve(7,116),new ve(7,117)),new Je(28,new ve(21,45),new ve(7,46)),new Je(30,new ve(1,23),new ve(37,24)),new Je(30,new ve(19,15),new ve(26,16))),new qt(30,Int32Array.from([6,26,52,78,104,130]),new Je(30,new ve(5,115),new ve(10,116)),new Je(28,new ve(19,47),new ve(10,48)),new Je(30,new ve(15,24),new ve(25,25)),new Je(30,new ve(23,15),new ve(25,16))),new qt(31,Int32Array.from([6,30,56,82,108,134]),new Je(30,new ve(13,115),new ve(3,116)),new Je(28,new ve(2,46),new ve(29,47)),new Je(30,new ve(42,24),new ve(1,25)),new Je(30,new ve(23,15),new ve(28,16))),new qt(32,Int32Array.from([6,34,60,86,112,138]),new Je(30,new ve(17,115)),new Je(28,new ve(10,46),new ve(23,47)),new Je(30,new ve(10,24),new ve(35,25)),new Je(30,new ve(19,15),new ve(35,16))),new qt(33,Int32Array.from([6,30,58,86,114,142]),new Je(30,new ve(17,115),new ve(1,116)),new Je(28,new ve(14,46),new ve(21,47)),new Je(30,new ve(29,24),new ve(19,25)),new Je(30,new ve(11,15),new ve(46,16))),new qt(34,Int32Array.from([6,34,62,90,118,146]),new Je(30,new ve(13,115),new ve(6,116)),new Je(28,new ve(14,46),new ve(23,47)),new Je(30,new ve(44,24),new ve(7,25)),new Je(30,new ve(59,16),new ve(1,17))),new qt(35,Int32Array.from([6,30,54,78,102,126,150]),new Je(30,new ve(12,121),new ve(7,122)),new Je(28,new ve(12,47),new ve(26,48)),new Je(30,new ve(39,24),new ve(14,25)),new Je(30,new ve(22,15),new ve(41,16))),new qt(36,Int32Array.from([6,24,50,76,102,128,154]),new Je(30,new ve(6,121),new ve(14,122)),new Je(28,new ve(6,47),new ve(34,48)),new Je(30,new ve(46,24),new ve(10,25)),new Je(30,new ve(2,15),new ve(64,16))),new qt(37,Int32Array.from([6,28,54,80,106,132,158]),new Je(30,new ve(17,122),new ve(4,123)),new Je(28,new ve(29,46),new ve(14,47)),new Je(30,new ve(49,24),new ve(10,25)),new Je(30,new ve(24,15),new ve(46,16))),new qt(38,Int32Array.from([6,32,58,84,110,136,162]),new Je(30,new ve(4,122),new ve(18,123)),new Je(28,new ve(13,46),new ve(32,47)),new Je(30,new ve(48,24),new ve(14,25)),new Je(30,new ve(42,15),new ve(32,16))),new qt(39,Int32Array.from([6,26,54,82,110,138,166]),new Je(30,new ve(20,117),new ve(4,118)),new Je(28,new ve(40,47),new ve(7,48)),new Je(30,new ve(43,24),new ve(22,25)),new Je(30,new ve(10,15),new ve(67,16))),new qt(40,Int32Array.from([6,30,58,86,114,142,170]),new Je(30,new ve(19,118),new ve(6,119)),new Je(28,new ve(18,47),new ve(31,48)),new Je(30,new ve(34,24),new ve(34,25)),new Je(30,new ve(20,15),new ve(61,16)))];var Jn;(function(Z){Z[Z.DATA_MASK_000=0]="DATA_MASK_000",Z[Z.DATA_MASK_001=1]="DATA_MASK_001",Z[Z.DATA_MASK_010=2]="DATA_MASK_010",Z[Z.DATA_MASK_011=3]="DATA_MASK_011",Z[Z.DATA_MASK_100=4]="DATA_MASK_100",Z[Z.DATA_MASK_101=5]="DATA_MASK_101",Z[Z.DATA_MASK_110=6]="DATA_MASK_110",Z[Z.DATA_MASK_111=7]="DATA_MASK_111"})(Jn||(Jn={}));class ga{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let d=0;d<f;d++)for(let m=0;m<f;m++)this.isMasked(d,m)&&l.flip(m,d)}}ga.values=new Map([[Jn.DATA_MASK_000,new ga(Jn.DATA_MASK_000,(Z,l)=>(Z+l&1)===0)],[Jn.DATA_MASK_001,new ga(Jn.DATA_MASK_001,(Z,l)=>(Z&1)===0)],[Jn.DATA_MASK_010,new ga(Jn.DATA_MASK_010,(Z,l)=>l%3===0)],[Jn.DATA_MASK_011,new ga(Jn.DATA_MASK_011,(Z,l)=>(Z+l)%3===0)],[Jn.DATA_MASK_100,new ga(Jn.DATA_MASK_100,(Z,l)=>(Math.floor(Z/2)+Math.floor(l/3)&1)===0)],[Jn.DATA_MASK_101,new ga(Jn.DATA_MASK_101,(Z,l)=>Z*l%6===0)],[Jn.DATA_MASK_110,new ga(Jn.DATA_MASK_110,(Z,l)=>Z*l%6<3)],[Jn.DATA_MASK_111,new ga(Jn.DATA_MASK_111,(Z,l)=>(Z+l+Z*l%3&1)===0)]]);class Al{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new F;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const f=this.bitMatrix.getHeight();let d=0;const m=f-7;for(let x=f-1;x>=m;x--)d=this.copyBit(8,x,d);for(let x=f-8;x<f;x++)d=this.copyBit(x,8,d);if(this.parsedFormatInfo=Oi.decodeFormatInformation(l,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return qt.getVersionForNumber(f);let d=0;const m=l-11;for(let w=5;w>=0;w--)for(let C=l-9;C>=m;C--)d=this.copyBit(C,w,d);let x=qt.decodeVersionInformation(d);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;d=0;for(let w=5;w>=0;w--)for(let C=l-9;C>=m;C--)d=this.copyBit(w,C,d);if(x=qt.decodeVersionInformation(d),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new F}copyBit(l,f,d){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?d<<1|1:d<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),d=ga.values.get(l.getDataMask()),m=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,m);const x=f.buildFunctionPattern();let w=!0;const C=new Uint8Array(f.getTotalCodewords());let P=0,R=0,V=0;for(let J=m-1;J>0;J-=2){J===6&&J--;for(let se=0;se<m;se++){const Ee=w?m-1-se:se;for(let Le=0;Le<2;Le++)x.get(J-Le,Ee)||(V++,R<<=1,this.bitMatrix.get(J-Le,Ee)&&(R|=1),V===8&&(C[P++]=R,V=0,R=0))}w=!w}if(P!==f.getTotalCodewords())throw new F;return C}remask(){if(this.parsedFormatInfo===null)return;const l=ga.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,d=l.getWidth();f<d;f++)for(let m=f+1,x=l.getHeight();m<x;m++)l.get(f,m)!==l.get(m,f)&&(l.flip(m,f),l.flip(f,m))}}class Yl{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,d){if(l.length!==f.getTotalCodewords())throw new p;const m=f.getECBlocksForLevel(d);let x=0;const w=m.getECBlocks();for(const Le of w)x+=Le.getCount();const C=new Array(x);let P=0;for(const Le of w)for(let je=0;je<Le.getCount();je++){const Ve=Le.getDataCodewords(),rt=m.getECCodewordsPerBlock()+Ve;C[P++]=new Yl(Ve,new Uint8Array(rt))}const R=C[0].codewords.length;let V=C.length-1;for(;V>=0&&C[V].codewords.length!==R;)V--;V++;const J=R-m.getECCodewordsPerBlock();let se=0;for(let Le=0;Le<J;Le++)for(let je=0;je<P;je++)C[je].codewords[Le]=l[se++];for(let Le=V;Le<P;Le++)C[Le].codewords[J]=l[se++];const Ee=C[0].codewords.length;for(let Le=J;Le<Ee;Le++)for(let je=0;je<P;je++){const Ve=je<V?Le:Le+1;C[je].codewords[Ve]=l[se++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var La;(function(Z){Z[Z.TERMINATOR=0]="TERMINATOR",Z[Z.NUMERIC=1]="NUMERIC",Z[Z.ALPHANUMERIC=2]="ALPHANUMERIC",Z[Z.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Z[Z.BYTE=4]="BYTE",Z[Z.ECI=5]="ECI",Z[Z.KANJI=6]="KANJI",Z[Z.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Z[Z.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Z[Z.HANZI=9]="HANZI"})(La||(La={}));class hr{constructor(l,f,d,m){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=d,this.bits=m,hr.FOR_BITS.set(m,this),hr.FOR_VALUE.set(l,this)}static forBits(l){const f=hr.FOR_BITS.get(l);if(f===void 0)throw new p;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let d;return f<=9?d=0:f<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof hr))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}hr.FOR_BITS=new Map,hr.FOR_VALUE=new Map,hr.TERMINATOR=new hr(La.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),hr.NUMERIC=new hr(La.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),hr.ALPHANUMERIC=new hr(La.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),hr.STRUCTURED_APPEND=new hr(La.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),hr.BYTE=new hr(La.BYTE,"BYTE",Int32Array.from([8,16,16]),4),hr.ECI=new hr(La.ECI,"ECI",Int32Array.from([0,0,0]),7),hr.KANJI=new hr(La.KANJI,"KANJI",Int32Array.from([8,10,12]),8),hr.FNC1_FIRST_POSITION=new hr(La.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),hr.FNC1_SECOND_POSITION=new hr(La.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),hr.HANZI=new hr(La.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class En{static decode(l,f,d,m){const x=new Hn(l);let w=new K;const C=new Array;let P=-1,R=-1;try{let V=null,J=!1,se;do{if(x.available()<4)se=hr.TERMINATOR;else{const Ee=x.readBits(4);se=hr.forBits(Ee)}switch(se){case hr.TERMINATOR:break;case hr.FNC1_FIRST_POSITION:case hr.FNC1_SECOND_POSITION:J=!0;break;case hr.STRUCTURED_APPEND:if(x.available()<16)throw new F;P=x.readBits(8),R=x.readBits(8);break;case hr.ECI:const Ee=En.parseECIValue(x);if(V=B.getCharacterSetECIByValue(Ee),V===null)throw new F;break;case hr.HANZI:const Le=x.readBits(4),je=x.readBits(se.getCharacterCountBits(f));Le===En.GB2312_SUBSET&&En.decodeHanziSegment(x,w,je);break;default:const Ve=x.readBits(se.getCharacterCountBits(f));switch(se){case hr.NUMERIC:En.decodeNumericSegment(x,w,Ve);break;case hr.ALPHANUMERIC:En.decodeAlphanumericSegment(x,w,Ve,J);break;case hr.BYTE:En.decodeByteSegment(x,w,Ve,V,C,m);break;case hr.KANJI:En.decodeKanjiSegment(x,w,Ve);break;default:throw new F}break}}while(se!==hr.TERMINATOR)}catch{throw new F}return new be(l,w.toString(),C.length===0?null:C,d===null?null:d.toString(),P,R)}static decodeHanziSegment(l,f,d){if(d*13>l.available())throw new F;const m=new Uint8Array(2*d);let x=0;for(;d>0;){const w=l.readBits(13);let C=w/96<<8&4294967295|w%96;C<959?C+=41377:C+=42657,m[x]=C>>8&255,m[x+1]=C&255,x+=2,d--}try{f.append(W.decode(m,U.GB2312))}catch(w){throw new F(w)}}static decodeKanjiSegment(l,f,d){if(d*13>l.available())throw new F;const m=new Uint8Array(2*d);let x=0;for(;d>0;){const w=l.readBits(13);let C=w/192<<8&4294967295|w%192;C<7936?C+=33088:C+=49472,m[x]=C>>8,m[x+1]=C,x+=2,d--}try{f.append(W.decode(m,U.SHIFT_JIS))}catch(w){throw new F(w)}}static decodeByteSegment(l,f,d,m,x,w){if(8*d>l.available())throw new F;const C=new Uint8Array(d);for(let R=0;R<d;R++)C[R]=l.readBits(8);let P;m===null?P=U.guessEncoding(C,w):P=m.getName();try{f.append(W.decode(C,P))}catch(R){throw new F(R)}x.push(C)}static toAlphaNumericChar(l){if(l>=En.ALPHANUMERIC_CHARS.length)throw new F;return En.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,d,m){const x=f.length();for(;d>1;){if(l.available()<11)throw new F;const w=l.readBits(11);f.append(En.toAlphaNumericChar(Math.floor(w/45))),f.append(En.toAlphaNumericChar(w%45)),d-=2}if(d===1){if(l.available()<6)throw new F;f.append(En.toAlphaNumericChar(l.readBits(6)))}if(m)for(let w=x;w<f.length();w++)f.charAt(w)==="%"&&(w<f.length()-1&&f.charAt(w+1)==="%"?f.deleteCharAt(w+1):f.setCharAt(w,""))}static decodeNumericSegment(l,f,d){for(;d>=3;){if(l.available()<10)throw new F;const m=l.readBits(10);if(m>=1e3)throw new F;f.append(En.toAlphaNumericChar(Math.floor(m/100))),f.append(En.toAlphaNumericChar(Math.floor(m/10)%10)),f.append(En.toAlphaNumericChar(m%10)),d-=3}if(d===2){if(l.available()<7)throw new F;const m=l.readBits(7);if(m>=100)throw new F;f.append(En.toAlphaNumericChar(Math.floor(m/10))),f.append(En.toAlphaNumericChar(m%10))}else if(d===1){if(l.available()<4)throw new F;const m=l.readBits(4);if(m>=10)throw new F;f.append(En.toAlphaNumericChar(m))}}static parseECIValue(l){const f=l.readBits(8);if(!(f&128))return f&127;if((f&192)===128){const d=l.readBits(8);return(f&63)<<8&4294967295|d}if((f&224)===192){const d=l.readBits(16);return(f&31)<<16&4294967295|d}throw new F}}En.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",En.GB2312_SUBSET=1;class ru{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class Zl{constructor(){this.rsDecoder=new Dt(st.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(oe.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const d=new Al(l);let m=null;try{return this.decodeBitMatrixParser(d,f)}catch(x){m=x}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const x=this.decodeBitMatrixParser(d,f);return x.setOther(new ru(!0)),x}catch(x){throw m!==null?m:x}}decodeBitMatrixParser(l,f){const d=l.readVersion(),m=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),w=Yl.getDataBlocks(x,d,m);let C=0;for(const V of w)C+=V.getNumDataCodewords();const P=new Uint8Array(C);let R=0;for(const V of w){const J=V.getCodewords(),se=V.getNumDataCodewords();this.correctErrors(J,se);for(let Ee=0;Ee<se;Ee++)P[R++]=J[Ee]}return En.decode(P,d,m,f)}correctErrors(l,f){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-f)}catch{throw new g}for(let m=0;m<f;m++)l[m]=d[m]}}class xs extends at{constructor(l,f,d){super(l,f),this.estimatedModuleSize=d}aboutEquals(l,f,d){if(Math.abs(f-this.getY())<=l&&Math.abs(d-this.getX())<=l){const m=Math.abs(l-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(l,f,d){const m=(this.getX()+f)/2,x=(this.getY()+l)/2,w=(this.estimatedModuleSize+d)/2;return new xs(m,x,w)}}class nu{constructor(l,f,d,m,x,w,C){this.image=l,this.startX=f,this.startY=d,this.width=m,this.height=x,this.moduleSize=w,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,d=this.width,m=l+d,x=this.startY+f/2,w=new Int32Array(3),C=this.image;for(let P=0;P<f;P++){const R=x+(P&1?-Math.floor((P+1)/2):Math.floor((P+1)/2));w[0]=0,w[1]=0,w[2]=0;let V=l;for(;V<m&&!C.get(V,R);)V++;let J=0;for(;V<m;){if(C.get(V,R))if(J===1)w[1]++;else if(J===2){if(this.foundPatternCross(w)){const se=this.handlePossibleCenter(w,R,V);if(se!==null)return se}w[0]=w[2],w[1]=1,w[2]=0,J=1}else w[++J]++;else J===1&&J++,w[J]++;V++}if(this.foundPatternCross(w)){const se=this.handlePossibleCenter(w,R,m);if(se!==null)return se}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,d=f/2;for(let m=0;m<3;m++)if(Math.abs(f-l[m])>=d)return!1;return!0}crossCheckVertical(l,f,d,m){const x=this.image,w=x.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let P=l;for(;P>=0&&x.get(f,P)&&C[1]<=d;)C[1]++,P--;if(P<0||C[1]>d)return NaN;for(;P>=0&&!x.get(f,P)&&C[0]<=d;)C[0]++,P--;if(C[0]>d)return NaN;for(P=l+1;P<w&&x.get(f,P)&&C[1]<=d;)C[1]++,P++;if(P===w||C[1]>d)return NaN;for(;P<w&&!x.get(f,P)&&C[2]<=d;)C[2]++,P++;if(C[2]>d)return NaN;const R=C[0]+C[1]+C[2];return 5*Math.abs(R-m)>=2*m?NaN:this.foundPatternCross(C)?nu.centerFromEnd(C,P):NaN}handlePossibleCenter(l,f,d){const m=l[0]+l[1]+l[2],x=nu.centerFromEnd(l,d),w=this.crossCheckVertical(f,x,2*l[1],m);if(!isNaN(w)){const C=(l[0]+l[1]+l[2])/3;for(const R of this.possibleCenters)if(R.aboutEquals(C,w,x))return R.combineEstimate(w,x,C);const P=new xs(x,w,C);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class Xs extends at{constructor(l,f,d,m){super(l,f),this.estimatedModuleSize=d,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,d){if(Math.abs(f-this.getY())<=l&&Math.abs(d-this.getX())<=l){const m=Math.abs(l-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(l,f,d){const m=this.count+1,x=(this.count*this.getX()+f)/m,w=(this.count*this.getY()+l)/m,C=(this.count*this.estimatedModuleSize+d)/m;return new Xs(x,w,C,m)}}class vf{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tr{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(z.TRY_HARDER)!==void 0,d=l!=null&&l.get(z.PURE_BARCODE)!==void 0,m=this.image,x=m.getHeight(),w=m.getWidth();let C=Math.floor(3*x/(4*tr.MAX_MODULES));(C<tr.MIN_SKIP||f)&&(C=tr.MIN_SKIP);let P=!1;const R=new Int32Array(5);for(let J=C-1;J<x&&!P;J+=C){R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0;let se=0;for(let Ee=0;Ee<w;Ee++)if(m.get(Ee,J))(se&1)===1&&se++,R[se]++;else if(se&1)R[se]++;else if(se===4)if(tr.foundPatternCross(R)){if(this.handlePossibleCenter(R,J,Ee,d)===!0)if(C=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const je=this.findRowSkip();je>R[2]&&(J+=je-R[2]-C,Ee=w-1)}else{R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,se=3;continue}se=0,R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0}else R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,se=3;else R[++se]++;tr.foundPatternCross(R)&&this.handlePossibleCenter(R,J,w,d)===!0&&(C=R[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const V=this.selectBestPatterns();return at.orderBestPatterns(V),new vf(V)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let x=0;x<5;x++){const w=l[x];if(w===0)return!1;f+=w}if(f<7)return!1;const d=f/7,m=d/2;return Math.abs(d-l[0])<m&&Math.abs(d-l[1])<m&&Math.abs(3*d-l[2])<3*m&&Math.abs(d-l[3])<m&&Math.abs(d-l[4])<m}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,d,m){const x=this.getCrossCheckStateCount();let w=0;const C=this.image;for(;l>=w&&f>=w&&C.get(f-w,l-w);)x[2]++,w++;if(l<w||f<w)return!1;for(;l>=w&&f>=w&&!C.get(f-w,l-w)&&x[1]<=d;)x[1]++,w++;if(l<w||f<w||x[1]>d)return!1;for(;l>=w&&f>=w&&C.get(f-w,l-w)&&x[0]<=d;)x[0]++,w++;if(x[0]>d)return!1;const P=C.getHeight(),R=C.getWidth();for(w=1;l+w<P&&f+w<R&&C.get(f+w,l+w);)x[2]++,w++;if(l+w>=P||f+w>=R)return!1;for(;l+w<P&&f+w<R&&!C.get(f+w,l+w)&&x[3]<d;)x[3]++,w++;if(l+w>=P||f+w>=R||x[3]>=d)return!1;for(;l+w<P&&f+w<R&&C.get(f+w,l+w)&&x[4]<d;)x[4]++,w++;if(x[4]>=d)return!1;const V=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(V-m)<2*m&&tr.foundPatternCross(x)}crossCheckVertical(l,f,d,m){const x=this.image,w=x.getHeight(),C=this.getCrossCheckStateCount();let P=l;for(;P>=0&&x.get(f,P);)C[2]++,P--;if(P<0)return NaN;for(;P>=0&&!x.get(f,P)&&C[1]<=d;)C[1]++,P--;if(P<0||C[1]>d)return NaN;for(;P>=0&&x.get(f,P)&&C[0]<=d;)C[0]++,P--;if(C[0]>d)return NaN;for(P=l+1;P<w&&x.get(f,P);)C[2]++,P++;if(P===w)return NaN;for(;P<w&&!x.get(f,P)&&C[3]<d;)C[3]++,P++;if(P===w||C[3]>=d)return NaN;for(;P<w&&x.get(f,P)&&C[4]<d;)C[4]++,P++;if(C[4]>=d)return NaN;const R=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(R-m)>=2*m?NaN:tr.foundPatternCross(C)?tr.centerFromEnd(C,P):NaN}crossCheckHorizontal(l,f,d,m){const x=this.image,w=x.getWidth(),C=this.getCrossCheckStateCount();let P=l;for(;P>=0&&x.get(P,f);)C[2]++,P--;if(P<0)return NaN;for(;P>=0&&!x.get(P,f)&&C[1]<=d;)C[1]++,P--;if(P<0||C[1]>d)return NaN;for(;P>=0&&x.get(P,f)&&C[0]<=d;)C[0]++,P--;if(C[0]>d)return NaN;for(P=l+1;P<w&&x.get(P,f);)C[2]++,P++;if(P===w)return NaN;for(;P<w&&!x.get(P,f)&&C[3]<d;)C[3]++,P++;if(P===w||C[3]>=d)return NaN;for(;P<w&&x.get(P,f)&&C[4]<d;)C[4]++,P++;if(C[4]>=d)return NaN;const R=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(R-m)>=m?NaN:tr.foundPatternCross(C)?tr.centerFromEnd(C,P):NaN}handlePossibleCenter(l,f,d,m){const x=l[0]+l[1]+l[2]+l[3]+l[4];let w=tr.centerFromEnd(l,d),C=this.crossCheckVertical(f,Math.floor(w),l[2],x);if(!isNaN(C)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(C),l[2],x),!isNaN(w)&&(!m||this.crossCheckDiagonal(Math.floor(C),Math.floor(w),l[2],x)))){const P=x/7;let R=!1;const V=this.possibleCenters;for(let J=0,se=V.length;J<se;J++){const Ee=V[J];if(Ee.aboutEquals(P,C,w)){V[J]=Ee.combineEstimate(C,w,P),R=!0;break}}if(!R){const J=new Xs(w,C,P);V.push(J),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(J)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const d of this.possibleCenters)if(d.getCount()>=tr.CENTER_QUORUM)if(f==null)f=d;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-d.getX())-Math.abs(f.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const d=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=tr.CENTER_QUORUM&&(l++,f+=w.getEstimatedModuleSize());if(l<3)return!1;const m=f/d;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-m);return x<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ae;const f=this.possibleCenters;let d;if(l>3){let m=0,x=0;for(const P of this.possibleCenters){const R=P.getEstimatedModuleSize();m+=R,x+=R*R}d=m/l;let w=Math.sqrt(x/l-d*d);f.sort((P,R)=>{const V=Math.abs(R.getEstimatedModuleSize()-d),J=Math.abs(P.getEstimatedModuleSize()-d);return V<J?-1:V>J?1:0});const C=Math.max(.2*d,w);for(let P=0;P<f.length&&f.length>3;P++){const R=f[P];Math.abs(R.getEstimatedModuleSize()-d)>C&&(f.splice(P,1),P--)}}if(f.length>3){let m=0;for(const x of f)m+=x.getEstimatedModuleSize();d=m/f.length,f.sort((x,w)=>{if(w.getCount()===x.getCount()){const C=Math.abs(w.getEstimatedModuleSize()-d),P=Math.abs(x.getEstimatedModuleSize()-d);return C<P?1:C>P?-1:0}else return w.getCount()-x.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}tr.CENTER_QUORUM=2,tr.MIN_SKIP=3,tr.MAX_MODULES=57;class Jl{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);const d=new tr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(d)}processFinderPatternInfo(l){const f=l.getTopLeft(),d=l.getTopRight(),m=l.getBottomLeft(),x=this.calculateModuleSize(f,d,m);if(x<1)throw new ae("No pattern found in proccess finder.");const w=Jl.computeDimension(f,d,m,x),C=qt.getProvisionalVersionForDimension(w),P=C.getDimensionForVersion()-7;let R=null;if(C.getAlignmentPatternCenters().length>0){const Ee=d.getX()-f.getX()+m.getX(),Le=d.getY()-f.getY()+m.getY(),je=1-3/P,Ve=Math.floor(f.getX()+je*(Ee-f.getX())),rt=Math.floor(f.getY()+je*(Le-f.getY()));for(let vt=4;vt<=16;vt<<=1)try{R=this.findAlignmentInRegion(x,Ve,rt,vt);break}catch(_t){if(!(_t instanceof ae))throw _t}}const V=Jl.createTransform(f,d,m,R,w),J=Jl.sampleGrid(this.image,V,w);let se;return R===null?se=[m,f,d]:se=[m,f,d,R],new gr(J,se)}static createTransform(l,f,d,m,x){const w=x-3.5;let C,P,R,V;return m!==null?(C=m.getX(),P=m.getY(),R=w-3,V=R):(C=f.getX()-l.getX()+d.getX(),P=f.getY()-l.getY()+d.getY(),R=w,V=w),Jt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,R,V,3.5,w,l.getX(),l.getY(),f.getX(),f.getY(),C,P,d.getX(),d.getY())}static sampleGrid(l,f,d){return xt.getInstance().sampleGridWithTransform(l,d,d,f)}static computeDimension(l,f,d,m){const x=ot.round(at.distance(l,f)/m),w=ot.round(at.distance(l,d)/m);let C=Math.floor((x+w)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new ae("Dimensions could be not found.")}return C}calculateModuleSize(l,f,d){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,d))/2}calculateModuleSizeOneWay(l,f){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(d)?m/7:isNaN(m)?d/7:(d+m)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,d,m){let x=this.sizeOfBlackWhiteBlackRun(l,f,d,m),w=1,C=l-(d-l);C<0?(w=l/(l-C),C=0):C>=this.image.getWidth()&&(w=(this.image.getWidth()-1-l)/(C-l),C=this.image.getWidth()-1);let P=Math.floor(f-(m-f)*w);return w=1,P<0?(w=f/(f-P),P=0):P>=this.image.getHeight()&&(w=(this.image.getHeight()-1-f)/(P-f),P=this.image.getHeight()-1),C=Math.floor(l+(C-l)*w),x+=this.sizeOfBlackWhiteBlackRun(l,f,C,P),x-1}sizeOfBlackWhiteBlackRun(l,f,d,m){const x=Math.abs(m-f)>Math.abs(d-l);if(x){let Ee=l;l=f,f=Ee,Ee=d,d=m,m=Ee}const w=Math.abs(d-l),C=Math.abs(m-f);let P=-w/2;const R=l<d?1:-1,V=f<m?1:-1;let J=0;const se=d+R;for(let Ee=l,Le=f;Ee!==se;Ee+=R){const je=x?Le:Ee,Ve=x?Ee:Le;if(J===1===this.image.get(je,Ve)){if(J===2)return ot.distance(Ee,Le,l,f);J++}if(P+=C,P>0){if(Le===m)break;Le+=V,P-=w}}return J===2?ot.distance(d+R,m,l,f):NaN}findAlignmentInRegion(l,f,d,m){const x=Math.floor(m*l),w=Math.max(0,f-x),C=Math.min(this.image.getWidth()-1,f+x);if(C-w<l*3)throw new ae("Alignment top exceeds estimated module size.");const P=Math.max(0,d-x),R=Math.min(this.image.getHeight()-1,d+x);if(R-P<l*3)throw new ae("Alignment bottom exceeds estimated module size.");return new nu(this.image,w,P,C-w,R-P,l,this.resultPointCallback).find()}}class ys{constructor(){this.decoder=new Zl}getDecoder(){return this.decoder}decode(l,f){let d,m;if(f!=null&&f.get(z.PURE_BARCODE)!==void 0){const P=ys.extractPureBits(l.getBlackMatrix());d=this.decoder.decodeBitMatrix(P,f),m=ys.NO_POINTS}else{const P=new Jl(l.getBlackMatrix()).detect(f);d=this.decoder.decodeBitMatrix(P.getBits(),f),m=P.getPoints()}d.getOther()instanceof ru&&d.getOther().applyMirroredCorrection(m);const x=new H(d.getText(),d.getRawBytes(),void 0,m,ne.QR_CODE,void 0),w=d.getByteSegments();w!==null&&x.putMetadata(Ie.BYTE_SEGMENTS,w);const C=d.getECLevel();return C!==null&&x.putMetadata(Ie.ERROR_CORRECTION_LEVEL,C),d.hasStructuredAppend()&&(x.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),x.putMetadata(Ie.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(f===null||d===null)throw new ae;const m=this.moduleSize(f,l);let x=f[1],w=d[1],C=f[0],P=d[0];if(C>=P||x>=w)throw new ae;if(w-x!==P-C&&(P=C+(w-x),P>=l.getWidth()))throw new ae;const R=Math.round((P-C+1)/m),V=Math.round((w-x+1)/m);if(R<=0||V<=0)throw new ae;if(V!==R)throw new ae;const J=Math.floor(m/2);x+=J,C+=J;const se=C+Math.floor((R-1)*m)-P;if(se>0){if(se>J)throw new ae;C-=se}const Ee=x+Math.floor((V-1)*m)-w;if(Ee>0){if(Ee>J)throw new ae;x-=Ee}const Le=new oe(R,V);for(let je=0;je<V;je++){const Ve=x+Math.floor(je*m);for(let rt=0;rt<R;rt++)l.get(C+Math.floor(rt*m),Ve)&&Le.set(rt,je)}return Le}static moduleSize(l,f){const d=f.getHeight(),m=f.getWidth();let x=l[0],w=l[1],C=!0,P=0;for(;x<m&&w<d;){if(C!==f.get(x,w)){if(++P===5)break;C=!C}x++,w++}if(x===m||w===d)throw new ae;return(x-l[0])/7}}ys.NO_POINTS=new Array;class xr{PDF417Common(){}static getBitCountSum(l){return ot.sum(l)}static toIntArray(l){if(l==null||!l.length)return xr.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let d=0;for(const m of l)f[d++]=m;return f}static getCodeword(l){const f=T.binarySearch(xr.SYMBOL_TABLE,l&262143);return f<0?-1:(xr.CODEWORD_TABLE[f]-1)%xr.NUMBER_OF_CODEWORDS}}xr.NUMBER_OF_CODEWORDS=929,xr.MAX_CODEWORDS_IN_BARCODE=xr.NUMBER_OF_CODEWORDS-1,xr.MIN_ROWS_IN_BARCODE=3,xr.MAX_ROWS_IN_BARCODE=90,xr.MODULES_IN_CODEWORD=17,xr.MODULES_IN_STOP_PATTERN=18,xr.BARS_IN_MODULE=8,xr.EMPTY_INT_ARRAY=new Int32Array([]),xr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Dd{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class _r{static detectMultiple(l,f,d){let m=l.getBlackMatrix(),x=_r.detect(d,m);return x.length||(m=m.clone(),m.rotate180(),x=_r.detect(d,m)),new Dd(m,x)}static detect(l,f){const d=new Array;let m=0,x=0,w=!1;for(;m<f.getHeight();){const C=_r.findVertices(f,m,x);if(C[0]==null&&C[3]==null){if(!w)break;w=!1,x=0;for(const P of d)P[1]!=null&&(m=Math.trunc(Math.max(m,P[1].getY()))),P[3]!=null&&(m=Math.max(m,Math.trunc(P[3].getY())));m+=_r.ROW_STEP;continue}if(w=!0,d.push(C),!l)break;C[2]!=null?(x=Math.trunc(C[2].getX()),m=Math.trunc(C[2].getY())):(x=Math.trunc(C[4].getX()),m=Math.trunc(C[4].getY()))}return d}static findVertices(l,f,d){const m=l.getHeight(),x=l.getWidth(),w=new Array(8);return _r.copyToResult(w,_r.findRowsWithPattern(l,m,x,f,d,_r.START_PATTERN),_r.INDEXES_START_PATTERN),w[4]!=null&&(d=Math.trunc(w[4].getX()),f=Math.trunc(w[4].getY())),_r.copyToResult(w,_r.findRowsWithPattern(l,m,x,f,d,_r.STOP_PATTERN),_r.INDEXES_STOP_PATTERN),w}static copyToResult(l,f,d){for(let m=0;m<d.length;m++)l[d[m]]=f[m]}static findRowsWithPattern(l,f,d,m,x,w){const C=new Array(4);let P=!1;const R=new Int32Array(w.length);for(;m<f;m+=_r.ROW_STEP){let J=_r.findGuardPattern(l,x,m,d,!1,w,R);if(J!=null){for(;m>0;){const se=_r.findGuardPattern(l,x,--m,d,!1,w,R);if(se!=null)J=se;else{m++;break}}C[0]=new at(J[0],m),C[1]=new at(J[1],m),P=!0;break}}let V=m+1;if(P){let J=0,se=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;V<f;V++){const Ee=_r.findGuardPattern(l,se[0],V,d,!1,w,R);if(Ee!=null&&Math.abs(se[0]-Ee[0])<_r.MAX_PATTERN_DRIFT&&Math.abs(se[1]-Ee[1])<_r.MAX_PATTERN_DRIFT)se=Ee,J=0;else{if(J>_r.SKIPPED_ROW_COUNT_MAX)break;J++}}V-=J+1,C[2]=new at(se[0],V),C[3]=new at(se[1],V)}return V-m<_r.BARCODE_MIN_HEIGHT&&T.fill(C,null),C}static findGuardPattern(l,f,d,m,x,w,C){T.fillWithin(C,0,C.length,0);let P=f,R=0;for(;l.get(P,d)&&P>0&&R++<_r.MAX_PIXEL_DRIFT;)P--;let V=P,J=0,se=w.length;for(let Ee=x;V<m;V++)if(l.get(V,d)!==Ee)C[J]++;else{if(J===se-1){if(_r.patternMatchVariance(C,w,_r.MAX_INDIVIDUAL_VARIANCE)<_r.MAX_AVG_VARIANCE)return new Int32Array([P,V]);P+=C[0]+C[1],b.arraycopy(C,2,C,0,J-1),C[J-1]=0,C[J]=0,J--}else J++;C[J]=1,Ee=!Ee}return J===se-1&&_r.patternMatchVariance(C,w,_r.MAX_INDIVIDUAL_VARIANCE)<_r.MAX_AVG_VARIANCE?new Int32Array([P,V-1]):null}static patternMatchVariance(l,f,d){let m=l.length,x=0,w=0;for(let R=0;R<m;R++)x+=l[R],w+=f[R];if(x<w)return 1/0;let C=x/w;d*=C;let P=0;for(let R=0;R<m;R++){let V=l[R],J=f[R]*C,se=V>J?V-J:J-V;if(se>d)return 1/0;P+=se}return P/x}}_r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),_r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),_r.MAX_AVG_VARIANCE=.42,_r.MAX_INDIVIDUAL_VARIANCE=.8,_r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),_r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),_r.MAX_PIXEL_DRIFT=3,_r.MAX_PATTERN_DRIFT=5,_r.SKIPPED_ROW_COUNT_MAX=25,_r.ROW_STEP=5,_r.BARCODE_MIN_HEIGHT=10;class Sn{constructor(l,f){if(f.length===0)throw new p;this.field=l;let d=f.length;if(d>1&&f[0]===0){let m=1;for(;m<d&&f[m]===0;)m++;m===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-m),b.arraycopy(f,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let m=0;for(let x of this.coefficients)m=this.field.add(m,x);return m}let f=this.coefficients[0],d=this.coefficients.length;for(let m=1;m<d;m++)f=this.field.add(this.field.multiply(l,f),this.coefficients[m]);return f}add(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,d=l.coefficients;if(f.length>d.length){let w=f;f=d,d=w}let m=new Int32Array(d.length),x=d.length-f.length;b.arraycopy(d,0,m,0,x);for(let w=x;w<d.length;w++)m[w]=this.field.add(f[w-x],d[w]);return new Sn(this.field,m)}subtract(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Sn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Sn(this.field,new Int32Array([0]));let f=this.coefficients,d=f.length,m=l.coefficients,x=m.length,w=new Int32Array(d+x-1);for(let C=0;C<d;C++){let P=f[C];for(let R=0;R<x;R++)w[C+R]=this.field.add(w[C+R],this.field.multiply(P,m[R]))}return new Sn(this.field,w)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let d=0;d<l;d++)f[d]=this.field.subtract(0,this.coefficients[d]);return new Sn(this.field,f)}multiplyScalar(l){if(l===0)return new Sn(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,d=new Int32Array(f);for(let m=0;m<f;m++)d[m]=this.field.multiply(this.coefficients[m],l);return new Sn(this.field,d)}multiplyByMonomial(l,f){if(l<0)throw new p;if(f===0)return new Sn(this.field,new Int32Array([0]));let d=this.coefficients.length,m=new Int32Array(d+l);for(let x=0;x<d;x++)m[x]=this.field.multiply(this.coefficients[x],f);return new Sn(this.field,m)}toString(){let l=new K;for(let f=this.getDegree();f>=0;f--){let d=this.getCoefficient(f);d!==0&&(d<0?(l.append(" - "),d=-d):l.length()>0&&l.append(" + "),(f===0||d!==1)&&l.append(d),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class jd{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new p;return this.logTable[l]}inverse(l){if(l===0)throw new Me;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class xf extends jd{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let d=1;for(let m=0;m<l;m++)this.expTable[m]=d,d=d*f%l;for(let m=0;m<l-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new p;if(f===0)return this.zero;let d=new Int32Array(l+1);return d[0]=f,new Sn(this,d)}}xf.PDF417_GF=new xf(xr.NUMBER_OF_CODEWORDS,3);class Ql{constructor(){this.field=xf.PDF417_GF}decode(l,f,d){let m=new Sn(this.field,l),x=new Int32Array(f),w=!1;for(let Le=f;Le>0;Le--){let je=m.evaluateAt(this.field.exp(Le));x[f-Le]=je,je!==0&&(w=!0)}if(!w)return 0;let C=this.field.getOne();if(d!=null)for(const Le of d){let je=this.field.exp(l.length-1-Le),Ve=new Sn(this.field,new Int32Array([this.field.subtract(0,je),1]));C=C.multiply(Ve)}let P=new Sn(this.field,x),R=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),P,f),V=R[0],J=R[1],se=this.findErrorLocations(V),Ee=this.findErrorMagnitudes(J,V,se);for(let Le=0;Le<se.length;Le++){let je=l.length-1-this.field.log(se[Le]);if(je<0)throw g.getChecksumInstance();l[je]=this.field.subtract(l[je],Ee[Le])}return se.length}runEuclideanAlgorithm(l,f,d){if(l.getDegree()<f.getDegree()){let se=l;l=f,f=se}let m=l,x=f,w=this.field.getZero(),C=this.field.getOne();for(;x.getDegree()>=Math.round(d/2);){let se=m,Ee=w;if(m=x,w=C,m.isZero())throw g.getChecksumInstance();x=se;let Le=this.field.getZero(),je=m.getCoefficient(m.getDegree()),Ve=this.field.inverse(je);for(;x.getDegree()>=m.getDegree()&&!x.isZero();){let rt=x.getDegree()-m.getDegree(),vt=this.field.multiply(x.getCoefficient(x.getDegree()),Ve);Le=Le.add(this.field.buildMonomial(rt,vt)),x=x.subtract(m.multiplyByMonomial(rt,vt))}C=Le.multiply(w).subtract(Ee).negative()}let P=C.getCoefficient(0);if(P===0)throw g.getChecksumInstance();let R=this.field.inverse(P),V=C.multiply(R),J=x.multiply(R);return[V,J]}findErrorLocations(l){let f=l.getDegree(),d=new Int32Array(f),m=0;for(let x=1;x<this.field.getSize()&&m<f;x++)l.evaluateAt(x)===0&&(d[m]=this.field.inverse(x),m++);if(m!==f)throw g.getChecksumInstance();return d}findErrorMagnitudes(l,f,d){let m=f.getDegree(),x=new Int32Array(m);for(let R=1;R<=m;R++)x[m-R]=this.field.multiply(R,f.getCoefficient(R));let w=new Sn(this.field,x),C=d.length,P=new Int32Array(C);for(let R=0;R<C;R++){let V=this.field.inverse(d[R]),J=this.field.subtract(0,l.evaluateAt(V)),se=this.field.inverse(w.evaluateAt(V));P[R]=this.field.multiply(J,se)}return P}}class Do{constructor(l,f,d,m,x){l instanceof Do?this.constructor_2(l):this.constructor_1(l,f,d,m,x)}constructor_1(l,f,d,m,x){const w=f==null||d==null,C=m==null||x==null;if(w&&C)throw new ae;w?(f=new at(0,m.getY()),d=new at(0,x.getY())):C&&(m=new at(l.getWidth()-1,f.getY()),x=new at(l.getWidth()-1,d.getY())),this.image=l,this.topLeft=f,this.bottomLeft=d,this.topRight=m,this.bottomRight=x,this.minX=Math.trunc(Math.min(f.getX(),d.getX())),this.maxX=Math.trunc(Math.max(m.getX(),x.getX())),this.minY=Math.trunc(Math.min(f.getY(),m.getY())),this.maxY=Math.trunc(Math.max(d.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new Do(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,d){let m=this.topLeft,x=this.bottomLeft,w=this.topRight,C=this.bottomRight;if(l>0){let P=d?this.topLeft:this.topRight,R=Math.trunc(P.getY()-l);R<0&&(R=0);let V=new at(P.getX(),R);d?m=V:w=V}if(f>0){let P=d?this.bottomLeft:this.bottomRight,R=Math.trunc(P.getY()+f);R>=this.image.getHeight()&&(R=this.image.getHeight()-1);let V=new at(P.getX(),R);d?x=V:C=V}return new Do(this.image,m,x,w,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ec{constructor(l,f,d,m){this.columnCount=l,this.errorCorrectionLevel=m,this.rowCountUpperPart=f,this.rowCountLowerPart=d,this.rowCount=f+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ws{constructor(){this.buffer=""}static form(l,f){let d=-1;function m(w,C,P,R,V,J){if(w==="%%")return"%";if(f[++d]===void 0)return;w=R?parseInt(R.substr(1)):void 0;let se=V?parseInt(V.substr(1)):void 0,Ee;switch(J){case"s":Ee=f[d];break;case"c":Ee=f[d][0];break;case"f":Ee=parseFloat(f[d]).toFixed(w);break;case"p":Ee=parseFloat(f[d]).toPrecision(w);break;case"e":Ee=parseFloat(f[d]).toExponential(w);break;case"x":Ee=parseInt(f[d]).toString(se||16);break;case"d":Ee=parseFloat(parseInt(f[d],se||10).toPrecision(w)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(se);let Le=parseInt(P),je=P&&P[0]+""=="0"?"0":" ";for(;Ee.length<Le;)Ee=C!==void 0?Ee+je:je+Ee;return Ee}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,m)}format(l,...f){this.buffer+=ws.form(l,f)}toString(){return this.buffer}}class bs{constructor(l){this.boundingBox=new Do(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let d=1;d<bs.MAX_NEARBY_DISTANCE;d++){let m=this.imageRowToCodewordIndex(l)-d;if(m>=0&&(f=this.codewords[m],f!=null)||(m=this.imageRowToCodewordIndex(l)+d,m<this.codewords.length&&(f=this.codewords[m],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ws;let f=0;for(const d of this.codewords){if(d==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,d.getRowNumber(),d.getValue())}return l.toString()}}bs.MAX_NEARBY_DISTANCE=5;class tc{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[d,m]of this.values.entries()){const x={getKey:()=>d,getValue:()=>m};x.getValue()>l?(l=x.getValue(),f=[],f.push(x.getKey())):x.getValue()===l&&f.push(x.getKey())}return xr.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class iu extends bs{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let d=this.getBoundingBox(),m=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.imageRowToCodewordIndex(Math.trunc(x.getY())),P=-1,R=1,V=0;for(let J=w;J<C;J++){if(f[J]==null)continue;let se=f[J],Ee=se.getRowNumber()-P;if(Ee===0)V++;else if(Ee===1)R=Math.max(R,V),V=1,P=se.getRowNumber();else if(Ee<0||se.getRowNumber()>=l.getRowCount()||Ee>J)f[J]=null;else{let Le;R>2?Le=(R-2)*Ee:Le=Ee;let je=Le>=J;for(let Ve=1;Ve<=Le&&!je;Ve++)je=f[J-Ve]!=null;je?f[J]=null:(P=se.getRowNumber(),V=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let d of this.getCodewords())if(d!=null){let m=d.getRowNumber();if(m>=f.length)continue;f[m]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),d=this._isLeft?f.getTopLeft():f.getTopRight(),m=this._isLeft?f.getBottomLeft():f.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.getCodewords(),P=-1;for(let R=x;R<w;R++){if(C[R]==null)continue;let V=C[R];V.setRowNumberAsRowIndicatorColumn();let J=V.getRowNumber()-P;J===0||(J===1?P=V.getRowNumber():V.getRowNumber()>=l.getRowCount()?C[R]=null:P=V.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new tc,d=new tc,m=new tc,x=new tc;for(let C of l){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let P=C.getValue()%30,R=C.getRowNumber();switch(this._isLeft||(R+=2),R%3){case 0:d.setValue(P*3+1);break;case 1:x.setValue(P/3),m.setValue(P%3);break;case 2:f.setValue(P+1);break}}if(f.getValue().length===0||d.getValue().length===0||m.getValue().length===0||x.getValue().length===0||f.getValue()[0]<1||d.getValue()[0]+m.getValue()[0]<xr.MIN_ROWS_IN_BARCODE||d.getValue()[0]+m.getValue()[0]>xr.MAX_ROWS_IN_BARCODE)return null;let w=new ec(f.getValue()[0],d.getValue()[0],m.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,w),w}removeIncorrectCodewords(l,f){for(let d=0;d<l.length;d++){let m=l[d];if(l[d]==null)continue;let x=m.getValue()%30,w=m.getRowNumber();if(w>f.getRowCount()){l[d]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==f.getRowCountUpperPart()&&(l[d]=null);break;case 1:(Math.trunc(x/3)!==f.getErrorCorrectionLevel()||x%3!==f.getRowCountLowerPart())&&(l[d]=null);break;case 2:x+1!==f.getColumnCount()&&(l[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ys{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=xr.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let d=this.detectionResultColumns[f].getCodewords();for(let m=0;m<d.length;m++)d[m]!=null&&(d[m].hasValidRowNumber()||this.adjustRowNumbers(f,m,d))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++)if(l[d]!=null&&f[d]!=null&&l[d].getRowNumber()===f[d].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let x=this.detectionResultColumns[m].getCodewords()[d];x!=null&&(x.setRowNumber(l[d].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<f.length;d++){if(f[d]==null)continue;let m=f[d].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let C=this.detectionResultColumns[w].getCodewords()[d];C!=null&&(x=Ys.adjustRowNumberIfValid(m,x,C),C.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let d=0;d<f.length;d++){if(f[d]==null)continue;let m=f[d].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let C=this.detectionResultColumns[w].getCodewords()[d];C!=null&&(x=Ys.adjustRowNumberIfValid(m,x,C),C.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(l)?(d.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,d){if(!this.detectionResultColumns[l-1])return;let m=d[f],x=this.detectionResultColumns[l-1].getCodewords(),w=x;this.detectionResultColumns[l+1]!=null&&(w=this.detectionResultColumns[l+1].getCodewords());let C=new Array(14);C[2]=x[f],C[3]=w[f],f>0&&(C[0]=d[f-1],C[4]=x[f-1],C[5]=w[f-1]),f>1&&(C[8]=d[f-2],C[10]=x[f-2],C[11]=w[f-2]),f<d.length-1&&(C[1]=d[f+1],C[6]=x[f+1],C[7]=w[f+1]),f<d.length-2&&(C[9]=d[f+2],C[12]=x[f+2],C[13]=w[f+2]);for(let P of C)if(Ys.adjustRowNumber(m,P))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new ws;for(let d=0;d<l.getCodewords().length;d++){f.format("CW %3d:",d);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){f.format("    |   ");continue}let x=this.detectionResultColumns[m].getCodewords()[d];if(x==null){f.format("    |   ");continue}f.format(" %3d|%3d",x.getRowNumber(),x.getValue())}f.format("%n")}return f.toString()}}class jo{constructor(l,f,d,m){this.rowNumber=jo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(d),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==jo.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}jo.BARCODE_ROW_UNKNOWN=-1;class oi{static initialize(){for(let l=0;l<xr.SYMBOL_TABLE.length;l++){let f=xr.SYMBOL_TABLE[l],d=f&1;for(let m=0;m<xr.BARS_IN_MODULE;m++){let x=0;for(;(f&1)===d;)x+=1,f>>=1;d=f&1,oi.RATIOS_TABLE[l]||(oi.RATIOS_TABLE[l]=new Array(xr.BARS_IN_MODULE)),oi.RATIOS_TABLE[l][xr.BARS_IN_MODULE-m-1]=Math.fround(x/xr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=oi.getDecodedCodewordValue(oi.sampleBitCounts(l));return f!==-1?f:oi.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=ot.sum(l),d=new Int32Array(xr.BARS_IN_MODULE),m=0,x=0;for(let w=0;w<xr.MODULES_IN_CODEWORD;w++){let C=f/(2*xr.MODULES_IN_CODEWORD)+w*f/xr.MODULES_IN_CODEWORD;x+l[m]<=C&&(x+=l[m],m++),d[m]++}return d}static getDecodedCodewordValue(l){let f=oi.getBitValue(l);return xr.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let d=0;d<l.length;d++)for(let m=0;m<l[d];m++)f=f<<1|(d%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=ot.sum(l),d=new Array(xr.BARS_IN_MODULE);if(f>1)for(let w=0;w<d.length;w++)d[w]=Math.fround(l[w]/f);let m=Ut.MAX_VALUE,x=-1;this.bSymbolTableReady||oi.initialize();for(let w=0;w<oi.RATIOS_TABLE.length;w++){let C=0,P=oi.RATIOS_TABLE[w];for(let R=0;R<xr.BARS_IN_MODULE;R++){let V=Math.fround(P[R]-d[R]);if(C+=Math.fround(V*V),C>=m)break}C<m&&(m=C,x=xr.SYMBOL_TABLE[w])}return x}}oi.bSymbolTableReady=!1,oi.RATIOS_TABLE=new Array(xr.SYMBOL_TABLE.length).map(Z=>new Array(xr.BARS_IN_MODULE));class au{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class rc{static parseLong(l,f=void 0){return parseInt(l,f)}}class ou extends u{}ou.kind="NullPointerException";class nc{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,d){if(l==null)throw new ou;if(f<0||f>l.length||d<0||f+d>l.length||f+d<0)throw new E;if(d===0)return;for(let m=0;m<d;m++)this.write(l[f+m])}flush(){}close(){}}class Rh extends u{}class Lh extends nc{constructor(l=32){if(super(),this.count=0,l<0)throw new p("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let d=this.buf.length<<1;if(d-l<0&&(d=l),d<0){if(l<0)throw new Rh;d=O.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,d)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,d){if(f<0||f>l.length||d<0||f+d-l.length>0)throw new E;this.ensureCapacity(this.count+d),b.arraycopy(l,f,this.buf,this.count,d),this.count+=d}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Hr;(function(Z){Z[Z.ALPHA=0]="ALPHA",Z[Z.LOWER=1]="LOWER",Z[Z.MIXED=2]="MIXED",Z[Z.PUNCT=3]="PUNCT",Z[Z.ALPHA_SHIFT=4]="ALPHA_SHIFT",Z[Z.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Hr||(Hr={}));function _s(){if(typeof window<"u")return window.BigInt||null;if(typeof Aa<"u")return Aa.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ic;function Mo(Z){if(typeof ic>"u"&&(ic=_s()),ic===null)throw new Error("BigInt is not supported!");return ic(Z)}function ac(){let Z=[];Z[0]=Mo(1);let l=Mo(900);Z[1]=l;for(let f=2;f<16;f++)Z[f]=Z[f-1]*l;return Z}class it{static decode(l,f){let d=new K(""),m=B.ISO8859_1;d.enableDecoding(m);let x=1,w=l[x++],C=new au;for(;x<l[0];){switch(w){case it.TEXT_COMPACTION_MODE_LATCH:x=it.textCompaction(l,x,d);break;case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:x=it.byteCompaction(w,l,m,x,d);break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(l[x++]);break;case it.NUMERIC_COMPACTION_MODE_LATCH:x=it.numericCompaction(l,x,d);break;case it.ECI_CHARSET:B.getCharacterSetECIByValue(l[x++]);break;case it.ECI_GENERAL_PURPOSE:x+=2;break;case it.ECI_USER_DEFINED:x++;break;case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=it.decodeMacroBlock(l,x,C);break;case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:throw new F;default:x--,x=it.textCompaction(l,x,d);break}if(x<l.length)w=l[x++];else throw F.getFormatInstance()}if(d.length()===0)throw F.getFormatInstance();let P=new be(null,d.toString(),null,f);return P.setOther(C),P}static decodeMacroBlock(l,f,d){if(f+it.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw F.getFormatInstance();let m=new Int32Array(it.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<it.NUMBER_OF_SEQUENCE_CODEWORDS;C++,f++)m[C]=l[f];d.setSegmentIndex(O.parseInt(it.decodeBase900toBase10(m,it.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new K;f=it.textCompaction(l,f,x),d.setFileId(x.toString());let w=-1;for(l[f]===it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=f+1);f<l[0];)switch(l[f]){case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case it.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new K;f=it.textCompaction(l,f+1,C),d.setFileName(C.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new K;f=it.textCompaction(l,f+1,P),d.setSender(P.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let R=new K;f=it.textCompaction(l,f+1,R),d.setAddressee(R.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let V=new K;f=it.numericCompaction(l,f+1,V),d.setSegmentCount(O.parseInt(V.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let J=new K;f=it.numericCompaction(l,f+1,J),d.setTimestamp(rc.parseLong(J.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let se=new K;f=it.numericCompaction(l,f+1,se),d.setChecksum(O.parseInt(se.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ee=new K;f=it.numericCompaction(l,f+1,Ee),d.setFileSize(rc.parseLong(Ee.toString()));break;default:throw F.getFormatInstance()}break;case it.MACRO_PDF417_TERMINATOR:f++,d.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(w!==-1){let C=f-w;d.isLastSegment()&&C--,d.setOptionalData(T.copyOfRange(l,w,w+C))}return f}static textCompaction(l,f,d){let m=new Int32Array((l[0]-f)*2),x=new Int32Array((l[0]-f)*2),w=0,C=!1;for(;f<l[0]&&!C;){let P=l[f++];if(P<it.TEXT_COMPACTION_MODE_LATCH)m[w]=P/30,m[w+1]=P%30,w+=2;else switch(P){case it.TEXT_COMPACTION_MODE_LATCH:m[w++]=it.TEXT_COMPACTION_MODE_LATCH;break;case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:f--,C=!0;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[w]=it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=l[f++],x[w]=P,w++;break}}return it.decodeTextCompaction(m,x,w,d),f}static decodeTextCompaction(l,f,d,m){let x=Hr.ALPHA,w=Hr.ALPHA,C=0;for(;C<d;){let P=l[C],R="";switch(x){case Hr.ALPHA:if(P<26)R=String.fromCharCode(65+P);else switch(P){case 26:R=" ";break;case it.LL:x=Hr.LOWER;break;case it.ML:x=Hr.MIXED;break;case it.PS:w=x,x=Hr.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[C]);break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break;case Hr.LOWER:if(P<26)R=String.fromCharCode(97+P);else switch(P){case 26:R=" ";break;case it.AS:w=x,x=Hr.ALPHA_SHIFT;break;case it.ML:x=Hr.MIXED;break;case it.PS:w=x,x=Hr.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[C]);break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break;case Hr.MIXED:if(P<it.PL)R=it.MIXED_CHARS[P];else switch(P){case it.PL:x=Hr.PUNCT;break;case 26:R=" ";break;case it.LL:x=Hr.LOWER;break;case it.AL:x=Hr.ALPHA;break;case it.PS:w=x,x=Hr.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[C]);break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break;case Hr.PUNCT:if(P<it.PAL)R=it.PUNCT_CHARS[P];else switch(P){case it.PAL:x=Hr.ALPHA;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[C]);break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break;case Hr.ALPHA_SHIFT:if(x=w,P<26)R=String.fromCharCode(65+P);else switch(P){case 26:R=" ";break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break;case Hr.PUNCT_SHIFT:if(x=w,P<it.PAL)R=it.PUNCT_CHARS[P];else switch(P){case it.PAL:x=Hr.ALPHA;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[C]);break;case it.TEXT_COMPACTION_MODE_LATCH:x=Hr.ALPHA;break}break}R!==""&&m.append(R),C++}}static byteCompaction(l,f,d,m,x){let w=new Lh,C=0,P=0,R=!1;switch(l){case it.BYTE_COMPACTION_MODE_LATCH:let V=new Int32Array(6),J=f[m++];for(;m<f[0]&&!R;)switch(V[C++]=J,P=900*P+J,J=f[m++],J){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:m--,R=!0;break;default:if(C%5===0&&C>0){for(let se=0;se<6;++se)w.write(Number(Mo(P)>>Mo(8*(5-se))));P=0,C=0}break}m===f[0]&&J<it.TEXT_COMPACTION_MODE_LATCH&&(V[C++]=J);for(let se=0;se<C;se++)w.write(V[se]);break;case it.BYTE_COMPACTION_MODE_LATCH_6:for(;m<f[0]&&!R;){let se=f[m++];if(se<it.TEXT_COMPACTION_MODE_LATCH)C++,P=900*P+se;else switch(se){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:m--,R=!0;break}if(C%5===0&&C>0){for(let Ee=0;Ee<6;++Ee)w.write(Number(Mo(P)>>Mo(8*(5-Ee))));P=0,C=0}}break}return x.append(W.decode(w.toByteArray(),d)),m}static numericCompaction(l,f,d){let m=0,x=!1,w=new Int32Array(it.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!x;){let C=l[f++];if(f===l[0]&&(x=!0),C<it.TEXT_COMPACTION_MODE_LATCH)w[m]=C,m++;else switch(C){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:f--,x=!0;break}(m%it.MAX_NUMERIC_CODEWORDS===0||C===it.NUMERIC_COMPACTION_MODE_LATCH||x)&&m>0&&(d.append(it.decodeBase900toBase10(w,m)),m=0)}return f}static decodeBase900toBase10(l,f){let d=Mo(0);for(let x=0;x<f;x++)d+=it.EXP900[f-x-1]*Mo(l[x]);let m=d.toString();if(m.charAt(0)!=="1")throw new F;return m.substring(1)}}it.TEXT_COMPACTION_MODE_LATCH=900,it.BYTE_COMPACTION_MODE_LATCH=901,it.NUMERIC_COMPACTION_MODE_LATCH=902,it.BYTE_COMPACTION_MODE_LATCH_6=924,it.ECI_USER_DEFINED=925,it.ECI_GENERAL_PURPOSE=926,it.ECI_CHARSET=927,it.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,it.MACRO_PDF417_TERMINATOR=922,it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,it.MAX_NUMERIC_CODEWORDS=15,it.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,it.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,it.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,it.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,it.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,it.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,it.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,it.PL=25,it.LL=27,it.AS=27,it.ML=28,it.AL=28,it.PS=29,it.PAL=29,it.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,it.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",it.EXP900=_s()?ac():[],it.NUMBER_OF_SEQUENCE_CODEWORDS=2;class I{constructor(){}static decode(l,f,d,m,x,w,C){let P=new Do(l,f,d,m,x),R=null,V=null,J;for(let Le=!0;;Le=!1){if(f!=null&&(R=I.getRowIndicatorColumn(l,P,f,!0,w,C)),m!=null&&(V=I.getRowIndicatorColumn(l,P,m,!1,w,C)),J=I.merge(R,V),J==null)throw ae.getNotFoundInstance();let je=J.getBoundingBox();if(Le&&je!=null&&(je.getMinY()<P.getMinY()||je.getMaxY()>P.getMaxY()))P=je;else break}J.setBoundingBox(P);let se=J.getBarcodeColumnCount()+1;J.setDetectionResultColumn(0,R),J.setDetectionResultColumn(se,V);let Ee=R!=null;for(let Le=1;Le<=se;Le++){let je=Ee?Le:se-Le;if(J.getDetectionResultColumn(je)!==void 0)continue;let Ve;je===0||je===se?Ve=new iu(P,je===0):Ve=new bs(P),J.setDetectionResultColumn(je,Ve);let rt=-1,vt=rt;for(let _t=P.getMinY();_t<=P.getMaxY();_t++){if(rt=I.getStartColumn(J,je,_t,Ee),rt<0||rt>P.getMaxX()){if(vt===-1)continue;rt=vt}let yt=I.detectCodeword(l,P.getMinX(),P.getMaxX(),Ee,rt,_t,w,C);yt!=null&&(Ve.setCodeword(_t,yt),vt=rt,w=Math.min(w,yt.getWidth()),C=Math.max(C,yt.getWidth()))}}return I.createDecoderResult(J)}static merge(l,f){if(l==null&&f==null)return null;let d=I.getBarcodeMetadata(l,f);if(d==null)return null;let m=Do.merge(I.adjustBoundingBox(l),I.adjustBoundingBox(f));return new Ys(d,m)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let d=I.getMax(f),m=0;for(let C of f)if(m+=d-C,C>0)break;let x=l.getCodewords();for(let C=0;m>0&&x[C]==null;C++)m--;let w=0;for(let C=f.length-1;C>=0&&(w+=d-f[C],!(f[C]>0));C--);for(let C=x.length-1;w>0&&x[C]==null;C--)w--;return l.getBoundingBox().addMissingRows(m,w,l.isLeft())}static getMax(l){let f=-1;for(let d of l)f=Math.max(f,d);return f}static getBarcodeMetadata(l,f){let d;if(l==null||(d=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let m;return f==null||(m=f.getBarcodeMetadata())==null?d:d.getColumnCount()!==m.getColumnCount()&&d.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&d.getRowCount()!==m.getRowCount()?null:d}static getRowIndicatorColumn(l,f,d,m,x,w){let C=new iu(f,m);for(let P=0;P<2;P++){let R=P===0?1:-1,V=Math.trunc(Math.trunc(d.getX()));for(let J=Math.trunc(Math.trunc(d.getY()));J<=f.getMaxY()&&J>=f.getMinY();J+=R){let se=I.detectCodeword(l,0,l.getWidth(),m,V,J,x,w);se!=null&&(C.setCodeword(J,se),m?V=se.getStartX():V=se.getEndX())}}return C}static adjustCodewordCount(l,f){let d=f[0][1],m=d.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-I.getNumberOfECCodeWords(l.getBarcodeECLevel());if(m.length===0){if(x<1||x>xr.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();d.setValue(x)}else m[0]!==x&&d.setValue(x)}static createDecoderResult(l){let f=I.createBarcodeMatrix(l);I.adjustCodewordCount(l,f);let d=new Array,m=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],w=new Array;for(let P=0;P<l.getBarcodeRowCount();P++)for(let R=0;R<l.getBarcodeColumnCount();R++){let V=f[P][R+1].getValue(),J=P*l.getBarcodeColumnCount()+R;V.length===0?d.push(J):V.length===1?m[J]=V[0]:(w.push(J),x.push(V))}let C=new Array(x.length);for(let P=0;P<C.length;P++)C[P]=x[P];return I.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),m,xr.toIntArray(d),xr.toIntArray(w),C)}static createDecoderResultFromAmbiguousValues(l,f,d,m,x){let w=new Int32Array(m.length),C=100;for(;C-- >0;){for(let P=0;P<w.length;P++)f[m[P]]=x[P][w[P]];try{return I.decodeCodewords(f,l,d)}catch(P){if(!(P instanceof g))throw P}if(w.length===0)throw g.getChecksumInstance();for(let P=0;P<w.length;P++)if(w[P]<x[P].length-1){w[P]++;break}else if(w[P]=0,P===w.length-1)throw g.getChecksumInstance()}throw g.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let m=0;m<f.length;m++)for(let x=0;x<f[m].length;x++)f[m][x]=new tc;let d=0;for(let m of l.getDetectionResultColumns()){if(m!=null){for(let x of m.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=f.length)continue;f[w][d].setValue(x.getValue())}}}d++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,d,m){let x=m?1:-1,w=null;if(I.isValidBarcodeColumn(l,f-x)&&(w=l.getDetectionResultColumn(f-x).getCodeword(d)),w!=null)return m?w.getEndX():w.getStartX();if(w=l.getDetectionResultColumn(f).getCodewordNearby(d),w!=null)return m?w.getStartX():w.getEndX();if(I.isValidBarcodeColumn(l,f-x)&&(w=l.getDetectionResultColumn(f-x).getCodewordNearby(d)),w!=null)return m?w.getEndX():w.getStartX();let C=0;for(;I.isValidBarcodeColumn(l,f-x);){f-=x;for(let P of l.getDetectionResultColumn(f).getCodewords())if(P!=null)return(m?P.getEndX():P.getStartX())+x*C*(P.getEndX()-P.getStartX());C++}return m?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,d,m,x,w,C,P){x=I.adjustCodewordStartColumn(l,f,d,m,x,w);let R=I.getModuleBitCount(l,f,d,m,x,w);if(R==null)return null;let V,J=ot.sum(R);if(m)V=x+J;else{for(let Le=0;Le<R.length/2;Le++){let je=R[Le];R[Le]=R[R.length-1-Le],R[R.length-1-Le]=je}V=x,x=V-J}if(!I.checkCodewordSkew(J,C,P))return null;let se=oi.getDecodedValue(R),Ee=xr.getCodeword(se);return Ee===-1?null:new jo(x,V,I.getCodewordBucketNumber(se),Ee)}static getModuleBitCount(l,f,d,m,x,w){let C=x,P=new Int32Array(8),R=0,V=m?1:-1,J=m;for(;(m?C<d:C>=f)&&R<P.length;)l.get(C,w)===J?(P[R]++,C+=V):(R++,J=!J);return R===P.length||C===(m?d:f)&&R===P.length-1?P:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,d,m,x,w){let C=x,P=m?-1:1;for(let R=0;R<2;R++){for(;(m?C>=f:C<d)&&m===l.get(C,w);){if(Math.abs(x-C)>I.CODEWORD_SKEW_SIZE)return x;C+=P}P=-P,m=!m}return C}static checkCodewordSkew(l,f,d){return f-I.CODEWORD_SKEW_SIZE<=l&&l<=d+I.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,d){if(l.length===0)throw F.getFormatInstance();let m=1<<f+1,x=I.correctErrors(l,d,m);I.verifyCodewordCount(l,m);let w=it.decode(l,""+f);return w.setErrorsCorrected(x),w.setErasures(d.length),w}static correctErrors(l,f,d){if(f!=null&&f.length>d/2+I.MAX_ERRORS||d<0||d>I.MAX_EC_CODEWORDS)throw g.getChecksumInstance();return I.errorCorrection.decode(l,d,f)}static verifyCodewordCount(l,f){if(l.length<4)throw F.getFormatInstance();let d=l[0];if(d>l.length)throw F.getFormatInstance();if(d===0)if(f<l.length)l[0]=l.length-f;else throw F.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),d=0,m=f.length-1;for(;!((l&1)!==d&&(d=l&1,m--,m<0));)f[m]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return I.getCodewordBucketNumber(I.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new ws;for(let d=0;d<l.length;d++){f.format("Row %2d: ",d);for(let m=0;m<l[d].length;m++){let x=l[d][m];x.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}f.format("%n")}return f.toString()}}I.CODEWORD_SKEW_SIZE=2,I.MAX_ERRORS=3,I.MAX_EC_CODEWORDS=512,I.errorCorrection=new Ql;class Q{decode(l,f=null){let d=Q.decode(l,f,!1);if(d==null||d.length===0||d[0]==null)throw ae.getNotFoundInstance();return d[0]}decodeMultiple(l,f=null){try{return Q.decode(l,f,!0)}catch(d){throw d instanceof F||d instanceof g?ae.getNotFoundInstance():d}}static decode(l,f,d){const m=new Array,x=_r.detectMultiple(l,f,d);for(const w of x.getPoints()){const C=I.decode(x.getBits(),w[4],w[5],w[6],w[7],Q.getMinCodewordWidth(w),Q.getMaxCodewordWidth(w)),P=new H(C.getText(),C.getRawBytes(),void 0,w,ne.PDF_417);P.putMetadata(Ie.ERROR_CORRECTION_LEVEL,C.getECLevel());const R=C.getOther();R!=null&&P.putMetadata(Ie.PDF417_EXTRA_METADATA,R),m.push(P)}return m.map(w=>w)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?O.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(Q.getMaxWidth(l[0],l[4]),Q.getMaxWidth(l[6],l[2])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN),Math.max(Q.getMaxWidth(l[1],l[5]),Q.getMaxWidth(l[7],l[3])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(Q.getMinWidth(l[0],l[4]),Q.getMinWidth(l[6],l[2])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN),Math.min(Q.getMinWidth(l[1],l[5]),Q.getMinWidth(l[7],l[3])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN)))}reset(){}}class Se extends u{}Se.kind="ReaderException";class De{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!n(l)&&l.get(z.TRY_HARDER)===!0,d=n(l)?null:l.get(z.POSSIBLE_FORMATS),m=new Array;if(!n(d)){const x=d.some(w=>w===ne.UPC_A||w===ne.UPC_E||w===ne.EAN_13||w===ne.EAN_8||w===ne.CODABAR||w===ne.CODE_39||w===ne.CODE_93||w===ne.CODE_128||w===ne.ITF||w===ne.RSS_14||w===ne.RSS_EXPANDED);x&&!f&&m.push(new pa(l,this.verbose)),d.includes(ne.QR_CODE)&&m.push(new ys),d.includes(ne.DATA_MATRIX)&&m.push(new Ti),d.includes(ne.AZTEC)&&m.push(new zt),d.includes(ne.PDF_417)&&m.push(new Q),x&&f&&m.push(new pa(l,this.verbose))}m.length===0&&(f||m.push(new pa(l,this.verbose)),m.push(new ys),m.push(new Ti),m.push(new zt),m.push(new Q),f&&m.push(new pa(l,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Se("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(d){if(d instanceof Se)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class He extends Y{constructor(l=null,f=500){const d=new De;d.setHints(l),super(d,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class gt extends Y{constructor(l=500){super(new Q,l)}}class At extends Y{constructor(l=500){super(new ys,l)}}var Gt;(function(Z){Z[Z.ERROR_CORRECTION=0]="ERROR_CORRECTION",Z[Z.CHARACTER_SET=1]="CHARACTER_SET",Z[Z.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Z[Z.MIN_SIZE=3]="MIN_SIZE",Z[Z.MAX_SIZE=4]="MAX_SIZE",Z[Z.MARGIN=5]="MARGIN",Z[Z.PDF417_COMPACT=6]="PDF417_COMPACT",Z[Z.PDF417_COMPACTION=7]="PDF417_COMPACTION",Z[Z.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Z[Z.AZTEC_LAYERS=9]="AZTEC_LAYERS",Z[Z.QR_VERSION=10]="QR_VERSION"})(Gt||(Gt={}));var Ft=Gt;class Er{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new ze(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let d=f[f.length-1];const m=this.field;for(let x=f.length;x<=l;x++){const w=d.multiply(new ze(m,Int32Array.from([1,m.exp(x-1+m.getGeneratorBase())])));f.push(w),d=w}}return f[l]}encode(l,f){if(f===0)throw new p("No error correction bytes");const d=l.length-f;if(d<=0)throw new p("No data bytes provided");const m=this.buildGenerator(f),x=new Int32Array(d);b.arraycopy(l,0,x,0,d);let w=new ze(this.field,x);w=w.multiplyByMonomial(f,1);const P=w.divide(m)[1].getCoefficients(),R=f-P.length;for(let V=0;V<R;V++)l[d+V]=0;b.arraycopy(P,0,l,d+R,P.length)}}class Kt{constructor(){}static applyMaskPenaltyRule1(l){return Kt.applyMaskPenaltyRule1Internal(l,!0)+Kt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const d=l.getArray(),m=l.getWidth(),x=l.getHeight();for(let w=0;w<x-1;w++){const C=d[w];for(let P=0;P<m-1;P++){const R=C[P];R===C[P+1]&&R===d[w+1][P]&&R===d[w+1][P+1]&&f++}}return Kt.N2*f}static applyMaskPenaltyRule3(l){let f=0;const d=l.getArray(),m=l.getWidth(),x=l.getHeight();for(let w=0;w<x;w++)for(let C=0;C<m;C++){const P=d[w];C+6<m&&P[C]===1&&P[C+1]===0&&P[C+2]===1&&P[C+3]===1&&P[C+4]===1&&P[C+5]===0&&P[C+6]===1&&(Kt.isWhiteHorizontal(P,C-4,C)||Kt.isWhiteHorizontal(P,C+7,C+11))&&f++,w+6<x&&d[w][C]===1&&d[w+1][C]===0&&d[w+2][C]===1&&d[w+3][C]===1&&d[w+4][C]===1&&d[w+5][C]===0&&d[w+6][C]===1&&(Kt.isWhiteVertical(d,C,w-4,w)||Kt.isWhiteVertical(d,C,w+7,w+11))&&f++}return f*Kt.N3}static isWhiteHorizontal(l,f,d){f=Math.max(f,0),d=Math.min(d,l.length);for(let m=f;m<d;m++)if(l[m]===1)return!1;return!0}static isWhiteVertical(l,f,d,m){d=Math.max(d,0),m=Math.min(m,l.length);for(let x=d;x<m;x++)if(l[x][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const d=l.getArray(),m=l.getWidth(),x=l.getHeight();for(let P=0;P<x;P++){const R=d[P];for(let V=0;V<m;V++)R[V]===1&&f++}const w=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-w)*10/w)*Kt.N4}static getDataMaskBit(l,f,d){let m,x;switch(l){case 0:m=d+f&1;break;case 1:m=d&1;break;case 2:m=f%3;break;case 3:m=(d+f)%3;break;case 4:m=Math.floor(d/2)+Math.floor(f/3)&1;break;case 5:x=d*f,m=(x&1)+x%3;break;case 6:x=d*f,m=(x&1)+x%3&1;break;case 7:x=d*f,m=x%3+(d+f&1)&1;break;default:throw new p("Invalid mask pattern: "+l)}return m===0}static applyMaskPenaltyRule1Internal(l,f){let d=0;const m=f?l.getHeight():l.getWidth(),x=f?l.getWidth():l.getHeight(),w=l.getArray();for(let C=0;C<m;C++){let P=0,R=-1;for(let V=0;V<x;V++){const J=f?w[C][V]:w[V][C];J===R?P++:(P>=5&&(d+=Kt.N1+(P-5)),P=1,R=J)}P>=5&&(d+=Kt.N1+(P-5))}return d}}Kt.N1=3,Kt.N2=3,Kt.N3=40,Kt.N4=10;class Kr{constructor(l,f){this.width=l,this.height=f;const d=new Array(f);for(let m=0;m!==f;m++)d[m]=new Uint8Array(l);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,d){this.bytes[f][l]=d}setBoolean(l,f,d){this.bytes[f][l]=d?1:0}clear(l){for(const f of this.bytes)T.fill(f,l)}equals(l){if(!(l instanceof Kr))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let d=0,m=this.height;d<m;++d){const x=this.bytes[d],w=f.bytes[d];for(let C=0,P=this.width;C<P;++C)if(x[C]!==w[C])return!1}return!0}toString(){const l=new K;for(let f=0,d=this.height;f<d;++f){const m=this.bytes[f];for(let x=0,w=this.width;x<w;++x)switch(m[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class an{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new K;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<an.NUM_MASK_PATTERNS}}an.NUM_MASK_PATTERNS=8;class Sr extends u{}Sr.kind="WriterException";class Wt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,d,m,x){Wt.clearMatrix(x),Wt.embedBasicPatterns(d,x),Wt.embedTypeInfo(f,m,x),Wt.maybeEmbedVersionInfo(d,x),Wt.embedDataBits(l,m,x)}static embedBasicPatterns(l,f){Wt.embedPositionDetectionPatternsAndSeparators(f),Wt.embedDarkDotAtLeftBottomCorner(f),Wt.maybeEmbedPositionAdjustmentPatterns(l,f),Wt.embedTimingPatterns(f)}static embedTypeInfo(l,f,d){const m=new k;Wt.makeTypeInfoBits(l,f,m);for(let x=0,w=m.getSize();x<w;++x){const C=m.get(m.getSize()-1-x),P=Wt.TYPE_INFO_COORDINATES[x],R=P[0],V=P[1];if(d.setBoolean(R,V,C),x<8){const J=d.getWidth()-x-1;d.setBoolean(J,8,C)}else{const se=d.getHeight()-7+(x-8);d.setBoolean(8,se,C)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const d=new k;Wt.makeVersionInfoBits(l,d);let m=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const C=d.get(m);m--,f.setBoolean(x,f.getHeight()-11+w,C),f.setBoolean(f.getHeight()-11+w,x,C)}}static embedDataBits(l,f,d){let m=0,x=-1,w=d.getWidth()-1,C=d.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);C>=0&&C<d.getHeight();){for(let P=0;P<2;++P){const R=w-P;if(!Wt.isEmpty(d.get(R,C)))continue;let V;m<l.getSize()?(V=l.get(m),++m):V=!1,f!==255&&Kt.getDataMaskBit(f,R,C)&&(V=!V),d.setBoolean(R,C,V)}C+=x}x=-x,C+=x,w-=2}if(m!==l.getSize())throw new Sr("Not all bits consumed: "+m+"/"+l.getSize())}static findMSBSet(l){return 32-O.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new p("0 polynomial");const d=Wt.findMSBSet(f);for(l<<=d-1;Wt.findMSBSet(l)>=d;)l^=f<<Wt.findMSBSet(l)-d;return l}static makeTypeInfoBits(l,f,d){if(!an.isValidMaskPattern(f))throw new Sr("Invalid mask pattern");const m=l.getBits()<<3|f;d.appendBits(m,5);const x=Wt.calculateBCHCode(m,Wt.TYPE_INFO_POLY);d.appendBits(x,10);const w=new k;if(w.appendBits(Wt.TYPE_INFO_MASK_PATTERN,15),d.xor(w),d.getSize()!==15)throw new Sr("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const d=Wt.calculateBCHCode(l.getVersionNumber(),Wt.VERSION_INFO_POLY);if(f.appendBits(d,12),f.getSize()!==18)throw new Sr("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const d=(f+1)%2;Wt.isEmpty(l.get(f,6))&&l.setNumber(f,6,d),Wt.isEmpty(l.get(6,f))&&l.setNumber(6,f,d)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Sr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,d){for(let m=0;m<8;++m){if(!Wt.isEmpty(d.get(l+m,f)))throw new Sr;d.setNumber(l+m,f,0)}}static embedVerticalSeparationPattern(l,f,d){for(let m=0;m<7;++m){if(!Wt.isEmpty(d.get(l,f+m)))throw new Sr;d.setNumber(l,f+m,0)}}static embedPositionAdjustmentPattern(l,f,d){for(let m=0;m<5;++m){const x=Wt.POSITION_ADJUSTMENT_PATTERN[m];for(let w=0;w<5;++w)d.setNumber(l+w,f+m,x[w])}}static embedPositionDetectionPattern(l,f,d){for(let m=0;m<7;++m){const x=Wt.POSITION_DETECTION_PATTERN[m];for(let w=0;w<7;++w)d.setNumber(l+w,f+m,x[w])}}static embedPositionDetectionPatternsAndSeparators(l){const f=Wt.POSITION_DETECTION_PATTERN[0].length;Wt.embedPositionDetectionPattern(0,0,l),Wt.embedPositionDetectionPattern(l.getWidth()-f,0,l),Wt.embedPositionDetectionPattern(0,l.getWidth()-f,l);const d=8;Wt.embedHorizontalSeparationPattern(0,d-1,l),Wt.embedHorizontalSeparationPattern(l.getWidth()-d,d-1,l),Wt.embedHorizontalSeparationPattern(0,l.getWidth()-d,l);const m=7;Wt.embedVerticalSeparationPattern(m,0,l),Wt.embedVerticalSeparationPattern(l.getHeight()-m-1,0,l),Wt.embedVerticalSeparationPattern(m,l.getHeight()-m,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const d=l.getVersionNumber()-1,m=Wt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let x=0,w=m.length;x!==w;x++){const C=m[x];if(C>=0)for(let P=0;P!==w;P++){const R=m[P];R>=0&&Wt.isEmpty(f.get(R,C))&&Wt.embedPositionAdjustmentPattern(R-2,C-2,f)}}}}Wt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Wt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Wt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Wt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Wt.VERSION_INFO_POLY=7973,Wt.TYPE_INFO_POLY=1335,Wt.TYPE_INFO_MASK_PATTERN=21522;class gi{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Tr{constructor(){}static calculateMaskPenalty(l){return Kt.applyMaskPenaltyRule1(l)+Kt.applyMaskPenaltyRule2(l)+Kt.applyMaskPenaltyRule3(l)+Kt.applyMaskPenaltyRule4(l)}static encode(l,f,d=null){let m=Tr.DEFAULT_BYTE_MODE_ENCODING;const x=d!==null&&d.get(Ft.CHARACTER_SET)!==void 0;x&&(m=d.get(Ft.CHARACTER_SET).toString());const w=this.chooseMode(l,m),C=new k;if(w===hr.BYTE&&(x||Tr.DEFAULT_BYTE_MODE_ENCODING!==m)){const _t=B.getCharacterSetECIByName(m);_t!==void 0&&this.appendECI(_t,C)}this.appendModeInfo(w,C);const P=new k;this.appendBytes(l,w,P,m);let R;if(d!==null&&d.get(Ft.QR_VERSION)!==void 0){const _t=Number.parseInt(d.get(Ft.QR_VERSION).toString(),10);R=qt.getVersionForNumber(_t);const yt=this.calculateBitsNeeded(w,C,P,R);if(!this.willFit(yt,R,f))throw new Sr("Data too big for requested version")}else R=this.recommendVersion(f,w,C,P);const V=new k;V.appendBitArray(C);const J=w===hr.BYTE?P.getSizeInBytes():l.length;this.appendLengthInfo(J,R,w,V),V.appendBitArray(P);const se=R.getECBlocksForLevel(f),Ee=R.getTotalCodewords()-se.getTotalECCodewords();this.terminateBits(Ee,V);const Le=this.interleaveWithECBytes(V,R.getTotalCodewords(),Ee,se.getNumBlocks()),je=new an;je.setECLevel(f),je.setMode(w),je.setVersion(R);const Ve=R.getDimensionForVersion(),rt=new Kr(Ve,Ve),vt=this.chooseMaskPattern(Le,f,R,rt);return je.setMaskPattern(vt),Wt.buildMatrix(Le,f,R,vt,rt),je.setMatrix(rt),je}static recommendVersion(l,f,d,m){const x=this.calculateBitsNeeded(f,d,m,qt.getVersionForNumber(1)),w=this.chooseVersion(x,l),C=this.calculateBitsNeeded(f,d,m,w);return this.chooseVersion(C,l)}static calculateBitsNeeded(l,f,d,m){return f.getSize()+l.getCharacterCountBits(m)+d.getSize()}static getAlphanumericCode(l){return l<Tr.ALPHANUMERIC_TABLE.length?Tr.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(B.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return hr.KANJI;let d=!1,m=!1;for(let x=0,w=l.length;x<w;++x){const C=l.charAt(x);if(Tr.isDigit(C))d=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)m=!0;else return hr.BYTE}return m?hr.ALPHANUMERIC:d?hr.NUMERIC:hr.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=W.encode(l,B.SJIS)}catch{return!1}const d=f.length;if(d%2!==0)return!1;for(let m=0;m<d;m+=2){const x=f[m]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,f,d,m){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let C=0;C<an.NUM_MASK_PATTERNS;C++){Wt.buildMatrix(l,f,d,C,m);let P=this.calculateMaskPenalty(m);P<x&&(x=P,w=C)}return w}static chooseVersion(l,f){for(let d=1;d<=40;d++){const m=qt.getVersionForNumber(d);if(Tr.willFit(l,m,f))return m}throw new Sr("Data too big")}static willFit(l,f,d){const m=f.getTotalCodewords(),w=f.getECBlocksForLevel(d).getTotalECCodewords(),C=m-w,P=(l+7)/8;return C>=P}static terminateBits(l,f){const d=l*8;if(f.getSize()>d)throw new Sr("data bits cannot fit in the QR Code"+f.getSize()+" > "+d);for(let w=0;w<4&&f.getSize()<d;++w)f.appendBit(!1);const m=f.getSize()&7;if(m>0)for(let w=m;w<8;w++)f.appendBit(!1);const x=l-f.getSizeInBytes();for(let w=0;w<x;++w)f.appendBits(w&1?17:236,8);if(f.getSize()!==d)throw new Sr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,d,m,x,w){if(m>=d)throw new Sr("Block ID too large");const C=l%d,P=d-C,R=Math.floor(l/d),V=R+1,J=Math.floor(f/d),se=J+1,Ee=R-J,Le=V-se;if(Ee!==Le)throw new Sr("EC bytes mismatch");if(d!==P+C)throw new Sr("RS blocks mismatch");if(l!==(J+Ee)*P+(se+Le)*C)throw new Sr("Total bytes mismatch");m<P?(x[0]=J,w[0]=Ee):(x[0]=se,w[0]=Le)}static interleaveWithECBytes(l,f,d,m){if(l.getSizeInBytes()!==d)throw new Sr("Number of bits and data bytes does not match");let x=0,w=0,C=0;const P=new Array;for(let V=0;V<m;++V){const J=new Int32Array(1),se=new Int32Array(1);Tr.getNumDataBytesAndNumECBytesForBlockID(f,d,m,V,J,se);const Ee=J[0],Le=new Uint8Array(Ee);l.toBytes(8*x,Le,0,Ee);const je=Tr.generateECBytes(Le,se[0]);P.push(new gi(Le,je)),w=Math.max(w,Ee),C=Math.max(C,je.length),x+=J[0]}if(d!==x)throw new Sr("Data bytes does not match offset");const R=new k;for(let V=0;V<w;++V)for(const J of P){const se=J.getDataBytes();V<se.length&&R.appendBits(se[V],8)}for(let V=0;V<C;++V)for(const J of P){const se=J.getErrorCorrectionBytes();V<se.length&&R.appendBits(se[V],8)}if(f!==R.getSizeInBytes())throw new Sr("Interleaving error: "+f+" and "+R.getSizeInBytes()+" differ.");return R}static generateECBytes(l,f){const d=l.length,m=new Int32Array(d+f);for(let w=0;w<d;w++)m[w]=l[w]&255;new Er(st.QR_CODE_FIELD_256).encode(m,f);const x=new Uint8Array(f);for(let w=0;w<f;w++)x[w]=m[d+w];return x}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,d,m){const x=d.getCharacterCountBits(f);if(l>=1<<x)throw new Sr(l+" is bigger than "+((1<<x)-1));m.appendBits(l,x)}static appendBytes(l,f,d,m){switch(f){case hr.NUMERIC:Tr.appendNumericBytes(l,d);break;case hr.ALPHANUMERIC:Tr.appendAlphanumericBytes(l,d);break;case hr.BYTE:Tr.append8BitBytes(l,d,m);break;case hr.KANJI:Tr.appendKanjiBytes(l,d);break;default:throw new Sr("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=Tr.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const d=l.length;let m=0;for(;m<d;){const x=Tr.getDigit(l.charAt(m));if(m+2<d){const w=Tr.getDigit(l.charAt(m+1)),C=Tr.getDigit(l.charAt(m+2));f.appendBits(x*100+w*10+C,10),m+=3}else if(m+1<d){const w=Tr.getDigit(l.charAt(m+1));f.appendBits(x*10+w,7),m+=2}else f.appendBits(x,4),m++}}static appendAlphanumericBytes(l,f){const d=l.length;let m=0;for(;m<d;){const x=Tr.getAlphanumericCode(l.charCodeAt(m));if(x===-1)throw new Sr;if(m+1<d){const w=Tr.getAlphanumericCode(l.charCodeAt(m+1));if(w===-1)throw new Sr;f.appendBits(x*45+w,11),m+=2}else f.appendBits(x,6),m++}}static append8BitBytes(l,f,d){let m;try{m=W.encode(l,d)}catch(x){throw new Sr(x)}for(let x=0,w=m.length;x!==w;x++){const C=m[x];f.appendBits(C,8)}}static appendKanjiBytes(l,f){let d;try{d=W.encode(l,B.SJIS)}catch(x){throw new Sr(x)}const m=d.length;for(let x=0;x<m;x+=2){const w=d[x]&255,C=d[x+1]&255,P=w<<8&4294967295|C;let R=-1;if(P>=33088&&P<=40956?R=P-33088:P>=57408&&P<=60351&&(R=P-49472),R===-1)throw new Sr("Invalid byte sequence");const V=(R>>8)*192+(R&255);f.appendBits(V,13)}}static appendECI(l,f){f.appendBits(hr.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}Tr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Tr.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class Dn{write(l,f,d,m=null){if(l.length===0)throw new p("Found empty contents");if(f<0||d<0)throw new p("Requested dimensions are too small: "+f+"x"+d);let x=en.L,w=Dn.QUIET_ZONE_SIZE;m!==null&&(m.get(Ft.ERROR_CORRECTION)!==void 0&&(x=en.fromString(m.get(Ft.ERROR_CORRECTION).toString())),m.get(Ft.MARGIN)!==void 0&&(w=Number.parseInt(m.get(Ft.MARGIN).toString(),10)));const C=Tr.encode(l,x,m);return this.renderResult(C,f,d,w)}writeToDom(l,f,d,m,x=null){typeof l=="string"&&(l=document.querySelector(l));const w=this.write(f,d,m,x);l&&l.appendChild(w)}renderResult(l,f,d,m){const x=l.getMatrix();if(x===null)throw new me;const w=x.getWidth(),C=x.getHeight(),P=w+m*2,R=C+m*2,V=Math.max(f,P),J=Math.max(d,R),se=Math.min(Math.floor(V/P),Math.floor(J/R)),Ee=Math.floor((V-w*se)/2),Le=Math.floor((J-C*se)/2),je=this.createSVGElement(V,J);for(let Ve=0,rt=Le;Ve<C;Ve++,rt+=se)for(let vt=0,_t=Ee;vt<w;vt++,_t+=se)if(x.get(vt,Ve)===1){const yt=this.createSvgRectElement(_t,rt,se,se);je.appendChild(yt)}return je}createSVGElement(l,f){const d=document.createElementNS(Dn.SVG_NS,"svg");return d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",f.toString()),d}createSvgRectElement(l,f,d,m){const x=document.createElementNS(Dn.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",f.toString()),x.setAttributeNS(null,"height",d.toString()),x.setAttributeNS(null,"width",m.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Dn.QUIET_ZONE_SIZE=4,Dn.SVG_NS="http://www.w3.org/2000/svg";class Ui{encode(l,f,d,m,x){if(l.length===0)throw new p("Found empty contents");if(f!==ne.QR_CODE)throw new p("Can only encode QR_CODE, but got "+f);if(d<0||m<0)throw new p(`Requested dimensions are too small: ${d}x${m}`);let w=en.L,C=Ui.QUIET_ZONE_SIZE;x!==null&&(x.get(Ft.ERROR_CORRECTION)!==void 0&&(w=en.fromString(x.get(Ft.ERROR_CORRECTION).toString())),x.get(Ft.MARGIN)!==void 0&&(C=Number.parseInt(x.get(Ft.MARGIN).toString(),10)));const P=Tr.encode(l,w,x);return Ui.renderResult(P,d,m,C)}static renderResult(l,f,d,m){const x=l.getMatrix();if(x===null)throw new me;const w=x.getWidth(),C=x.getHeight(),P=w+m*2,R=C+m*2,V=Math.max(f,P),J=Math.max(d,R),se=Math.min(Math.floor(V/P),Math.floor(J/R)),Ee=Math.floor((V-w*se)/2),Le=Math.floor((J-C*se)/2),je=new oe(V,J);for(let Ve=0,rt=Le;Ve<C;Ve++,rt+=se)for(let vt=0,_t=Ee;vt<w;vt++,_t+=se)x.get(vt,Ve)===1&&je.setRegion(_t,rt,se,se);return je}}Ui.QUIET_ZONE_SIZE=4;class Da{encode(l,f,d,m,x){let w;switch(f){case ne.QR_CODE:w=new Ui;break;default:throw new p("No encoder available for format "+f)}return w.encode(l,f,d,m,x)}}class Za extends we{constructor(l,f,d,m,x,w,C,P){if(super(w,C),this.yuvData=l,this.dataWidth=f,this.dataHeight=d,this.left=m,this.top=x,m+w>f||x+C>d)throw new p("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(w,C)}getRow(l,f){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const d=this.getWidth();(f==null||f.length<d)&&(f=new Uint8ClampedArray(d));const m=(l+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,m,f,0,d),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const d=l*f,m=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return b.arraycopy(this.yuvData,x,m,0,d),m;for(let w=0;w<f;w++){const C=w*l;b.arraycopy(this.yuvData,x,m,C,l),x+=this.dataWidth}return m}isCropSupported(){return!0}crop(l,f,d,m){return new Za(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,d,m,!1)}renderThumbnail(){const l=this.getWidth()/Za.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/Za.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(l*f),m=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<f;w++){const C=w*l;for(let P=0;P<l;P++){const R=m[x+P*Za.THUMBNAIL_SCALE_FACTOR]&255;d[C+P]=4278190080|R*65793}x+=this.dataWidth*Za.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Za.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Za.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const d=this.yuvData;for(let m=0,x=this.top*this.dataWidth+this.left;m<f;m++,x+=this.dataWidth){const w=x+l/2;for(let C=x,P=x+l-1;C<w;C++,P--){const R=d[C];d[C]=d[P],d[P]=R}}}invert(){return new _e(this)}}Za.THUMBNAIL_SCALE_FACTOR=2;class Cl extends we{constructor(l,f,d,m,x,w,C){if(super(f,d),this.dataWidth=m,this.dataHeight=x,this.left=w,this.top=C,l.BYTES_PER_ELEMENT===4){const P=f*d,R=new Uint8ClampedArray(P);for(let V=0;V<P;V++){const J=l[V],se=J>>16&255,Ee=J>>7&510,Le=J&255;R[V]=(se+Ee+Le)/4&255}this.luminances=R}else this.luminances=l;if(m===void 0&&(this.dataWidth=f),x===void 0&&(this.dataHeight=d),w===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+d>this.dataHeight)throw new p("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const d=this.getWidth();(f==null||f.length<d)&&(f=new Uint8ClampedArray(d));const m=(l+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,m,f,0,d),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const d=l*f,m=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return b.arraycopy(this.luminances,x,m,0,d),m;for(let w=0;w<f;w++){const C=w*l;b.arraycopy(this.luminances,x,m,C,l),x+=this.dataWidth}return m}isCropSupported(){return!0}crop(l,f,d,m){return new Cl(this.luminances,d,m,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new _e(this)}}class Tl extends B{static forName(l){return this.getCharacterSetECIByName(l)}}class Es{}Es.ISO_8859_1=B.ISO8859_1;class Ol{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class kl{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class oc{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Qn extends oc{constructor(l,f,d){super(l),this.value=f,this.bitCount=d}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new Qn(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Qn(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+O.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Zs extends Qn{constructor(l,f,d){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=d}appendTo(l,f){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):d===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+d],8)}addBinaryShift(l,f){return new Zs(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function sc(Z,l,f){return new Zs(Z,l,f)}function Js(Z,l,f){return new Qn(Z,l,f)}const yf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],on=0,po=1,$i=2,wf=3,ei=4,lc=new Qn(null,0,0),cc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function bf(Z){for(let l of Z)T.fill(l,-1);return Z[on][ei]=0,Z[po][ei]=0,Z[po][on]=28,Z[wf][ei]=0,Z[$i][ei]=0,Z[$i][on]=15,Z}const Qs=bf(T.createInt32Array(6,6));class ra{constructor(l,f,d,m){this.token=l,this.mode=f,this.binaryShiftByteCount=d,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let d=this.bitCount,m=this.token;if(l!==this.mode){let w=cc[this.mode][l];m=Js(m,w&65535,w>>16),d+=w>>16}let x=l===$i?4:5;return m=Js(m,f,x),new ra(m,l,0,d+x)}shiftAndAppend(l,f){let d=this.token,m=this.mode===$i?4:5;return d=Js(d,Qs[this.mode][l],m),d=Js(d,f,5),new ra(d,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(l){let f=this.token,d=this.mode,m=this.bitCount;if(this.mode===ei||this.mode===$i){let C=cc[d][on];f=Js(f,C&65535,C>>16),m+=C>>16,d=on}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new ra(f,d,this.binaryShiftByteCount+1,m+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(l+1)),w}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=sc(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ra(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(cc[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=ra.calculateBinaryShiftCost(l)-ra.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let m=this.endBinaryShift(l.length).token;m!==null;m=m.getPrevious())f.unshift(m);let d=new k;for(const m of f)m.appendTo(d,l);return d}toString(){return U.format("%s bits=%d bytes=%d",yf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ra.INITIAL_STATE=new ra(lc,on,0,0);function Ja(Z){const l=U.getCharCode(" "),f=U.getCharCode("."),d=U.getCharCode(",");Z[on][l]=1;const m=U.getCharCode("Z"),x=U.getCharCode("A");for(let se=x;se<=m;se++)Z[on][se]=se-x+2;Z[po][l]=1;const w=U.getCharCode("z"),C=U.getCharCode("a");for(let se=C;se<=w;se++)Z[po][se]=se-C+2;Z[$i][l]=1;const P=U.getCharCode("9"),R=U.getCharCode("0");for(let se=R;se<=P;se++)Z[$i][se]=se-R+2;Z[$i][d]=12,Z[$i][f]=13;const V=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let se=0;se<V.length;se++)Z[wf][U.getCharCode(V[se])]=se;const J=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let se=0;se<J.length;se++)U.getCharCode(J[se])>0&&(Z[ei][U.getCharCode(J[se])]=se);return Z}const ma=Ja(T.createInt32Array(5,256));class go{constructor(l){this.text=l}encode(){const l=U.getCharCode(" "),f=U.getCharCode(`
`);let d=kl.singletonList(ra.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,C=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case U.getCharCode("\r"):w=C===f?2:0;break;case U.getCharCode("."):w=C===l?3:0;break;case U.getCharCode(","):w=C===l?4:0;break;case U.getCharCode(":"):w=C===l?5:0;break;default:w=0}w>0?(d=go.updateStateListForPair(d,x,w),x++):d=this.updateStateListForChar(d,x)}return kl.min(d,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const d=[];for(let m of l)this.updateStateForChar(m,f,d);return go.simplifyStates(d)}updateStateForChar(l,f,d){let m=this.text[f]&255,x=ma[l.getMode()][m]>0,w=null;for(let C=0;C<=ei;C++){let P=ma[C][m];if(P>0){if(w==null&&(w=l.endBinaryShift(f)),!x||C===l.getMode()||C===$i){const R=w.latchAndAppend(C,P);d.push(R)}if(!x&&Qs[l.getMode()][C]>=0){const R=w.shiftAndAppend(C,P);d.push(R)}}}if(l.getBinaryShiftByteCount()>0||ma[l.getMode()][m]===0){let C=l.addBinaryShiftChar(f);d.push(C)}}static updateStateListForPair(l,f,d){const m=[];for(let x of l)this.updateStateForPair(x,f,d,m);return this.simplifyStates(m)}static updateStateForPair(l,f,d,m){let x=l.endBinaryShift(f);if(m.push(x.latchAndAppend(ei,d)),l.getMode()!==ei&&m.push(x.shiftAndAppend(ei,d)),d===3||d===4){let w=x.latchAndAppend($i,16-d).latchAndAppend($i,1);m.push(w)}if(l.getBinaryShiftByteCount()>0){let w=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);m.push(w)}}static simplifyStates(l){let f=[];for(const d of l){let m=!0;for(const x of f){if(x.isBetterThanOrEqualTo(d)){m=!1;break}d.isBetterThanOrEqualTo(x)&&(f=f.filter(w=>w!==x))}m&&f.push(d)}return f}}class Lr{constructor(){}static encodeBytes(l){return Lr.encode(l,Lr.DEFAULT_EC_PERCENT,Lr.DEFAULT_AZTEC_LAYERS)}static encode(l,f,d){let m=new go(l).encode(),x=O.truncDivision(m.getSize()*f,100)+11,w=m.getSize()+x,C,P,R,V,J;if(d!==Lr.DEFAULT_AZTEC_LAYERS){if(C=d<0,P=Math.abs(d),P>(C?Lr.MAX_NB_BITS_COMPACT:Lr.MAX_NB_BITS))throw new p(U.format("Illegal value %s for layers",d));R=Lr.totalBitsInLayer(P,C),V=Lr.WORD_SIZE[P];let yt=R-R%V;if(J=Lr.stuffBits(m,V),J.getSize()+x>yt)throw new p("Data to large for user specified layer");if(C&&J.getSize()>V*64)throw new p("Data to large for user specified layer")}else{V=0,J=null;for(let yt=0;;yt++){if(yt>Lr.MAX_NB_BITS)throw new p("Data too large for an Aztec code");if(C=yt<=3,P=C?yt+1:yt,R=Lr.totalBitsInLayer(P,C),w>R)continue;(J==null||V!==Lr.WORD_SIZE[P])&&(V=Lr.WORD_SIZE[P],J=Lr.stuffBits(m,V));let dr=R-R%V;if(!(C&&J.getSize()>V*64)&&J.getSize()+x<=dr)break}}let se=Lr.generateCheckWords(J,R,V),Ee=J.getSize()/V,Le=Lr.generateModeMessage(C,P,Ee),je=(C?11:14)+P*4,Ve=new Int32Array(je),rt;if(C){rt=je;for(let yt=0;yt<Ve.length;yt++)Ve[yt]=yt}else{rt=je+1+2*O.truncDivision(O.truncDivision(je,2)-1,15);let yt=O.truncDivision(je,2),dr=O.truncDivision(rt,2);for(let wr=0;wr<yt;wr++){let ki=wr+O.truncDivision(wr,15);Ve[yt-wr-1]=dr-ki-1,Ve[yt+wr]=dr+ki+1}}let vt=new oe(rt);for(let yt=0,dr=0;yt<P;yt++){let wr=(P-yt)*4+(C?9:12);for(let ki=0;ki<wr;ki++){let na=ki*2;for(let Wi=0;Wi<2;Wi++)se.get(dr+na+Wi)&&vt.set(Ve[yt*2+Wi],Ve[yt*2+ki]),se.get(dr+wr*2+na+Wi)&&vt.set(Ve[yt*2+ki],Ve[je-1-yt*2-Wi]),se.get(dr+wr*4+na+Wi)&&vt.set(Ve[je-1-yt*2-Wi],Ve[je-1-yt*2-ki]),se.get(dr+wr*6+na+Wi)&&vt.set(Ve[je-1-yt*2-ki],Ve[yt*2+Wi])}dr+=wr*8}if(Lr.drawModeMessage(vt,C,rt,Le),C)Lr.drawBullsEye(vt,O.truncDivision(rt,2),5);else{Lr.drawBullsEye(vt,O.truncDivision(rt,2),7);for(let yt=0,dr=0;yt<O.truncDivision(je,2)-1;yt+=15,dr+=16)for(let wr=O.truncDivision(rt,2)&1;wr<rt;wr+=2)vt.set(O.truncDivision(rt,2)-dr,wr),vt.set(O.truncDivision(rt,2)+dr,wr),vt.set(wr,O.truncDivision(rt,2)-dr),vt.set(wr,O.truncDivision(rt,2)+dr)}let _t=new Ol;return _t.setCompact(C),_t.setSize(rt),_t.setLayers(P),_t.setCodeWords(Ee),_t.setMatrix(vt),_t}static drawBullsEye(l,f,d){for(let m=0;m<d;m+=2)for(let x=f-m;x<=f+m;x++)l.set(x,f-m),l.set(x,f+m),l.set(f-m,x),l.set(f+m,x);l.set(f-d,f-d),l.set(f-d+1,f-d),l.set(f-d,f-d+1),l.set(f+d,f-d),l.set(f+d,f-d+1),l.set(f+d,f+d-1)}static generateModeMessage(l,f,d){let m=new k;return l?(m.appendBits(f-1,2),m.appendBits(d-1,6),m=Lr.generateCheckWords(m,28,4)):(m.appendBits(f-1,5),m.appendBits(d-1,11),m=Lr.generateCheckWords(m,40,4)),m}static drawModeMessage(l,f,d,m){let x=O.truncDivision(d,2);if(f)for(let w=0;w<7;w++){let C=x-3+w;m.get(w)&&l.set(C,x-5),m.get(w+7)&&l.set(x+5,C),m.get(20-w)&&l.set(C,x+5),m.get(27-w)&&l.set(x-5,C)}else for(let w=0;w<10;w++){let C=x-5+w+O.truncDivision(w,5);m.get(w)&&l.set(C,x-7),m.get(w+10)&&l.set(x+7,C),m.get(29-w)&&l.set(C,x+7),m.get(39-w)&&l.set(x-7,C)}}static generateCheckWords(l,f,d){let m=l.getSize()/d,x=new Er(Lr.getGF(d)),w=O.truncDivision(f,d),C=Lr.bitsToWords(l,d,w);x.encode(C,w-m);let P=f%d,R=new k;R.appendBits(0,P);for(const V of Array.from(C))R.appendBits(V,d);return R}static bitsToWords(l,f,d){let m=new Int32Array(d),x,w;for(x=0,w=l.getSize()/f;x<w;x++){let C=0;for(let P=0;P<f;P++)C|=l.get(x*f+P)?1<<f-P-1:0;m[x]=C}return m}static getGF(l){switch(l){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new p("Unsupported word size "+l)}}static stuffBits(l,f){let d=new k,m=l.getSize(),x=(1<<f)-2;for(let w=0;w<m;w+=f){let C=0;for(let P=0;P<f;P++)(w+P>=m||l.get(w+P))&&(C|=1<<f-1-P);(C&x)===x?(d.appendBits(C&x,f),w--):C&x?d.appendBits(C,f):(d.appendBits(C|1,f),w--)}return d}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Lr.DEFAULT_EC_PERCENT=33,Lr.DEFAULT_AZTEC_LAYERS=0,Lr.MAX_NB_BITS=32,Lr.MAX_NB_BITS_COMPACT=4,Lr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fo{encode(l,f,d,m){return this.encodeWithHints(l,f,d,m,null)}encodeWithHints(l,f,d,m,x){let w=Es.ISO_8859_1,C=Lr.DEFAULT_EC_PERCENT,P=Lr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Ft.CHARACTER_SET)&&(w=Tl.forName(x.get(Ft.CHARACTER_SET).toString())),x.has(Ft.ERROR_CORRECTION)&&(C=O.parseInt(x.get(Ft.ERROR_CORRECTION).toString())),x.has(Ft.AZTEC_LAYERS)&&(P=O.parseInt(x.get(Ft.AZTEC_LAYERS).toString()))),Fo.encodeLayers(l,f,d,m,w,C,P)}static encodeLayers(l,f,d,m,x,w,C){if(f!==ne.AZTEC)throw new p("Can only encode AZTEC, but got "+f);let P=Lr.encode(U.getBytes(l,x),w,C);return Fo.renderResult(P,d,m)}static renderResult(l,f,d){let m=l.getMatrix();if(m==null)throw new me;let x=m.getWidth(),w=m.getHeight(),C=Math.max(f,x),P=Math.max(d,w),R=Math.min(C/x,P/w),V=(C-x*R)/2,J=(P-w*R)/2,se=new oe(C,P);for(let Ee=0,Le=J;Ee<w;Ee++,Le+=R)for(let je=0,Ve=V;je<x;je++,Ve+=R)m.get(je,Ee)&&se.setRegion(Ve,Le,R,R);return se}}r.AbstractExpandedDecoder=ge,r.ArgumentException=h,r.ArithmeticException=Me,r.AztecCode=Ol,r.AztecCodeReader=zt,r.AztecCodeWriter=Fo,r.AztecDecoder=Ot,r.AztecDetector=Et,r.AztecDetectorResult=Ht,r.AztecEncoder=Lr,r.AztecHighLevelEncoder=go,r.AztecPoint=wt,r.BarcodeFormat=ne,r.Binarizer=_,r.BinaryBitmap=v,r.BitArray=k,r.BitMatrix=oe,r.BitSource=Hn,r.BrowserAztecCodeReader=Ne,r.BrowserBarcodeReader=Ro,r.BrowserCodeReader=Y,r.BrowserDatamatrixCodeReader=Xl,r.BrowserMultiFormatReader=He,r.BrowserPDF417Reader=gt,r.BrowserQRCodeReader=At,r.BrowserQRCodeSvgWriter=Dn,r.CharacterSetECI=B,r.ChecksumException=g,r.Code128Reader=fe,r.Code39Reader=Qe,r.DataMatrixDecodedBitStreamParser=Lo,r.DataMatrixReader=Ti,r.DecodeHintType=z,r.DecoderResult=be,r.DefaultGridSampler=te,r.DetectorResult=gr,r.EAN13Reader=mr,r.EncodeHintType=Ft,r.Exception=u,r.FormatException=F,r.GenericGF=st,r.GenericGFPoly=ze,r.GlobalHistogramBinarizer=Re,r.GridSampler=lr,r.GridSamplerInstance=xt,r.HTMLCanvasElementLuminanceSource=$e,r.HybridBinarizer=ke,r.ITFReader=ft,r.IllegalArgumentException=p,r.IllegalStateException=me,r.InvertedLuminanceSource=_e,r.LuminanceSource=we,r.MathUtils=ot,r.MultiFormatOneDReader=pa,r.MultiFormatReader=De,r.MultiFormatWriter=Da,r.NotFoundException=ae,r.OneDReader=xe,r.PDF417DecodedBitStreamParser=it,r.PDF417DecoderErrorCorrection=Ql,r.PDF417Reader=Q,r.PDF417ResultMetadata=au,r.PerspectiveTransform=Jt,r.PlanarYUVLuminanceSource=Za,r.QRCodeByteMatrix=Kr,r.QRCodeDataMask=ga,r.QRCodeDecodedBitStreamParser=En,r.QRCodeDecoderErrorCorrectionLevel=en,r.QRCodeDecoderFormatInformation=Oi,r.QRCodeEncoder=Tr,r.QRCodeEncoderQRCode=an,r.QRCodeMaskUtil=Kt,r.QRCodeMatrixUtil=Wt,r.QRCodeMode=hr,r.QRCodeReader=ys,r.QRCodeVersion=qt,r.QRCodeWriter=Ui,r.RGBLuminanceSource=Cl,r.RSS14Reader=Or,r.RSSExpandedReader=ut,r.ReaderException=Se,r.ReedSolomonDecoder=Dt,r.ReedSolomonEncoder=Er,r.ReedSolomonException=Fe,r.Result=H,r.ResultMetadataType=Ie,r.ResultPoint=at,r.StringUtils=U,r.UnsupportedOperationException=ee,r.VideoInputDevice=We,r.WhiteRectangleDetector=cr,r.WriterException=Sr,r.ZXingArrays=T,r.ZXingCharset=Tl,r.ZXingInteger=O,r.ZXingStandardCharsets=Es,r.ZXingStringBuilder=K,r.ZXingStringEncoding=W,r.ZXingSystem=b,r.createAbstractExpandedDecoder=Pt,Object.defineProperty(r,"__esModule",{value:!0})})})(l3,l3.exports);var Fn=l3.exports;const A4e=bl(Fn),C4e=dP({__proto__:null,default:A4e},[Fn]);var oP=function(){function e(t,r,n){if(this.formatMap=new Map([[Xt.QR_CODE,Fn.BarcodeFormat.QR_CODE],[Xt.AZTEC,Fn.BarcodeFormat.AZTEC],[Xt.CODABAR,Fn.BarcodeFormat.CODABAR],[Xt.CODE_39,Fn.BarcodeFormat.CODE_39],[Xt.CODE_93,Fn.BarcodeFormat.CODE_93],[Xt.CODE_128,Fn.BarcodeFormat.CODE_128],[Xt.DATA_MATRIX,Fn.BarcodeFormat.DATA_MATRIX],[Xt.MAXICODE,Fn.BarcodeFormat.MAXICODE],[Xt.ITF,Fn.BarcodeFormat.ITF],[Xt.EAN_13,Fn.BarcodeFormat.EAN_13],[Xt.EAN_8,Fn.BarcodeFormat.EAN_8],[Xt.PDF_417,Fn.BarcodeFormat.PDF_417],[Xt.RSS_14,Fn.BarcodeFormat.RSS_14],[Xt.RSS_EXPANDED,Fn.BarcodeFormat.RSS_EXPANDED],[Xt.UPC_A,Fn.BarcodeFormat.UPC_A],[Xt.UPC_E,Fn.BarcodeFormat.UPC_E],[Xt.UPC_EAN_EXTENSION,Fn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!C4e)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Fn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Fn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Fn.MultiFormatReader(this.verbose,this.hints),n=new Fn.HTMLCanvasElementLuminanceSource(t),i=new Fn.BinaryBitmap(new Fn.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:LU.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),T4e=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},O4e=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sP=function(){function e(t,r,n){if(this.formatMap=new Map([[Xt.QR_CODE,"qr_code"],[Xt.AZTEC,"aztec"],[Xt.CODABAR,"codabar"],[Xt.CODE_39,"code_39"],[Xt.CODE_93,"code_93"],[Xt.CODE_128,"code_128"],[Xt.DATA_MATRIX,"data_matrix"],[Xt.ITF,"itf"],[Xt.EAN_13,"ean_13"],[Xt.EAN_8,"ean_8"],[Xt.PDF_417,"pdf417"],[Xt.UPC_A,"upc_a"],[Xt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return T4e(this,void 0,void 0,function(){var r,n;return O4e(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:LU.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var o=a[i],s=o.boundingBox.width*o.boundingBox.height;s>n&&(n=s,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),lP=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},cP=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},k4e=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&sP.isSupported()?(this.primaryDecoder=new sP(t,n,i),this.secondaryDecoder=new oP(t,n,i)):this.primaryDecoder=new oP(t,n,i)}return e.prototype.decodeAsync=function(t){return lP(this,void 0,void 0,function(){var r;return cP(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return lP(this,void 0,void 0,function(){var r,n;return cP(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),OA=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hv=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Vv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jU=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),N4e=function(e){OA(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(jU),P4e=function(e){OA(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(N4e),I4e=function(e){OA(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(jU),R4e=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new P4e(this.track)},e.prototype.torchFeature=function(){return new I4e(this.track)},e}(),L4e=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Hv(this,void 0,void 0,function(){var a,o;return Vv(this,function(s){switch(s.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:s.sent(),s.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Hv(this,void 0,void 0,function(){return Vv(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(s){t.mediaStream.removeTrack(s),s.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new R4e(this.getFirstTrackOrFail())},e}(),D4e=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Hv(this,void 0,void 0,function(){return Vv(this,function(i){return[2,L4e.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Hv(this,void 0,void 0,function(){var r,n;return Vv(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),uP=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},fP=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},j4e=function(){function e(){}return e.failIfNotSupported=function(){return uP(this,void 0,void 0,function(){return fP(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return uP(this,void 0,void 0,function(){return fP(this,function(r){return[2,D4e.create(t)]})})},e}(),M4e=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{u(n.next(h))}catch(p){o(p)}}function c(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?a(h.value):i(h.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},F4e=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},B4e=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=y0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=y0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return M4e(this,void 0,void 0,function(){var t,r,n,i,a,o,s;return F4e(this,function(c){switch(c.label){case 0:return t=function(u){for(var h=u.getVideoTracks(),p=0,v=h;p<v.length;p++){var g=v[p];g.enabled=!1,g.stop(),u.removeTrack(g)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,o=n;a<o.length;a++)s=o[a],s.kind==="videoinput"&&i.push({id:s.deviceId,label:s.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],s=0,c=a;s<c.length;s++){var u=c[s];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e}(),ui;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ui||(ui={}));var U4e=function(){function e(){this.state=ui.NOT_STARTED,this.onGoingTransactionNewState=ui.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ui.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ui.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ui.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ui.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ui.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ui.UNKNOWN:throw"Transition from unknown is not allowed";case ui.NOT_STARTED:this.failIfNewStateIs(t,[ui.PAUSED]);break;case ui.SCANNING:break;case ui.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),$4e=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ui.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ui.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ui.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ui.PAUSED},e}(),W4e=function(){function e(){}return e.create=function(){return new $4e(new U4e)},e}(),z4e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yo=function(e){z4e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(_4e),H4e=function(){function e(t,r){this.logger=r,this.fps=Yo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Yo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?DU.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!vc(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),V4e=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new S4e(this.verbose),this.qrcode=new k4e(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=W4e.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var s=H4e.create(r,this.logger);this.clearElement();var c=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Yo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var p=this,v=this.stateManagerProxy.startTransition(ui.SCANNING);return new Promise(function(g,_){var b=u?s.videoConstraints:p.createVideoConstraints(t);if(!b){v.cancel(),_("videoConstraints should be defined");return}var E={};(!u||s.aspectRatio)&&(E.aspectRatio=s.aspectRatio);var S={onRenderSurfaceReady:function(T,O){p.setupUi(T,O,s),p.isScanning=!0,p.foreverScan(s,n,o)}};j4e.failIfNotSupported().then(function(T){T.create(b).then(function(O){return O.render(a.element,E,S).then(function(k){p.renderedCamera=k,v.execute(),g(null)}).catch(function(k){v.cancel(),_(k)})}).catch(function(O){v.cancel(),_(y0.errorGettingUserMedia(O))})}).catch(function(T){v.cancel(),_(y0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ui.PAUSED),this.showPausedState(),(vc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ui.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ui.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Yo.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(vc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var s=o.width,c=o.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:Yo.DEFAULT_WIDTH,p=Math.max(u.clientHeight?u.clientHeight:c,Yo.FILE_SCAN_MIN_HEIGHT),v=n.computeCanvasDrawConfig(s,c,h,p);if(r){var g=n.createCanvasElement(h,p,"qr-canvas-visible");g.style.display="inline-block",u.appendChild(g);var _=g.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=h,_.canvas.height=p,_.drawImage(o,0,0,s,c,v.x,v.y,v.width,v.height)}var b=Yo.FILE_SCAN_HIDDEN_CANVAS_PADDING,E=Math.max(o.width,v.width),S=Math.max(o.height,v.height),T=E+2*b,O=S+2*b,k=n.createCanvasElement(T,O);u.appendChild(k);var D=k.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=T,D.canvas.height=O,D.drawImage(o,0,0,s,c,b,b,E,S);try{n.qrcode.decodeRobustlyAsync(k).then(function(z){i(aP.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return B4e.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!DU.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Xt.QR_CODE,Xt.AZTEC,Xt.CODABAR,Xt.CODE_39,Xt.CODE_93,Xt.CODE_128,Xt.DATA_MATRIX,Xt.MAXICODE,Xt.ITF,Xt.EAN_13,Xt.EAN_8,Xt.PDF_417,Xt.RSS_14,Xt.RSS_EXPANDED,Xt.UPC_A,Xt.UPC_E,Xt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];b4e(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(vc(t))return!0;if(!vc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(vc(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return vc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),s=function(u){if(u<Yo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yo.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};s(o.width),s(o.height),o.width=c(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=vc(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,s={x:0,y:0,width:t,height:r},c=o?this.getShadedRegionBounds(t,r,a):s,u=this.createCanvasElement(c.width,c.height),h={willReadFrequently:!0},p=u.getContext("2d",h);p.canvas.width=c.width,p.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=p,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=y0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,aP.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=y0.codeParseError(i);return r(a,E4e.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,s=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*s,h=this.qrRegion.x*o,p=this.qrRegion.y*s;this.context.drawImage(a,h,p,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(g){!g&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){v()})):v()}).catch(function(g){i.logger.logError("Error happend while scanning context",g),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(_){if(_ in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},s=Object.keys(t);if(s.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(o(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var p=t.deviceId;if(typeof p=="string")return{deviceId:p};if(typeof p=="object"){if(a in p)return{deviceId:{exact:p["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof p;throw"Invalid type of 'deviceId' = ".concat(v)}}}var g=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(g)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,o=(i-r)/2;return{x:a,y:o,width:t,height:r}}else{var s=t,c=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(s,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Yo.BORDER_SHADER_MATCH_COLOR:Yo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=vc(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,s=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Yo.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,o,s){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Yo.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),s?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),hP;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hP||(hP={}));const q4e=()=>{const{products:e,updateProduct:t,addStockMovement:r,currentUser:n}=Ji(),[i,a]=L.useState("full"),[o,s]=L.useState(""),[c,u]=L.useState(""),[h,p]=L.useState(""),[v,g]=L.useState([]),[_,b]=L.useState(!1),[E,S]=L.useState(!1),[T,O]=L.useState(""),[k,D]=L.useState(null),z=Vu.useRef(null),[F,q]=L.useState(!1),B=Vu.useRef(null),ee=L.useMemo(()=>e.filter(H=>{if(H.deletedAt||i==="category"&&o&&H.category!==o||i==="zone"&&c&&H.storageZone!==c)return!1;if(h){const X=h.toLowerCase();return H.reference.toLowerCase().includes(X)||H.designation.toLowerCase().includes(X)}return!0}),[e,i,o,c,h]),W=L.useMemo(()=>Array.from(new Set(e.map(H=>H.category).filter(Boolean))),[e]),U=L.useMemo(()=>Array.from(new Set(e.map(H=>H.storageZone).filter(Boolean))),[e]),K=L.useCallback(()=>{const H=ee.map(X=>({productId:X.id,reference:X.reference,designation:X.designation,category:X.category,storageZone:X.storageZone,shelf:X.shelf,position:X.position,systemStock:X.currentStock,countedStock:null,difference:0,status:"pending",notes:""}));g(H),b(!0)},[ee]),oe=L.useCallback((H,X)=>{g(ne=>ne.map(Oe=>{if(Oe.productId===H){const Ie=X!==null?X-Oe.systemStock:0;return{...Oe,countedStock:X,difference:Ie,status:X!==null?"counted":"pending"}}return Oe}))},[]),ae=L.useCallback((H,X)=>{g(ne=>ne.map(Oe=>Oe.productId===H?{...Oe,notes:X}:Oe))},[]),Re=L.useCallback(H=>{g(X=>X.map(ne=>ne.productId===H?{...ne,status:"validated"}:ne))},[]),ke=L.useCallback(async()=>{const H=v.filter(ne=>ne.status==="validated"&&ne.difference!==0);if(H.length===0){alert("Aucun ajustement  effectuer");return}const X=`Vous allez ajuster ${H.length} produit(s).
Total carts: ${H.reduce((ne,Oe)=>ne+Math.abs(Oe.difference),0)}

Confirmer l'ajustement ?`;if(window.confirm(X))try{for(const ne of H)await t(ne.productId,{currentStock:ne.countedStock}),await r({productId:ne.productId,productReference:ne.reference,productDesignation:ne.designation,movementType:"adjustment",quantity:Math.abs(ne.difference),previousStock:ne.systemStock,newStock:ne.countedStock,userId:n.id,userName:n.name,reason:`Inventaire - ${ne.notes||(ne.difference>0?"Surplus dtect":"Manquant dtect")}`,notes:ne.notes});alert(` Inventaire valid!
${H.length} ajustement(s) effectu(s)`),b(!1),g([])}catch(ne){console.error("Erreur lors de la validation:",ne),alert(" Erreur lors de la validation de l'inventaire")}},[v,t,r,n]),we=L.useMemo(()=>{const H=v.length,X=v.filter(be=>be.status!=="pending").length,ne=v.filter(be=>be.status==="validated").length,Oe=v.filter(be=>be.difference!==0).length,Ie=v.reduce((be,Pe)=>be+Pe.difference,0);return{total:H,counted:X,validated:ne,withDifferences:Oe,totalDifference:Ie}},[v]),_e=L.useMemo(()=>E?v.filter(H=>H.difference!==0):v,[v,E]),$e=L.useCallback(H=>{if(!H.trim())return;const X=v.find(ne=>ne.reference.toLowerCase()===H.toLowerCase());if(X){D(X.productId),setTimeout(()=>D(null),2e3);const ne=document.getElementById(`inventory-item-${X.productId}`);ne&&ne.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const Oe=document.querySelector(`#count-input-${X.productId}`);Oe&&(Oe.focus(),Oe.select())},300)}else alert(` Produit non trouv: ${H}
Ce produit n'est pas dans la liste d'inventaire actuelle.`);O(""),setTimeout(()=>{var ne;return(ne=z.current)==null?void 0:ne.focus()},100)},[v]),We=L.useCallback(async()=>{if(!(!B.current||!B.current.isScanning))try{await B.current.stop(),q(!1)}catch(H){console.error("Erreur lors de l'arrt de la camra:",H)}},[]);L.useEffect(()=>{if(!F)return;(async()=>{try{let X=0;const ne=10;for(;X<ne&&!document.getElementById("barcode-reader");)await new Promise(be=>setTimeout(be,100)),X++;if(!document.getElementById("barcode-reader"))throw new Error("lment barcode-reader non trouv aprs plusieurs tentatives");B.current||(B.current=new V4e("barcode-reader")),await B.current.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},Ie=>{O(Ie),We(),$e(Ie)},()=>{})}catch(X){console.error("Erreur lors du dmarrage de la camra:",X),alert("Impossible d'accder  la camra. Vrifiez les permissions."),q(!1)}})()},[F,$e,We]),L.useEffect(()=>()=>{B.current&&B.current.isScanning&&B.current.stop().catch(console.error)},[]);const j=L.useCallback(async()=>{q(!0)},[]),Y=L.useCallback(()=>{const H=[["Rfrence","Dsignation","Catgorie","Zone","Stock Systme","Stock Compt","cart","Statut","Notes"].join(";"),...v.map(Oe=>[Oe.reference,Oe.designation,Oe.category,Oe.storageZone||"",Oe.systemStock,Oe.countedStock??"",Oe.difference,Oe.status==="pending"?"Non compt":Oe.status==="counted"?"Compt":"Valid",Oe.notes].join(";"))].join(`
`),X=new Blob([H],{type:"text/csv;charset=utf-8;"}),ne=document.createElement("a");ne.href=URL.createObjectURL(X),ne.download=`inventaire_${new Date().toISOString().split("T")[0]}.csv`,ne.click()},[v]);return _?y.jsxs("div",{className:"inventory-page",children:[y.jsxs("div",{className:"inventory-header",children:[y.jsxs("div",{children:[y.jsx("h1",{children:"Inventaire en cours"}),y.jsx("p",{className:"subtitle",children:i==="full"?"Inventaire complet":i==="category"?`Catgorie: ${o}`:`Zone: ${c}`})]}),y.jsxs("div",{className:"header-actions",children:[y.jsx("button",{onClick:Y,className:"btn btn-secondary",children:"Exporter CSV"}),y.jsx("button",{onClick:()=>{window.confirm("Abandonner l'inventaire en cours ?")&&(b(!1),g([]))},className:"btn btn-danger",children:"Abandonner"})]})]}),y.jsxs("div",{className:"inventory-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Total produits"}),y.jsx("p",{className:"stat-value",children:we.total})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Compts"}),y.jsxs("p",{className:"stat-value",style:{color:"#10b981"},children:[we.counted," / ",we.total]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"Valids"}),y.jsx("p",{className:"stat-value",style:{color:"#3b82f6"},children:we.validated})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"carts dtects"}),y.jsx("p",{className:"stat-value",style:{color:we.withDifferences>0?"#f59e0b":"var(--text-color)"},children:we.withDifferences})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("h3",{children:"cart total"}),y.jsxs("p",{className:"stat-value",style:{color:we.totalDifference!==0?"#ef4444":"var(--text-color)"},children:[we.totalDifference>0?"+":"",we.totalDifference]})]})]}),y.jsxs("div",{className:"barcode-scanner",children:[y.jsx("button",{onClick:F?We:j,className:`btn btn-camera ${F?"scanning":""}`,title:F?"Arrter la camra":"Scanner avec la camra",children:F?y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})}):y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),y.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}),y.jsx("div",{className:"scanner-icon",children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("rect",{x:"3",y:"5",width:"2",height:"14"}),y.jsx("rect",{x:"7",y:"5",width:"1",height:"14"}),y.jsx("rect",{x:"10",y:"5",width:"2",height:"14"}),y.jsx("rect",{x:"14",y:"5",width:"1",height:"14"}),y.jsx("rect",{x:"17",y:"5",width:"3",height:"14"})]})}),y.jsx("input",{ref:z,type:"text",value:T,onChange:H=>O(H.target.value),onKeyDown:H=>{H.key==="Enter"&&$e(T)},placeholder:"Scanner un code-barres ou saisir une rfrence...",className:"barcode-input",autoFocus:!0,disabled:F}),y.jsx("button",{onClick:()=>$e(T),className:"btn btn-scan",disabled:!T.trim()||F,children:"Rechercher"})]}),F&&y.jsx("div",{className:"camera-scanner-container",children:y.jsxs("div",{className:"camera-scanner-overlay",children:[y.jsxs("div",{className:"camera-scanner-header",children:[y.jsx("h3",{children:"Scanner un code-barres"}),y.jsx("button",{onClick:We,className:"btn-close-camera",children:""})]}),y.jsx("div",{id:"barcode-reader",className:"barcode-reader"}),y.jsx("p",{className:"camera-instructions",children:"Positionnez le code-barres dans le cadre"})]})}),y.jsxs("div",{className:"inventory-filters",children:[y.jsxs("label",{className:"checkbox-label",children:[y.jsx("input",{type:"checkbox",checked:E,onChange:H=>S(H.target.checked)}),"Afficher uniquement les carts"]}),y.jsxs("button",{onClick:ke,disabled:we.validated===0,className:"btn btn-primary",children:["Valider l'inventaire (",we.validated," produit",we.validated>1?"s":"",")"]})]}),y.jsx("div",{className:"inventory-list",children:_e.map(H=>y.jsxs("div",{id:`inventory-item-${H.productId}`,className:`inventory-item ${H.status} ${H.difference!==0?"has-difference":""} ${k===H.productId?"scanned":""}`,children:[y.jsxs("div",{className:"item-info",children:[y.jsxs("div",{className:"item-header",children:[y.jsx("span",{className:"item-reference",children:H.reference}),y.jsx("span",{className:`item-status ${H.status}`,children:H.status==="pending"?"  compter":H.status==="counted"?" Compt":" Valid"})]}),y.jsx("div",{className:"item-designation",children:H.designation}),y.jsxs("div",{className:"item-details",children:[y.jsx("span",{children:H.category}),H.storageZone&&y.jsxs("span",{children:[H.storageZone,H.shelf&&` - ${H.shelf}`,H.position&&` - ${H.position}`]})]})]}),y.jsxs("div",{className:"item-counting",children:[y.jsxs("div",{className:"stock-info",children:[y.jsxs("div",{className:"stock-system",children:[y.jsx("label",{children:"Stock systme"}),y.jsx("span",{className:"stock-value",children:H.systemStock})]}),y.jsxs("div",{className:"stock-counted",children:[y.jsx("label",{children:"Stock compt"}),y.jsx("input",{id:`count-input-${H.productId}`,type:"number",min:"0",value:H.countedStock??"",onChange:X=>oe(H.productId,X.target.value?parseInt(X.target.value):null),placeholder:"0",className:"count-input",disabled:H.status==="validated"})]}),H.countedStock!==null&&y.jsxs("div",{className:`stock-difference ${H.difference>0?"positive":H.difference<0?"negative":""}`,children:[y.jsx("label",{children:"cart"}),y.jsxs("span",{className:"difference-value",children:[H.difference>0?"+":"",H.difference]})]})]}),H.difference!==0&&H.status!=="validated"&&y.jsx("div",{className:"item-notes",children:y.jsx("input",{type:"text",placeholder:"Notes sur l'cart (optionnel)...",value:H.notes,onChange:X=>ae(H.productId,X.target.value),className:"notes-input"})}),H.status==="counted"&&y.jsx("button",{onClick:()=>Re(H.productId),className:"btn btn-validate",children:"Valider le comptage"})]})]},H.productId))})]}):y.jsxs("div",{className:"inventory-page",children:[y.jsx("h1",{children:"Mode Inventaire"}),y.jsx("p",{className:"subtitle",children:"Comptez physiquement vos produits et ajustez les stocks"}),y.jsx("div",{className:"inventory-setup",children:y.jsxs("div",{className:"setup-card",children:[y.jsx("h2",{children:"Configuration de l'inventaire"}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Type d'inventaire"}),y.jsxs("select",{value:i,onChange:H=>a(H.target.value),className:"form-control",children:[y.jsx("option",{value:"full",children:"Inventaire Complet"}),y.jsx("option",{value:"category",children:"Par Catgorie"}),y.jsx("option",{value:"zone",children:"Par Zone de Stockage"})]})]}),i==="category"&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Catgorie"}),y.jsxs("select",{value:o,onChange:H=>s(H.target.value),className:"form-control",children:[y.jsx("option",{value:"",children:"Slectionner une catgorie"}),W.map(H=>y.jsx("option",{value:H,children:H},H))]})]}),i==="zone"&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Zone de stockage"}),y.jsxs("select",{value:c,onChange:H=>u(H.target.value),className:"form-control",children:[y.jsx("option",{value:"",children:"Slectionner une zone"}),U.map(H=>y.jsx("option",{value:H,children:H},H))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Recherche (optionnel)"}),y.jsx("input",{type:"text",placeholder:"Filtrer par rfrence ou dsignation...",value:h,onChange:H=>p(H.target.value),className:"form-control"})]}),y.jsxs("div",{className:"inventory-preview",children:[y.jsxs("h3",{children:["Produits  inventorier: ",ee.length]}),ee.length>0&&y.jsxs("div",{className:"preview-list",children:[ee.slice(0,5).map(H=>y.jsxs("div",{className:"preview-item",children:[y.jsx("span",{className:"preview-ref",children:H.reference}),y.jsx("span",{className:"preview-name",children:H.designation}),y.jsxs("span",{className:"preview-stock",children:["Stock: ",H.currentStock]})]},H.id)),ee.length>5&&y.jsxs("p",{className:"preview-more",children:["+ ",ee.length-5," autres produits"]})]})]}),y.jsx("button",{onClick:K,disabled:ee.length===0,className:"btn btn-primary btn-large",children:"Dmarrer l'inventaire"})]})})]})},G4e=()=>{const{users:e,updateUserRole:t,createUser:r,deleteUser:n,currentUser:i}=Ji(),[a,o]=L.useState(null),[s,c]=L.useState(!1),[u,h]=L.useState(!1),[p,v]=L.useState(""),[g,_]=L.useState("all"),[b,E]=L.useState(""),[S,T]=L.useState(""),[O,k]=L.useState(""),[D,z]=L.useState("user"),[F,q]=L.useState(""),B=e.filter(_e=>{const $e=_e.name.toLowerCase().includes(p.toLowerCase())||_e.username.toLowerCase().includes(p.toLowerCase()),We=g==="all"||_e.role===g;return $e&&We}),ee=async(_e,$e)=>{try{await t(_e,$e),c(!1),o(null)}catch(We){console.error("Erreur lors de la modification du rle:",We),alert("Erreur lors de la modification du rle")}},W=_e=>{o(_e),c(!0)},U=()=>{o(null),c(!1)},K=()=>{h(!0),q(""),E(""),T(""),k(""),z("user")},oe=()=>{h(!1),q(""),E(""),T(""),k(""),z("user")},ae=async _e=>{if(_e.preventDefault(),q(""),!b||!S||!O){q("Tous les champs sont requis");return}if(O.length<6){q("Le mot de passe doit contenir au moins 6 caractres");return}try{await r(b,S,O,D),oe(),alert("Utilisateur cr avec succs !")}catch($e){q($e.message||"Erreur lors de la cration de l'utilisateur")}},Re=async _e=>{if(_e.id===(i==null?void 0:i.id)){alert("Vous ne pouvez pas supprimer votre propre compte");return}if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur "${_e.name}" ?`))try{await n(_e.id),alert("Utilisateur supprim avec succs")}catch($e){alert($e.message||"Erreur lors de la suppression de l'utilisateur")}},ke=_e=>_e==="manager"?"role-badge-manager":"role-badge-user",we=_e=>_e==="manager"?"Gestionnaire":"Utilisateur";return y.jsxs("div",{className:"user-management-container",children:[y.jsxs("div",{className:"user-management-header",children:[y.jsxs("div",{children:[y.jsx("h1",{children:"Gestion des Utilisateurs"}),y.jsx("p",{className:"subtitle",children:"Grer les rles et permissions des utilisateurs"})]}),y.jsxs("button",{className:"btn-create-user",onClick:K,children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),y.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),y.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Nouvel Utilisateur"]})]}),y.jsxs("div",{className:"user-management-filters",children:[y.jsxs("div",{className:"search-box",children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]}),y.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:p,onChange:_e=>v(_e.target.value)})]}),y.jsxs("div",{className:"filter-tabs",children:[y.jsxs("button",{className:`filter-tab ${g==="all"?"active":""}`,onClick:()=>_("all"),children:["Tous (",e.length,")"]}),y.jsxs("button",{className:`filter-tab ${g==="manager"?"active":""}`,onClick:()=>_("manager"),children:["Gestionnaires (",e.filter(_e=>_e.role==="manager").length,")"]}),y.jsxs("button",{className:`filter-tab ${g==="user"?"active":""}`,onClick:()=>_("user"),children:["Utilisateurs (",e.filter(_e=>_e.role==="user").length,")"]})]})]}),y.jsx("div",{className:"users-grid",children:B.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),y.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),y.jsx("p",{children:"Aucun utilisateur trouv"})]}):B.map(_e=>y.jsxs("div",{className:"user-card",children:[y.jsxs("div",{className:"user-card-header",children:[y.jsx("div",{className:"user-avatar-large",children:_e.name.charAt(0).toUpperCase()}),y.jsx("span",{className:`role-badge ${ke(_e.role)}`,children:we(_e.role)})]}),y.jsxs("div",{className:"user-card-body",children:[y.jsx("h3",{className:"user-card-name",children:_e.name}),y.jsxs("p",{className:"user-card-username",children:["@",_e.username]}),y.jsx("div",{className:"user-card-info",children:y.jsxs("div",{className:"info-item",children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),y.jsx("span",{children:_e.role==="manager"?"Accs complet":"Accs limit"})]})})]}),y.jsxs("div",{className:"user-card-actions",children:[y.jsxs("button",{className:"btn-modify-role",onClick:()=>W(_e),children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 20h9"}),y.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),"Modifier le rle"]}),_e.id!==(i==null?void 0:i.id)&&y.jsx("button",{className:"btn-delete-user",onClick:()=>Re(_e),title:"Supprimer l'utilisateur",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"3 6 5 6 21 6"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},_e.id))}),s&&a&&y.jsx("div",{className:"modal-overlay",onClick:U,children:y.jsxs("div",{className:"modal-content",onClick:_e=>_e.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:"Modifier le rle"}),y.jsx("button",{className:"modal-close",onClick:U,children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),y.jsxs("div",{className:"modal-body",children:[y.jsxs("div",{className:"user-info-modal",children:[y.jsx("div",{className:"user-avatar-large",children:a.name.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("h3",{children:a.name}),y.jsxs("p",{className:"text-muted",children:["@",a.username]})]})]}),y.jsxs("div",{className:"role-selection",children:[y.jsx("p",{className:"role-selection-label",children:"Slectionnez le nouveau rle :"}),y.jsxs("div",{className:"role-options",children:[y.jsxs("div",{className:`role-option ${a.role==="user"?"selected":""}`,onClick:()=>ee(a.id,"user"),children:[y.jsx("div",{className:"role-option-icon",children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),y.jsxs("div",{className:"role-option-content",children:[y.jsx("h4",{children:"Utilisateur"}),y.jsx("p",{children:"Accs limit au catalogue et  ses demandes"})]}),a.role==="user"&&y.jsx("svg",{className:"check-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),y.jsxs("div",{className:`role-option ${a.role==="manager"?"selected":""}`,onClick:()=>ee(a.id,"manager"),children:[y.jsx("div",{className:"role-option-icon role-option-icon-manager",children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),y.jsxs("div",{className:"role-option-content",children:[y.jsx("h4",{children:"Gestionnaire"}),y.jsx("p",{children:"Accs complet  toutes les fonctionnalits"})]}),a.role==="manager"&&y.jsx("svg",{className:"check-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})]})]})]})}),u&&y.jsx("div",{className:"modal-overlay",onClick:oe,children:y.jsxs("div",{className:"modal-content create-user-modal",onClick:_e=>_e.stopPropagation(),children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:"Crer un nouvel utilisateur"}),y.jsx("button",{className:"modal-close",onClick:oe,children:y.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),y.jsxs("form",{onSubmit:ae,className:"modal-body",children:[F&&y.jsxs("div",{className:"error-message",children:[y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),y.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),F]}),y.jsxs("div",{className:"form-group-create",children:[y.jsx("label",{children:"Nom d'utilisateur *"}),y.jsx("input",{type:"text",value:b,onChange:_e=>E(_e.target.value),placeholder:"Ex: jdupont",required:!0})]}),y.jsxs("div",{className:"form-group-create",children:[y.jsx("label",{children:"Nom complet *"}),y.jsx("input",{type:"text",value:S,onChange:_e=>T(_e.target.value),placeholder:"Ex: Jean Dupont",required:!0})]}),y.jsxs("div",{className:"form-group-create",children:[y.jsx("label",{children:"Mot de passe *"}),y.jsx("input",{type:"password",value:O,onChange:_e=>k(_e.target.value),placeholder:"Minimum 6 caractres",minLength:6,required:!0})]}),y.jsxs("div",{className:"form-group-create",children:[y.jsx("label",{children:"Rle"}),y.jsxs("div",{className:"role-options-create",children:[y.jsxs("div",{className:`role-option-create ${D==="user"?"selected":""}`,onClick:()=>z("user"),children:[y.jsx("div",{className:"role-option-icon",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),y.jsxs("div",{className:"role-option-content",children:[y.jsx("h4",{children:"Utilisateur"}),y.jsx("p",{children:"Accs limit au catalogue"})]}),D==="user"&&y.jsx("svg",{className:"check-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),y.jsxs("div",{className:`role-option-create ${D==="manager"?"selected":""}`,onClick:()=>z("manager"),children:[y.jsx("div",{className:"role-option-icon role-option-icon-manager",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),y.jsxs("div",{className:"role-option-content",children:[y.jsx("h4",{children:"Gestionnaire"}),y.jsx("p",{children:"Accs complet  l'application"})]}),D==="manager"&&y.jsx("svg",{className:"check-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})]}),y.jsxs("div",{className:"modal-actions-create",children:[y.jsx("button",{type:"button",className:"btn-cancel",onClick:oe,children:"Annuler"}),y.jsxs("button",{type:"submit",className:"btn-submit",children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),y.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),y.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Crer l'utilisateur"]})]})]})]})})]})},K4e=()=>{const{products:e}=Ji(),[t,r]=L.useState([]),[n,i]=L.useState(""),[a,o]=L.useState(""),[s,c]=L.useState(!1),u=L.useRef({}),h=L.useCallback(D=>D?D.replace(/tagre\s*/gi,"").replace(/Position\s*/gi,"").replace(/\s*-\s*/g,"-").replace(/\.+/g,"-").replace(/-+/g,"-"):"",[]),p=L.useMemo(()=>Array.from(new Set(e.map(D=>D.location?h(D.location).split("-")[0]:"").filter(D=>D))).sort(),[e,h]),v=L.useMemo(()=>e.filter(D=>{const z=D.reference.toLowerCase().includes(n.toLowerCase())||D.designation.toLowerCase().includes(n.toLowerCase()),F=!a||D.location&&h(D.location).startsWith(a);return z&&F}),[e,n,a,h]),g=D=>{const z=t.find(F=>F.product.id===D.id);r(z?t.map(F=>F.product.id===D.id?{...F,quantity:F.quantity+1}:F):[...t,{product:D,quantity:1}])},_=D=>{r(t.filter(z=>z.product.id!==D))},b=(D,z)=>{z<1||r(t.map(F=>F.product.id===D?{...F,quantity:z}:F))},E=()=>{if(!a)return;const D=v.filter(F=>F.location&&h(F.location).startsWith(a)),z=[...t];D.forEach(F=>{z.find(B=>B.product.id===F.id)||z.push({product:F,quantity:1})}),r(z)};L.useEffect(()=>{s&&setTimeout(()=>{t.forEach(({product:D,quantity:z})=>{for(let F=0;F<z;F++){const q=`${D.id}-${F}`,B=u.current[q];if(B)try{f_(B,D.reference,{format:"CODE128",width:1.5,height:30,displayValue:!1,margin:0})}catch(ee){console.error("Error generating barcode:",ee)}}})},100)},[s,t]);const S=()=>{c(!0)},T=()=>{const D=new ir({orientation:"portrait",unit:"mm",format:"a4"}),z=210,F=297,q=2,B=29,ee=0,W=0,U=80,K=10,oe=1.5,ae=()=>{D.setDrawColor(200,200,200);const ke=2,we=2;for(let _e=1;_e<=q;_e++){const $e=_e*U;let We=0;const j=F;for(;We<j;){const Y=Math.min(We+ke,j);D.line($e,We,$e,Y),We=Y+we}}for(let _e=1;_e<=B;_e++){const $e=_e*K;let We=0;const j=z;for(;We<j;){const Y=Math.min(We+ke,j);D.line(We,$e,Y,$e),We=Y+we}}};let Re=0;ae(),t.forEach(({product:ke,quantity:we})=>{for(let _e=0;_e<we;_e++){const $e=Re%q,We=Math.floor(Re%(q*B)/q);Re>0&&Re%(q*B)===0&&(D.addPage(),ae());const j=ee+$e*U,Y=W+We*K,H=document.createElement("canvas");try{f_(H,ke.reference,{format:"CODE128",width:1.5,height:40,displayValue:!1,margin:0});const X=H.toDataURL("image/png"),ne=22,Oe=8,Ie=Y+(K-Oe)/2;D.addImage(X,"PNG",j+oe,Ie,ne,Oe);const be=j+oe+ne+2,Pe=h(ke.location)||"N/A";D.setFontSize(5.5);const ze=D.getTextWidth(Pe),Me=1,st=ze+2*Me,Fe=U-(be-j)-oe-st-2;D.setTextColor(0,0,0),D.setFontSize(6),D.setFont("helvetica","normal");let me=ke.designation;if(D.getTextWidth(me)>Fe){for(;D.getTextWidth(me+"...")>Fe&&me.length>0;)me=me.substring(0,me.length-1);me+="..."}const Dt=Y+K/2-.5;D.text(me,be,Dt),D.setTextColor(255,87,34),D.setFontSize(6.5),D.setFont("helvetica","bold");const lt=Y+K/2+2.5;D.text(ke.reference,be,lt);const Ot=3.5,ot=j+U-oe-st,Ut=Y+(K-Ot)/2;D.setFillColor(220,220,220),D.roundedRect(ot,Ut,st,Ot,.5,.5,"F"),D.setTextColor(0,0,0),D.setFontSize(5.5),D.setFont("helvetica","normal"),D.text(Pe,ot+Me,Ut+Ot/2+1)}catch(X){console.error("Error generating barcode for PDF:",X)}Re++}}),D.save(`etiquettes_${new Date().toISOString().split("T")[0]}.pdf`)},O=()=>t.reduce((D,z)=>D+z.quantity,0),k=()=>{const D=[];return t.forEach(({product:z,quantity:F})=>{for(let q=0;q<F;q++){const B=`${z.id}-${q}`;D.push(y.jsxs("div",{className:"label-preview",children:[y.jsx("canvas",{ref:ee=>{ee&&(u.current[B]=ee)},className:"label-barcode"}),y.jsxs("div",{className:"label-header",children:[y.jsx("div",{className:"label-reference",children:z.reference}),y.jsx("div",{className:"label-location",children:h(z.location)||"N/A"})]}),y.jsx("div",{className:"label-designation",children:z.designation})]},B))}}),D};return s?y.jsxs("div",{className:"label-generator-page",children:[y.jsxs("div",{className:"page-header",children:[y.jsx("h1",{children:"Prvisualisation des tiquettes"}),y.jsxs("div",{className:"header-actions",children:[y.jsx("button",{onClick:()=>c(!1),className:"btn btn-secondary",children:" Retour"}),y.jsx("button",{onClick:T,className:"btn btn-primary",children:"Gnrer le PDF"})]})]}),y.jsxs("div",{className:"preview-info",children:[y.jsxs("p",{children:["Total: ",y.jsxs("strong",{children:[O()," tiquettes"]})]}),y.jsxs("p",{children:["Pages: ",y.jsx("strong",{children:Math.ceil(O()/58)})]}),y.jsx("p",{className:"preview-note",children:"Format: 2 colonnes  29 lignes (58 tiquettes par page) - Dimensions: 8cm  1cm"})]}),y.jsx("div",{className:"labels-grid",children:k()})]}):y.jsxs("div",{className:"label-generator-page",children:[y.jsx("div",{className:"page-header",children:y.jsxs("div",{className:"page-title-section",children:[y.jsx("h1",{children:"Gnrateur d'tiquettes"}),y.jsx("p",{className:"page-subtitle",children:"Crez et imprimez vos tiquettes de produits"})]})}),y.jsxs("div",{className:"generator-container",children:[y.jsxs("div",{className:"products-selection",children:[y.jsx("h2",{children:"Slectionner les Produits"}),y.jsx("input",{type:"text",placeholder:"Rechercher par rfrence ou dsignation...",value:n,onChange:D=>i(D.target.value),className:"search-input"}),y.jsxs("div",{className:"filter-section",children:[y.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"zone-filter",children:[y.jsx("option",{value:"",children:"Toutes les zones"}),p.map(D=>y.jsx("option",{value:D,children:D},D))]}),a&&y.jsx("button",{onClick:E,className:"btn-select-zone",title:"Slectionner tous les produits de cette zone",children:"Slectionner toute la zone"})]}),y.jsx("div",{className:"products-list",children:v.map(D=>y.jsxs("div",{className:"product-item",children:[y.jsxs("div",{className:"product-info",children:[y.jsx("div",{className:"product-ref",children:D.reference}),y.jsx("div",{className:"product-name",children:D.designation}),y.jsx("div",{className:"product-location",children:h(D.location)||"N/A"})]}),y.jsx("button",{onClick:()=>g(D),className:"btn-add",title:"Ajouter",children:"+"})]},D.id))})]}),y.jsxs("div",{className:"selected-products",children:[y.jsxs("h2",{children:["Produits Slectionns (",O()," tiquettes)"]}),t.length===0?y.jsx("p",{className:"no-selection",children:"Aucun produit slectionn"}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"selected-list",children:t.map(({product:D,quantity:z})=>y.jsxs("div",{className:"selected-item",children:[y.jsxs("div",{className:"selected-info",children:[y.jsx("div",{className:"selected-ref",children:D.reference}),y.jsx("div",{className:"selected-name",children:D.designation})]}),y.jsxs("div",{className:"selected-controls",children:[y.jsx("input",{type:"number",min:"1",value:z,onChange:F=>b(D.id,parseInt(F.target.value)||1),className:"quantity-input"}),y.jsx("button",{onClick:()=>_(D.id),className:"btn-remove",title:"Retirer",children:""})]})]},D.id))}),y.jsx("div",{className:"preview-actions",children:y.jsxs("button",{onClick:S,className:"btn btn-primary",disabled:t.length===0,children:["Prvisualiser (",O()," tiquettes)"]})})]})]})]})]})},ro=({children:e,allowedRole:t})=>{const{currentUser:r}=Ji();return r?t&&r.role!==t?y.jsx(P1,{to:r.role==="manager"?"/dashboard":"/catalog",replace:!0}):y.jsx(y.Fragment,{children:e}):y.jsx(P1,{to:"/",replace:!0})},X4e=()=>{const{currentUser:e}=Ji();return y.jsxs($H,{children:[y.jsx(qi,{path:"/",element:e?y.jsx(P1,{to:e.role==="manager"?"/dashboard":"/catalog",replace:!0}):y.jsx(jG,{})}),y.jsx(qi,{path:"/register",element:e?y.jsx(P1,{to:e.role==="manager"?"/dashboard":"/catalog",replace:!0}):y.jsx(MG,{})}),y.jsxs(qi,{element:y.jsx(ro,{children:y.jsx(FG,{})}),children:[y.jsx(qi,{path:"/dashboard",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(BG,{})})}),y.jsx(qi,{path:"/products",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(efe,{})})}),y.jsx(qi,{path:"/add-product",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(UG,{})})}),y.jsx(qi,{path:"/settings",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(tfe,{})})}),y.jsx(qi,{path:"/requests",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(rfe,{})})}),y.jsx(qi,{path:"/orders",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(nfe,{})})}),y.jsx(qi,{path:"/history",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(y4e,{})})}),y.jsx(qi,{path:"/statistics",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(m4e,{})})}),y.jsx(qi,{path:"/exit-sheet",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(w4e,{})})}),y.jsx(qi,{path:"/inventory",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(q4e,{})})}),y.jsx(qi,{path:"/user-management",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(G4e,{})})}),y.jsx(qi,{path:"/label-generator",element:y.jsx(ro,{allowedRole:"manager",children:y.jsx(K4e,{})})}),y.jsx(qi,{path:"/catalog",element:y.jsx(ro,{allowedRole:"user",children:y.jsx(v4e,{})})}),y.jsx(qi,{path:"/my-requests",element:y.jsx(ro,{allowedRole:"user",children:y.jsx(x4e,{})})})]}),y.jsx(qi,{path:"*",element:y.jsx(P1,{to:"/",replace:!0})})]})},Y4e=()=>y.jsx(KH,{basename:"/GestionDesStocks",children:y.jsx(RG,{children:y.jsx(LG,{children:y.jsx(X4e,{})})})});Mb.createRoot(document.getElementById("root")).render(y.jsx(Vu.StrictMode,{children:y.jsx(Y4e,{})}));export{mn as _,Aa as c,bl as g};
