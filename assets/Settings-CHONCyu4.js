import{u as U,j as e}from"./index-D0yL_qLc.js";import{r as c}from"./react-vendor-D8CQoBvY.js";import"./supabase-BffQhpPo.js";const F=()=>{const{categories:p,addCategory:g,updateCategory:v,deleteCategory:b,units:u,addUnit:f,deleteUnit:N,storageZones:j,addStorageZone:C,updateStorageZone:k,deleteStorageZone:y}=U(),[a,x]=c.useState({name:"",description:""}),[i,h]=c.useState({name:"",abbreviation:"",isDefault:!1}),[l,m]=c.useState({name:"",description:""}),[s,o]=c.useState(null),[n,d]=c.useState(null),w=t=>{t.preventDefault(),a.name.trim()&&(g(a),x({name:"",description:""}))},A=t=>{t.preventDefault(),s&&s.name.trim()&&(v(s.id,{name:s.name,description:s.description}),o(null))},M=t=>{t.preventDefault(),i.name.trim()&&i.abbreviation.trim()&&(f(i),h({name:"",abbreviation:"",isDefault:!1}))},D=t=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette catégorie ?")&&b(t)},S=t=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette unité ?")&&N(t)},Z=t=>{t.preventDefault(),l.name.trim()&&(C(l),m({name:"",description:""}))},W=t=>{t.preventDefault(),n&&n.name.trim()&&(k(n.id,{name:n.name,description:n.description}),d(null))},B=t=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette zone ?")&&y(t)};return e.jsxs("div",{className:"settings-page",children:[e.jsx("h1",{children:"Paramètres"}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"Gestion des Catégories"}),e.jsx("form",{onSubmit:w,className:"add-form",children:e.jsxs("div",{className:"form-row",children:[e.jsx("input",{type:"text",placeholder:"Nom de la catégorie",value:a.name,onChange:t=>x({...a,name:t.target.value}),className:"form-input"}),e.jsx("input",{type:"text",placeholder:"Description (optionnel)",value:a.description,onChange:t=>x({...a,description:t.target.value}),className:"form-input"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),e.jsx("div",{className:"items-list",children:p.length===0?e.jsx("p",{className:"no-data",children:"Aucune catégorie"}):e.jsxs("table",{className:"settings-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nom"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:p.map(t=>e.jsx("tr",{children:(s==null?void 0:s.id)===t.id?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("input",{type:"text",value:s.name,onChange:r=>o({...s,name:r.target.value}),className:"form-input"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:s.description||"",onChange:r=>o({...s,description:r.target.value}),className:"form-input"})}),e.jsxs("td",{children:[e.jsx("button",{onClick:A,className:"btn-icon btn-edit",title:"Enregistrer",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("button",{onClick:()=>o(null),className:"btn-icon btn-gray",title:"Annuler",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("strong",{children:t.name})}),e.jsx("td",{children:t.description||"-"}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>o(t),className:"btn-icon btn-edit",title:"Modifier",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 20h9"}),e.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),e.jsx("button",{onClick:()=>D(t.id),className:"btn-icon btn-delete",title:"Supprimer",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})]})},t.id))})]})})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"Gestion des Unités"}),e.jsx("p",{className:"section-description",children:"Les unités permettent de définir comment mesurer vos stocks (pièces, kg, L, etc.)"}),e.jsx("form",{onSubmit:M,className:"add-form",children:e.jsxs("div",{className:"form-row",children:[e.jsx("input",{type:"text",placeholder:"Nom de l'unité (ex: Kilogramme)",value:i.name,onChange:t=>h({...i,name:t.target.value}),className:"form-input"}),e.jsx("input",{type:"text",placeholder:"Abréviation (ex: kg)",value:i.abbreviation,onChange:t=>h({...i,abbreviation:t.target.value}),className:"form-input",style:{maxWidth:"150px"}}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:i.isDefault,onChange:t=>h({...i,isDefault:t.target.checked})}),"Par défaut"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),e.jsx("div",{className:"items-list",children:u.length===0?e.jsx("p",{className:"no-data",children:"Aucune unité"}):e.jsxs("table",{className:"settings-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nom"}),e.jsx("th",{children:"Abréviation"}),e.jsx("th",{children:"Par défaut"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:t.name})}),e.jsx("td",{children:t.abbreviation}),e.jsx("td",{children:t.isDefault?"✓":"-"}),e.jsx("td",{children:e.jsx("button",{onClick:()=>S(t.id),className:"btn-icon btn-delete",title:"Supprimer",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})})]},t.id))})]})})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"Gestion des Zones de Stockage"}),e.jsx("p",{className:"section-description",children:"Les zones de stockage permettent d'organiser vos produits par emplacement physique"}),e.jsx("form",{onSubmit:Z,className:"add-form",children:e.jsxs("div",{className:"form-row",children:[e.jsx("input",{type:"text",placeholder:"Nom de la zone (ex: Zone A)",value:l.name,onChange:t=>m({...l,name:t.target.value}),className:"form-input"}),e.jsx("input",{type:"text",placeholder:"Description (optionnel)",value:l.description,onChange:t=>m({...l,description:t.target.value}),className:"form-input"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})}),e.jsx("div",{className:"items-list",children:j.length===0?e.jsx("p",{className:"no-data",children:"Aucune zone de stockage"}):e.jsxs("table",{className:"settings-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nom"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:j.map(t=>e.jsx("tr",{children:(n==null?void 0:n.id)===t.id?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("input",{type:"text",value:n.name,onChange:r=>d({...n,name:r.target.value}),className:"form-input"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.description||"",onChange:r=>d({...n,description:r.target.value}),className:"form-input"})}),e.jsxs("td",{children:[e.jsx("button",{onClick:W,className:"btn-icon btn-edit",title:"Enregistrer",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("button",{onClick:()=>d(null),className:"btn-icon btn-gray",title:"Annuler",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("strong",{children:t.name})}),e.jsx("td",{children:t.description||"-"}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>d(t),className:"btn-icon btn-edit",title:"Modifier",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 20h9"}),e.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),e.jsx("button",{onClick:()=>B(t.id),className:"btn-icon btn-delete",title:"Supprimer",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})})})]})]})},t.id))})]})})]})]})};export{F as default};
